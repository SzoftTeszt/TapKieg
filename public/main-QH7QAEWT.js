import{A as yo,B as t_,C as n_,D as T,E as We,F as ye,G as Wu,H as i_,I as Do,J as Fe,K as Yt,L as aa,M as zu,N as r_,O as Gi,P as bo,Q as o_,R as s_,S as Sn,T as ze,a as _,b as L,c as bt,d as Gm,e as ia,f as Wm,g as zm,h as m,i as Ui,j as ra,k as qm,l as Km,m as Ee,n as Qm,o as Gu,p as Ym,q as Pt,r as Zm,s as Jm,t as oa,u as _e,v as Xm,w as e_,x as at,y as En,z as sa}from"./chunk-GSGJEBQA.js";function a_(e,t){return Object.is(e,t)}var De=null,la=!1,ca=1,Zt=Symbol("SIGNAL");function K(e){let t=De;return De=e,t}function l_(){return De}var Co={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Qu(e){if(la)throw new Error("");if(De===null)return;De.consumerOnSignalRead(e);let t=De.nextProducerIndex++;if(fa(De),t<De.producerNode.length&&De.producerNode[t]!==e&&wo(De)){let n=De.producerNode[t];ha(n,De.producerIndexOfThis[t])}De.producerNode[t]!==e&&(De.producerNode[t]=e,De.producerIndexOfThis[t]=wo(De)?h_(e,De,t):0),De.producerLastReadVersion[t]=e.version}function Q1(){ca++}function c_(e){if(!(wo(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===ca)){if(!e.producerMustRecompute(e)&&!Zu(e)){e.dirty=!1,e.lastCleanEpoch=ca;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=ca}}function u_(e){if(e.liveConsumerNode===void 0)return;let t=la;la=!0;try{for(let n of e.liveConsumerNode)n.dirty||Y1(n)}finally{la=t}}function d_(){return De?.consumerAllowSignalWrites!==!1}function Y1(e){e.dirty=!0,u_(e),e.consumerMarkedDirty?.(e)}function da(e){return e&&(e.nextProducerIndex=0),K(e)}function Yu(e,t){if(K(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(wo(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)ha(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Zu(e){fa(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],i=e.producerLastReadVersion[t];if(i!==n.version||(c_(n),i!==n.version))return!0}return!1}function Ju(e){if(fa(e),wo(e))for(let t=0;t<e.producerNode.length;t++)ha(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function h_(e,t,n){if(f_(e),e.liveConsumerNode.length===0&&p_(e))for(let i=0;i<e.producerNode.length;i++)e.producerIndexOfThis[i]=h_(e.producerNode[i],e,i);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function ha(e,t){if(f_(e),e.liveConsumerNode.length===1&&p_(e))for(let i=0;i<e.producerNode.length;i++)ha(e.producerNode[i],e.producerIndexOfThis[i]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let i=e.liveConsumerIndexOfThis[t],r=e.liveConsumerNode[t];fa(r),r.producerIndexOfThis[i]=t}}function wo(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function fa(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function f_(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function p_(e){return e.producerNode!==void 0}function g_(e){let t=Object.create(Z1);t.computation=e;let n=()=>{if(c_(t),Qu(t),t.value===ua)throw t.error;return t.value};return n[Zt]=t,n}var qu=Symbol("UNSET"),Ku=Symbol("COMPUTING"),ua=Symbol("ERRORED"),Z1=L(_({},Co),{value:qu,dirty:!0,error:null,equal:a_,producerMustRecompute(e){return e.value===qu||e.value===Ku},producerRecomputeValue(e){if(e.value===Ku)throw new Error("Detected cycle in computations.");let t=e.value;e.value=Ku;let n=da(e),i;try{i=e.computation()}catch(r){i=ua,e.error=r}finally{Yu(e,n)}if(t!==qu&&t!==ua&&i!==ua&&e.equal(t,i)){e.value=t;return}e.value=i,e.version++}});function J1(){throw new Error}var m_=J1;function __(){m_()}function v_(e){m_=e}var X1=null;function y_(e){let t=Object.create(b_);t.value=e;let n=()=>(Qu(t),t.value);return n[Zt]=t,n}function Xu(e,t){d_()||__(),e.equal(e.value,t)||(e.value=t,eE(e))}function D_(e,t){d_()||__(),Xu(e,t(e.value))}var b_=L(_({},Co),{equal:a_,value:void 0});function eE(e){e.version++,Q1(),u_(e),X1?.()}function I(e){return typeof e=="function"}function Wi(e){let n=e(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var pa=Wi(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ti(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var he=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(I(i))try{i()}catch(o){t=o instanceof pa?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{w_(o)}catch(s){t=t??[],s instanceof pa?t=[...t,...s.errors]:t.push(s)}}if(t)throw new pa(t)}}add(t){var n;if(t&&t!==this)if(this.closed)w_(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&ti(n,t)}remove(t){let{_finalizers:n}=this;n&&ti(n,t),t instanceof e&&t._removeParent(this)}};he.EMPTY=(()=>{let e=new he;return e.closed=!0,e})();var ed=he.EMPTY;function ga(e){return e instanceof he||e&&"closed"in e&&I(e.remove)&&I(e.add)&&I(e.unsubscribe)}function w_(e){I(e)?e():e.unsubscribe()}var wt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var zi={setTimeout(e,t,...n){let{delegate:i}=zi;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=zi;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ma(e){zi.setTimeout(()=>{let{onUnhandledError:t}=wt;if(t)t(e);else throw e})}function ni(){}var C_=td("C",void 0,void 0);function E_(e){return td("E",void 0,e)}function S_(e){return td("N",e,void 0)}function td(e,t,n){return{kind:e,value:t,error:n}}var ii=null;function qi(e){if(wt.useDeprecatedSynchronousErrorHandling){let t=!ii;if(t&&(ii={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:i}=ii;if(ii=null,n)throw i}}else e()}function I_(e){wt.useDeprecatedSynchronousErrorHandling&&ii&&(ii.errorThrown=!0,ii.error=e)}var ri=class extends he{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ga(t)&&t.add(this)):this.destination=iE}static create(t,n,i){return new Jt(t,n,i)}next(t){this.isStopped?id(S_(t),this):this._next(t)}error(t){this.isStopped?id(E_(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?id(C_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},tE=Function.prototype.bind;function nd(e,t){return tE.call(e,t)}var rd=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){_a(i)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){_a(i)}else _a(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){_a(n)}}},Jt=class extends ri{constructor(t,n,i){super();let r;if(I(t)||!t)r={next:t??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&wt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&nd(t.next,o),error:t.error&&nd(t.error,o),complete:t.complete&&nd(t.complete,o)}):r=t}this.destination=new rd(r)}};function _a(e){wt.useDeprecatedSynchronousErrorHandling?I_(e):ma(e)}function nE(e){throw e}function id(e,t){let{onStoppedNotification:n}=wt;n&&zi.setTimeout(()=>n(e,t))}var iE={closed:!0,next:ni,error:nE,complete:ni};var Ki=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ae(e){return e}function od(...e){return sd(e)}function sd(e){return e.length===0?Ae:e.length===1?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}var N=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=oE(n)?n:new Jt(n,i,r);return qi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=T_(i),new i((r,o)=>{let s=new Jt({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[Ki](){return this}pipe(...n){return sd(n)(this)}toPromise(n){return n=T_(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=t=>new e(t),e})();function T_(e){var t;return(t=e??wt.Promise)!==null&&t!==void 0?t:Promise}function rE(e){return e&&I(e.next)&&I(e.error)&&I(e.complete)}function oE(e){return e&&e instanceof ri||rE(e)&&ga(e)}function ad(e){return I(e?.lift)}function O(e){return t=>{if(ad(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function A(e,t,n,i,r){return new ld(e,t,n,i,r)}var ld=class extends ri{constructor(t,n,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Qi(){return O((e,t)=>{let n=null;e._refCount++;let i=A(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let r=e._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}var Yi=class extends N{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ad(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new he;let n=this.getSubject();t.add(this.source.subscribe(A(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=he.EMPTY)}return t}refCount(){return Qi()(this)}};var M_=Wi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Q=(()=>{class e extends N{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new va(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new M_}next(n){qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?ed:(this.currentObservers=null,o.push(n),new he(()=>{this.currentObservers=null,ti(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new N;return n.source=this,n}}return e.create=(t,n)=>new va(t,n),e})(),va=class extends Q{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)}error(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:ed}};var Se=class extends Q{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var Eo={now(){return(Eo.delegate||Date).now()},delegate:void 0};var ya=class extends Q{constructor(t=1/0,n=1/0,i=Eo){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;n||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=n.now(),a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}};var Da=class extends he{constructor(t,n){super()}schedule(t,n=0){return this}};var So={setInterval(e,t,...n){let{delegate:i}=So;return i?.setInterval?i.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=So;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var Zi=class extends Da{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var i;if(this.closed)return this;this.state=t;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,i=0){return So.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&So.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i=!1,r;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ti(i,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var Ji=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,i){return new this.schedulerActionCtor(this,t).schedule(i,n)}};Ji.now=Eo.now;var Xi=class extends Ji{constructor(t,n=Ji.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}}};var er=new Xi(Zi),cd=er;var ba=class extends Zi{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(t,n,i):(t.flush(this),0)}};var wa=class extends Xi{};var ud=new wa(ba);var be=new N(e=>e.complete());function Ca(e){return e&&I(e.schedule)}function dd(e){return e[e.length-1]}function In(e){return I(dd(e))?e.pop():void 0}function kt(e){return Ca(dd(e))?e.pop():void 0}function N_(e,t){return typeof dd(e)=="number"?e.pop():t}var tr=e=>e&&typeof e.length=="number"&&typeof e!="function";function Ea(e){return I(e?.then)}function Sa(e){return I(e[Ki])}function Ia(e){return Symbol.asyncIterator&&I(e?.[Symbol.asyncIterator])}function Ta(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function sE(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ma=sE();function Na(e){return I(e?.[Ma])}function Aa(e){return Wm(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:i,done:r}=yield ia(n.read());if(r)return yield ia(void 0);yield yield ia(i)}}finally{n.releaseLock()}})}function Ra(e){return I(e?.getReader)}function z(e){if(e instanceof N)return e;if(e!=null){if(Sa(e))return aE(e);if(tr(e))return lE(e);if(Ea(e))return cE(e);if(Ia(e))return A_(e);if(Na(e))return uE(e);if(Ra(e))return dE(e)}throw Ta(e)}function aE(e){return new N(t=>{let n=e[Ki]();if(I(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function lE(e){return new N(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function cE(e){return new N(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,ma)})}function uE(e){return new N(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function A_(e){return new N(t=>{hE(e,t).catch(n=>t.error(n))})}function dE(e){return A_(Aa(e))}function hE(e,t){var n,i,r,o;return Gm(this,void 0,void 0,function*(){try{for(n=zm(e);i=yield n.next(),!i.done;){let s=i.value;if(t.next(s),t.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}t.complete()})}function qe(e,t,n,i=0,r=!1){let o=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function lt(e,t=0){return O((n,i)=>{n.subscribe(A(i,r=>qe(i,e,()=>i.next(r),t),()=>qe(i,e,()=>i.complete(),t),r=>qe(i,e,()=>i.error(r),t)))})}function Ct(e,t=0){return O((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function R_(e,t){return z(e).pipe(Ct(t),lt(t))}function x_(e,t){return z(e).pipe(Ct(t),lt(t))}function O_(e,t){return new N(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}function P_(e,t){return new N(n=>{let i;return qe(n,t,()=>{i=e[Ma](),qe(n,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>I(i?.return)&&i.return()})}function xa(e,t){if(!e)throw new Error("Iterable cannot be null");return new N(n=>{qe(n,t,()=>{let i=e[Symbol.asyncIterator]();qe(n,t,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function k_(e,t){return xa(Aa(e),t)}function F_(e,t){if(e!=null){if(Sa(e))return R_(e,t);if(tr(e))return O_(e,t);if(Ea(e))return x_(e,t);if(Ia(e))return xa(e,t);if(Na(e))return P_(e,t);if(Ra(e))return k_(e,t)}throw Ta(e)}function ee(e,t){return t?F_(e,t):z(e)}function C(...e){let t=kt(e);return ee(e,t)}function nr(e,t){let n=I(e)?e:()=>e,i=r=>r.error(n());return new N(t?r=>t.schedule(i,0,r):i)}function hd(e){return!!e&&(e instanceof N||I(e.lift)&&I(e.subscribe))}var Xt=Wi(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function L_(e){return e instanceof Date&&!isNaN(e)}function S(e,t){return O((n,i)=>{let r=0;n.subscribe(A(i,o=>{i.next(e.call(t,o,r++))}))})}var{isArray:fE}=Array;function pE(e,t){return fE(t)?e(...t):e(t)}function ir(e){return S(t=>pE(e,t))}var{isArray:gE}=Array,{getPrototypeOf:mE,prototype:_E,keys:vE}=Object;function Oa(e){if(e.length===1){let t=e[0];if(gE(t))return{args:t,keys:null};if(yE(t)){let n=vE(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}function yE(e){return e&&typeof e=="object"&&mE(e)===_E}function Pa(e,t){return e.reduce((n,i,r)=>(n[i]=t[r],n),{})}function rr(...e){let t=kt(e),n=In(e),{args:i,keys:r}=Oa(e);if(i.length===0)return ee([],t);let o=new N(DE(i,t,r?s=>Pa(r,s):Ae));return n?o.pipe(ir(n)):o}function DE(e,t,n=Ae){return i=>{V_(t,()=>{let{length:r}=e,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)V_(t,()=>{let c=ee(e[l],t),u=!1;c.subscribe(A(i,d=>{o[l]=d,u||(u=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function V_(e,t,n){e?qe(n,e,t):t()}function B_(e,t,n,i,r,o,s,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&t.complete()},f=y=>c<i?p(y):l.push(y),p=y=>{o&&t.next(y),c++;let w=!1;z(n(y,u++)).subscribe(A(t,M=>{r?.(M),o?f(M):t.next(M)},()=>{w=!0},void 0,()=>{if(w)try{for(c--;l.length&&c<i;){let M=l.shift();s?qe(t,s,()=>p(M)):p(M)}h()}catch(M){t.error(M)}}))};return e.subscribe(A(t,f,()=>{d=!0,h()})),()=>{a?.()}}function ce(e,t,n=1/0){return I(t)?ce((i,r)=>S((o,s)=>t(i,o,r,s))(z(e(i,r))),n):(typeof t=="number"&&(n=t),O((i,r)=>B_(i,r,e,n)))}function Tn(e=1/0){return ce(Ae,e)}function j_(){return Tn(1)}function Mn(...e){return j_()(ee(e,kt(e)))}function ka(e){return new N(t=>{z(e()).subscribe(t)})}function fd(...e){let t=In(e),{args:n,keys:i}=Oa(e),r=new N(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;z(n[u]).subscribe(A(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?Pa(i,a):a),o.complete())}))}});return t?r.pipe(ir(t)):r}var bE=["addListener","removeListener"],wE=["addEventListener","removeEventListener"],CE=["on","off"];function ct(e,t,n,i){if(I(n)&&(i=n,n=void 0),i)return ct(e,t,n).pipe(ir(i));let[r,o]=IE(e)?wE.map(s=>a=>e[s](t,a,n)):EE(e)?bE.map(H_(e,t)):SE(e)?CE.map(H_(e,t)):[];if(!r&&tr(e))return ce(s=>ct(s,t,n))(z(e));if(!r)throw new TypeError("Invalid event target");return new N(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function H_(e,t){return n=>i=>e[n](t,i)}function EE(e){return I(e.addListener)&&I(e.removeListener)}function SE(e){return I(e.on)&&I(e.off)}function IE(e){return I(e.addEventListener)&&I(e.removeEventListener)}function pd(e=0,t,n=cd){let i=-1;return t!=null&&(Ca(t)?n=t:i=t),new N(r=>{let o=L_(e)?+e-n.now():e;o<0&&(o=0);let s=0;return n.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function oi(...e){let t=kt(e),n=N_(e,1/0),i=e;return i.length?i.length===1?z(i[0]):Tn(n)(ee(i,t)):be}var{isArray:TE}=Array;function Fa(e){return e.length===1&&TE(e[0])?e[0]:e}function we(e,t){return O((n,i)=>{let r=0;n.subscribe(A(i,o=>e.call(t,o,r++)&&i.next(o)))})}function gd(...e){return e=Fa(e),e.length===1?z(e[0]):new N(ME(e))}function ME(e){return t=>{let n=[];for(let i=0;n&&!t.closed&&i<e.length;i++)n.push(z(e[i]).subscribe(A(t,r=>{if(n){for(let o=0;o<n.length;o++)o!==i&&n[o].unsubscribe();n=null}t.next(r)})))}}function Io(...e){let t=In(e),n=Fa(e);return n.length?new N(i=>{let r=n.map(()=>[]),o=n.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<n.length;s++)z(n[s]).subscribe(A(i,a=>{if(r[s].push(a),r.every(l=>l.length)){let l=r.map(c=>c.shift());i.next(t?t(...l):l),r.some((c,u)=>!c.length&&o[u])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):be}function Nn(e){return O((t,n)=>{let i=null,r=!1,o;i=t.subscribe(A(n,void 0,void 0,s=>{o=z(e(s,Nn(e)(t))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function $_(e,t,n,i,r){return(o,s)=>{let a=n,l=t,c=0;o.subscribe(A(s,u=>{let d=c++;l=a?e(l,u,d):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function si(e,t){return I(t)?ce(e,t,1):ce(e,1)}function An(e){return O((t,n)=>{let i=!1;t.subscribe(A(n,r=>{i=!0,n.next(r)},()=>{i||n.next(e),n.complete()}))})}function ut(e){return e<=0?()=>be:O((t,n)=>{let i=0;t.subscribe(A(n,r=>{++i<=e&&(n.next(r),e<=i&&n.complete())}))})}function md(e){return S(()=>e)}function La(e,t=Ae){return e=e??NE,O((n,i)=>{let r,o=!0;n.subscribe(A(i,s=>{let a=t(s);(o||!e(r,a))&&(o=!1,r=a,i.next(s))}))})}function NE(e,t){return e===t}function Va(e=AE){return O((t,n)=>{let i=!1;t.subscribe(A(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(e())))})}function AE(){return new Xt}function _d(...e){return t=>Mn(t,C(...e))}function or(e){return O((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function dt(e,t){let n=arguments.length>=2;return i=>i.pipe(e?we((r,o)=>e(r,o,i)):Ae,ut(1),n?An(t):Va(()=>new Xt))}function sr(e){return e<=0?()=>be:O((t,n)=>{let i=[];t.subscribe(A(n,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function vd(e,t){let n=arguments.length>=2;return i=>i.pipe(e?we((r,o)=>e(r,o,i)):Ae,sr(1),n?An(t):Va(()=>new Xt))}function ar(e,t){return O($_(e,t,arguments.length>=2,!0))}function To(e={}){let{connector:t=()=>new Q,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return o=>{let s,a,l,c=0,u=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,u=d=!1},p=()=>{let y=s;f(),y?.unsubscribe()};return O((y,w)=>{c++,!d&&!u&&h();let M=l=l??t();w.add(()=>{c--,c===0&&!d&&!u&&(a=yd(p,r))}),M.subscribe(w),!s&&c>0&&(s=new Jt({next:q=>M.next(q),error:q=>{d=!0,h(),a=yd(f,n,q),M.error(q)},complete:()=>{u=!0,h(),a=yd(f,i),M.complete()}}),z(y).subscribe(s))})(o)}}function yd(e,t,...n){if(t===!0){e();return}if(t===!1)return;let i=new Jt({next:()=>{i.unsubscribe(),e()}});return z(t(...n)).subscribe(i)}function Ba(e,t,n){let i,r=!1;return e&&typeof e=="object"?{bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:n}=e:i=e??1/0,To({connector:()=>new ya(i,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Dd(e){return O((t,n)=>{let i=!1,r=0;t.subscribe(A(n,o=>(i||(i=!e(o,r++)))&&n.next(o)))})}function ja(...e){let t=kt(e);return O((n,i)=>{(t?Mn(e,n,t):Mn(e,n)).subscribe(i)})}function re(e,t){return O((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(A(i,l=>{r?.unsubscribe();let c=0,u=o++;z(e(l,u)).subscribe(r=A(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Ha(e,t){return I(t)?re(()=>e,t):re(()=>e)}function Re(e){return O((t,n)=>{z(e).subscribe(A(n,()=>n.complete(),ni)),!n.closed&&t.subscribe(n)})}function ge(e,t,n){let i=I(e)||t||n?{next:e,error:t,complete:n}:e;return i?O((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(A(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):Ae}function lr(...e){let t=In(e);return O((n,i)=>{let r=e.length,o=new Array(r),s=e.map(()=>!1),a=!1;for(let l=0;l<r;l++)z(e[l]).subscribe(A(i,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(Ae))&&(s=null))},ni));n.subscribe(A(i,l=>{if(a){let c=[l,...o];i.next(t?t(...c):c)}}))})}var RE="https://g.co/ng/security#xss",E=class extends Error{constructor(t,n){super(xh(t,n)),this.code=t}};function xh(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function Vo(e){return{toString:e}.toString()}var $a="__parameters__";function xE(e){return function(...n){if(e){let i=e(...n);for(let r in i)this[r]=i[r]}}}function Cv(e,t,n){return Vo(()=>{let i=xE(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty($a)?l[$a]:Object.defineProperty(l,$a,{value:[]})[$a];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var cn=globalThis;function te(e){for(let t in e)if(e[t]===te)return t;throw Error("Could not find renamed property on target object.")}function OE(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ve(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(Ve).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function Pd(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var PE=te({__forward_ref__:te});function Er(e){return e.__forward_ref__=Er,e.toString=function(){return Ve(this())},e}function Le(e){return Ev(e)?e():e}function Ev(e){return typeof e=="function"&&e.hasOwnProperty(PE)&&e.__forward_ref__===Er}function b(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function j(e){return{providers:e.providers||[],imports:e.imports||[]}}function El(e){return U_(e,Iv)||U_(e,Tv)}function Sv(e){return El(e)!==null}function U_(e,t){return e.hasOwnProperty(t)?e[t]:null}function kE(e){let t=e&&(e[Iv]||e[Tv]);return t||null}function G_(e){return e&&(e.hasOwnProperty(W_)||e.hasOwnProperty(FE))?e[W_]:null}var Iv=te({\u0275prov:te}),W_=te({\u0275inj:te}),Tv=te({ngInjectableDef:te}),FE=te({ngInjectorDef:te}),D=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=b({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Mv(e){return e&&!!e.\u0275providers}var LE=te({\u0275cmp:te}),VE=te({\u0275dir:te}),BE=te({\u0275pipe:te}),jE=te({\u0275mod:te}),Ja=te({\u0275fac:te}),No=te({__NG_ELEMENT_ID__:te}),z_=te({__NG_ENV_ID__:te});function Oh(e){return typeof e=="string"?e:e==null?"":String(e)}function HE(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Oh(e)}function $E(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new E(-200,e)}function Ph(e,t){throw new E(-201,!1)}var V=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(V||{}),kd;function Nv(){return kd}function Ke(e){let t=kd;return kd=e,t}function Av(e,t,n){let i=El(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&V.Optional)return null;if(t!==void 0)return t;Ph(e,"Injector")}var UE={},Ro=UE,Fd="__NG_DI_FLAG__",Xa="ngTempTokenPath",GE="ngTokenPath",WE=/\n/gm,zE="\u0275",q_="__source",hr;function qE(){return hr}function Rn(e){let t=hr;return hr=e,t}function KE(e,t=V.Default){if(hr===void 0)throw new E(-203,!1);return hr===null?Av(e,void 0,t):hr.get(e,t&V.Optional?null:void 0,t)}function v(e,t=V.Default){return(Nv()||KE)(Le(e),t)}function g(e,t=V.Default){return v(e,Sl(t))}function Sl(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Ld(e){let t=[];for(let n=0;n<e.length;n++){let i=Le(e[n]);if(Array.isArray(i)){if(i.length===0)throw new E(900,!1);let r,o=V.Default;for(let s=0;s<i.length;s++){let a=i[s],l=QE(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}t.push(v(r,o))}else t.push(v(i))}return t}function Rv(e,t){return e[Fd]=t,e.prototype[Fd]=t,e}function QE(e){return e[Fd]}function YE(e,t,n,i){let r=e[Xa];throw t[q_]&&r.unshift(t[q_]),e.message=ZE(`
`+e.message,r,n,i),e[GE]=r,e[Xa]=null,e}function ZE(e,t,n,i=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==zE?e.slice(2):e;let r=Ve(t);if(Array.isArray(t))r=t.map(Ve).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ve(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(WE,`
  `)}`}var Sr=Rv(Cv("Optional"),8);var kh=Rv(Cv("SkipSelf"),4);function li(e,t){let n=e.hasOwnProperty(Ja);return n?e[Ja]:null}function JE(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function XE(e){return e.flat(Number.POSITIVE_INFINITY)}function Fh(e,t){e.forEach(n=>Array.isArray(n)?Fh(n,t):t(n))}function xv(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function el(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function eS(e,t){let n=[];for(let i=0;i<e;i++)n.push(t);return n}function tS(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(r===1)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;){let o=r-2;e[r]=e[o],r--}e[t]=n,e[t+1]=i}}function Lh(e,t,n){let i=Bo(e,t);return i>=0?e[i|1]=n:(i=~i,tS(e,i,t,n)),i}function bd(e,t){let n=Bo(e,t);if(n>=0)return e[n|1]}function Bo(e,t){return nS(e,t,1)}function nS(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=e[o<<n];if(t===s)return o<<n;s>t?r=o:i=o+1}return~(r<<n)}var pr={},Qe=[],gr=new D(""),Ov=new D("",-1),Pv=new D(""),tl=class{get(t,n=Ro){if(n===Ro){let i=new Error(`NullInjectorError: No provider for ${Ve(t)}!`);throw i.name="NullInjectorError",i}return n}},kv=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(kv||{}),Vt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Vt||{}),Pn=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Pn||{});function iS(e,t,n){let i=e.length;for(;;){let r=e.indexOf(t,n);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}function Vd(e,t,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];e.setAttribute(t,s,a,o)}else{let o=r,s=n[++i];oS(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),i++}}return i}function rS(e){return e===3||e===4||e===6}function oS(e){return e.charCodeAt(0)===64}function xo(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?K_(e,n,r,null,t[++i]):K_(e,n,r,null,null))}}return e}function K_(e,t,n,i,r){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(e[o+1]=r);return}else if(i===e[o+1]){e[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i),r!==null&&e.splice(o++,0,r)}var Fv="ng-template";function sS(e,t,n,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&iS(t[r+1].toLowerCase(),n,0)!==-1)return!0}else if(Vh(e))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&typeof(o=t[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Vh(e){return e.type===4&&e.value!==Fv}function aS(e,t,n){let i=e.type===4&&!n?Fv:e.value;return t===i}function lS(e,t,n){let i=4,r=e.attrs,o=r!==null?dS(r):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!Et(i)&&!Et(l))return!1;if(s&&Et(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!aS(e,l,n)||l===""&&t.length===1){if(Et(i))return!1;s=!0}}else if(i&8){if(r===null||!sS(e,r,l,n)){if(Et(i))return!1;s=!0}}else{let c=t[++a],u=cS(l,r,Vh(e),n);if(u===-1){if(Et(i))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=r[u+1].toLowerCase(),i&2&&c!==d){if(Et(i))return!1;s=!0}}}}return Et(i)||s}function Et(e){return(e&1)===0}function cS(e,t,n,i){if(t===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<t.length;){let s=t[r];if(s===e)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++r];for(;typeof a=="string";)a=t[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return hS(t,e)}function Lv(e,t,n=!1){for(let i=0;i<t.length;i++)if(lS(e,t[i],n))return!0;return!1}function uS(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if(!(n&1))return t[n+1]}return null}function dS(e){for(let t=0;t<e.length;t++){let n=e[t];if(rS(n))return t}return e.length}function hS(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let i=e[n];if(typeof i=="number")return-1;if(i===t)return n;n++}return-1}function fS(e,t){e:for(let n=0;n<t.length;n++){let i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function Q_(e,t){return e?":not("+t.trim()+")":t}function pS(e){let t=e[0],n=1,i=2,r="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(i&2){let a=e[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Et(s)&&(t+=Q_(o,r),r=""),i=s,o=o||!Et(i);n++}return r!==""&&(t+=Q_(o,r)),t}function gS(e){return e.map(pS).join(",")}function mS(e){let t=[],n=[],i=1,r=2;for(;i<e.length;){let o=e[i];if(typeof o=="string")r===2?o!==""&&t.push(o,e[++i]):r===8&&n.push(o);else{if(!Et(r))break;r=o}i++}return{attrs:t,classes:n}}function Mt(e){return Vo(()=>{let t=$v(e),n=L(_({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===kv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Vt.Emulated,styles:e.styles||Qe,_:null,schemas:e.schemas||null,tView:null,id:""});Uv(n);let i=e.dependencies;return n.directiveDefs=Z_(i,!1),n.pipeDefs=Z_(i,!0),n.id=yS(n),n})}function _S(e){return tn(e)||Vv(e)}function vS(e){return e!==null}function H(e){return Vo(()=>({type:e.type,bootstrap:e.bootstrap||Qe,declarations:e.declarations||Qe,imports:e.imports||Qe,exports:e.exports||Qe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Y_(e,t){if(e==null)return pr;let n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],o,s,a=Pn.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),t?(n[o]=a!==Pn.None?[i,a]:i,t[o]=s):n[o]=i}return n}function pt(e){return Vo(()=>{let t=$v(e);return Uv(t),t})}function Bh(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone===!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function tn(e){return e[LE]||null}function Vv(e){return e[VE]||null}function Bv(e){return e[BE]||null}function jv(e){let t=tn(e)||Vv(e)||Bv(e);return t!==null?t.standalone:!1}function Hv(e,t){let n=e[jE]||null;if(!n&&t===!0)throw new Error(`Type ${Ve(e)} does not have '\u0275mod' property.`);return n}function $v(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||pr,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||Qe,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Y_(e.inputs,t),outputs:Y_(e.outputs),debugInfo:null}}function Uv(e){e.features?.forEach(t=>t(e))}function Z_(e,t){if(!e)return null;let n=t?Bv:_S;return()=>(typeof e=="function"?e():e).map(i=>n(i)).filter(vS)}function yS(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let r of n)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function DS(...e){return{\u0275providers:Gv(!0,e),\u0275fromNgModule:!0}}function Gv(e,...t){let n=[],i=new Set,r,o=s=>{n.push(s)};return Fh(t,s=>{let a=s;Bd(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&Wv(r,o),n}function Wv(e,t){for(let n=0;n<e.length;n++){let{ngModule:i,providers:r}=e[n];jh(r,o=>{t(o,i)})}}function Bd(e,t,n,i){if(e=Le(e),!e)return!1;let r=null,o=G_(e),s=!o&&tn(e);if(!o&&!s){let l=e.ngModule;if(o=G_(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=e}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Bd(c,t,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let c;try{Fh(o.imports,u=>{Bd(u,t,n,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&Wv(c,t)}if(!a){let c=li(r)||(()=>new r);t({provide:r,useFactory:c,deps:Qe},r),t({provide:Pv,useValue:r,multi:!0},r),t({provide:gr,useValue:()=>v(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=e;jh(l,u=>{t(u,c)})}}else return!1;return r!==e&&e.providers!==void 0}function jh(e,t){for(let n of e)Mv(n)&&(n=n.\u0275providers),Array.isArray(n)?jh(n,t):t(n)}var bS=te({provide:String,useValue:te});function zv(e){return e!==null&&typeof e=="object"&&bS in e}function wS(e){return!!(e&&e.useExisting)}function CS(e){return!!(e&&e.useFactory)}function mr(e){return typeof e=="function"}function ES(e){return!!e.useClass}var Il=new D(""),qa={},SS={},wd;function Tl(){return wd===void 0&&(wd=new tl),wd}var xe=class{},Oo=class extends xe{get destroyed(){return this._destroyed}constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Hd(t,s=>this.processProvider(s)),this.records.set(Ov,cr(void 0,this)),r.has("environment")&&this.records.set(xe,cr(void 0,this));let o=this.records.get(Il);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Pv,Qe,V.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=K(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),K(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=Rn(this),i=Ke(void 0),r;try{return t()}finally{Rn(n),Ke(i)}}get(t,n=Ro,i=V.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(z_))return t[z_](this);i=Sl(i);let r,o=Rn(this),s=Ke(void 0);try{if(!(i&V.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=AS(t)&&El(t);c&&this.injectableDefInScope(c)?l=cr(jd(t),qa):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=i&V.Self?Tl():this.parent;return n=i&V.Optional&&n===Ro?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Xa]=a[Xa]||[]).unshift(Ve(t)),o)throw a;return YE(a,t,"R3InjectorError",this.source)}else throw a}finally{Ke(s),Rn(o)}}resolveInjectorInitializers(){let t=K(null),n=Rn(this),i=Ke(void 0),r;try{let o=this.get(gr,Qe,V.Self);for(let s of o)s()}finally{Rn(n),Ke(i),K(t)}}toString(){let t=[],n=this.records;for(let i of n.keys())t.push(Ve(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new E(205,!1)}processProvider(t){t=Le(t);let n=mr(t)?t:Le(t&&t.provide),i=TS(t);if(!mr(t)&&t.multi===!0){let r=this.records.get(n);r||(r=cr(void 0,qa,!0),r.factory=()=>Ld(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){let i=K(null);try{return n.value===qa&&(n.value=SS,n.value=n.factory()),typeof n.value=="object"&&n.value&&NS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{K(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Le(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function jd(e){let t=El(e),n=t!==null?t.factory:li(e);if(n!==null)return n;if(e instanceof D)throw new E(204,!1);if(e instanceof Function)return IS(e);throw new E(204,!1)}function IS(e){if(e.length>0)throw new E(204,!1);let n=kE(e);return n!==null?()=>n.factory(e):()=>new e}function TS(e){if(zv(e))return cr(void 0,e.useValue);{let t=qv(e);return cr(t,qa)}}function qv(e,t,n){let i;if(mr(e)){let r=Le(e);return li(r)||jd(r)}else if(zv(e))i=()=>Le(e.useValue);else if(CS(e))i=()=>e.useFactory(...Ld(e.deps||[]));else if(wS(e))i=()=>v(Le(e.useExisting));else{let r=Le(e&&(e.useClass||e.provide));if(MS(e))i=()=>new r(...Ld(e.deps));else return li(r)||jd(r)}return i}function cr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function MS(e){return!!e.deps}function NS(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function AS(e){return typeof e=="function"||typeof e=="object"&&e instanceof D}function Hd(e,t){for(let n of e)Array.isArray(n)?Hd(n,t):n&&Mv(n)?Hd(n.\u0275providers,t):t(n)}function jt(e,t){e instanceof Oo&&e.assertNotDestroyed();let n,i=Rn(e),r=Ke(void 0);try{return t()}finally{Rn(i),Ke(r)}}function Kv(){return Nv()!==void 0||qE()!=null}function RS(e){if(!Kv())throw new E(-203,!1)}function xS(e){let t=cn.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function OS(e){return typeof e=="function"}var un=0,P=1,R=2,Oe=3,It=4,Ze=5,Po=6,nl=7,Tt=8,_r=9,nn=10,fe=11,ko=12,J_=13,Ir=14,ft=15,ci=16,ur=17,rn=18,Ml=19,Qv=20,xn=21,Cd=22,ht=23,Ye=25,Yv=1;var ui=7,il=8,vr=9,Xe=10,rl=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(rl||{});function On(e){return Array.isArray(e)&&typeof e[Yv]=="object"}function dn(e){return Array.isArray(e)&&e[Yv]===!0}function Hh(e){return(e.flags&4)!==0}function Nl(e){return e.componentOffset>-1}function Al(e){return(e.flags&1)===1}function kn(e){return!!e.template}function $d(e){return(e[R]&512)!==0}var Ud=class{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function Zv(e,t,n,i){t!==null?t.applyValueToInputSignal(t,i):e[n]=i}function vi(){return Jv}function Jv(e){return e.type.prototype.ngOnChanges&&(e.setInput=kS),PS}vi.ngInherit=!0;function PS(){let e=ey(this),t=e?.current;if(t){let n=e.previous;if(n===pr)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function kS(e,t,n,i,r){let o=this.declaredInputs[i],s=ey(e)||FS(e,{previous:pr,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Ud(c&&c.currentValue,n,l===pr),Zv(e,t,r,n)}var Xv="__ngSimpleChanges__";function ey(e){return e[Xv]||null}function FS(e,t){return e[Xv]=t}var X_=null;var Ft=function(e,t,n){X_?.(e,t,n)},LS="svg",VS="math";function Bt(e){for(;Array.isArray(e);)e=e[un];return e}function ty(e,t){return Bt(t[e])}function gt(e,t){return Bt(t[e.index])}function ny(e,t){return e.data[t]}function iy(e,t){return e[t]}function Bn(e,t){let n=t[e];return On(n)?n:n[un]}function BS(e){return(e[R]&4)===4}function $h(e){return(e[R]&128)===128}function jS(e){return dn(e[Oe])}function yr(e,t){return t==null?null:e[t]}function ry(e){e[ur]=0}function oy(e){e[R]&1024||(e[R]|=1024,$h(e)&&xl(e))}function HS(e,t){for(;e>0;)t=t[Ir],e--;return t}function Rl(e){return!!(e[R]&9216||e[ht]?.dirty)}function Gd(e){e[nn].changeDetectionScheduler?.notify(8),e[R]&64&&(e[R]|=1024),Rl(e)&&xl(e)}function xl(e){e[nn].changeDetectionScheduler?.notify(0);let t=di(e);for(;t!==null&&!(t[R]&8192||(t[R]|=8192,!$h(t)));)t=di(t)}function sy(e,t){if((e[R]&256)===256)throw new E(911,!1);e[xn]===null&&(e[xn]=[]),e[xn].push(t)}function $S(e,t){if(e[xn]===null)return;let n=e[xn].indexOf(t);n!==-1&&e[xn].splice(n,1)}function di(e){let t=e[Oe];return dn(t)?t[Oe]:t}var B={lFrame:my(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ay=!1;function US(){return B.lFrame.elementDepthCount}function GS(){B.lFrame.elementDepthCount++}function WS(){B.lFrame.elementDepthCount--}function ly(){return B.bindingsEnabled}function cy(){return B.skipHydrationRootTNode!==null}function zS(e){return B.skipHydrationRootTNode===e}function qS(){B.skipHydrationRootTNode=null}function Y(){return B.lFrame.lView}function ve(){return B.lFrame.tView}function jn(e){return B.lFrame.contextLView=e,e[Tt]}function Hn(e){return B.lFrame.contextLView=null,e}function Be(){let e=uy();for(;e!==null&&e.type===64;)e=e.parent;return e}function uy(){return B.lFrame.currentTNode}function KS(){let e=B.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function yi(e,t){let n=B.lFrame;n.currentTNode=e,n.isParent=t}function Uh(){return B.lFrame.isParent}function Gh(){B.lFrame.isParent=!1}function QS(){return B.lFrame.contextLView}function dy(){return ay}function ev(e){ay=e}function YS(){let e=B.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ZS(e){return B.lFrame.bindingIndex=e}function Ol(){return B.lFrame.bindingIndex++}function hy(e){let t=B.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function JS(){return B.lFrame.inI18n}function XS(e,t){let n=B.lFrame;n.bindingIndex=n.bindingRootIndex=e,Wd(t)}function eI(){return B.lFrame.currentDirectiveIndex}function Wd(e){B.lFrame.currentDirectiveIndex=e}function tI(e){let t=B.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function fy(){return B.lFrame.currentQueryIndex}function Wh(e){B.lFrame.currentQueryIndex=e}function nI(e){let t=e[P];return t.type===2?t.declTNode:t.type===1?e[Ze]:null}function py(e,t,n){if(n&V.SkipSelf){let r=t,o=e;for(;r=r.parent,r===null&&!(n&V.Host);)if(r=nI(o),r===null||(o=o[Ir],r.type&10))break;if(r===null)return!1;t=r,e=o}let i=B.lFrame=gy();return i.currentTNode=t,i.lView=e,!0}function zh(e){let t=gy(),n=e[P];B.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function gy(){let e=B.lFrame,t=e===null?null:e.child;return t===null?my(e):t}function my(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function _y(){let e=B.lFrame;return B.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var vy=_y;function qh(){let e=_y();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function iI(e){return(B.lFrame.contextLView=HS(e,B.lFrame.contextLView))[Tt]}function Di(){return B.lFrame.selectedIndex}function hi(e){B.lFrame.selectedIndex=e}function Kh(){let e=B.lFrame;return ny(e.tView,e.selectedIndex)}function rI(){return B.lFrame.currentNamespace}var yy=!0;function Pl(){return yy}function kl(e){yy=e}function oI(e,t,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){let s=Jv(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}r&&(n.preOrderHooks??=[]).push(0-e,r),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function Fl(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function Ka(e,t,n){Dy(e,t,3,n)}function Qa(e,t,n,i){(e[R]&3)===n&&Dy(e,t,n,i)}function Ed(e,t){let n=e[R];(n&3)===t&&(n&=16383,n+=1,e[R]=n)}function Dy(e,t,n,i){let r=i!==void 0?e[ur]&65535:0,o=i??-1,s=t.length-1,a=0;for(let l=r;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],i!=null&&a>=i)break}else t[l]<0&&(e[ur]+=65536),(a<o||o==-1)&&(sI(e,n,t,l),e[ur]=(e[ur]&4294901760)+l+2),l++}function tv(e,t){Ft(4,e,t);let n=K(null);try{t.call(e)}finally{K(n),Ft(5,e,t)}}function sI(e,t,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=e[s];r?e[R]>>14<e[ur]>>16&&(e[R]&3)===t&&(e[R]+=16384,tv(a,o)):tv(a,o)}var fr=-1,fi=class{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function aI(e){return e instanceof fi}function lI(e){return(e.flags&8)!==0}function cI(e){return(e.flags&16)!==0}var Sd={},zd=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=Sl(i);let r=this.injector.get(t,Sd,i);return r!==Sd||n===Sd?r:this.parentInjector.get(t,n,i)}};function by(e){return e!==fr}function ol(e){return e&32767}function uI(e){return e>>16}function sl(e,t){let n=uI(e),i=t;for(;n>0;)i=i[Ir],n--;return i}var qd=!0;function al(e){let t=qd;return qd=e,t}var dI=256,wy=dI-1,Cy=5,hI=0,Lt={};function fI(e,t,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(No)&&(i=n[No]),i==null&&(i=n[No]=hI++);let r=i&wy,o=1<<r;t.data[e+(r>>Cy)]|=o}function ll(e,t){let n=Ey(e,t);if(n!==-1)return n;let i=t[P];i.firstCreatePass&&(e.injectorIndex=t.length,Id(i.data,e),Id(t,null),Id(i.blueprint,null));let r=Qh(e,t),o=e.injectorIndex;if(by(r)){let s=ol(r),a=sl(r,t),l=a[P].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function Id(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Ey(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Qh(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;r!==null;){if(i=Ny(r),i===null)return fr;if(n++,r=r[Ir],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return fr}function Kd(e,t,n){fI(e,t,n)}function Sy(e,t,n){if(n&V.Optional||e!==void 0)return e;Ph(t,"NodeInjector")}function Iy(e,t,n,i){if(n&V.Optional&&i===void 0&&(i=null),!(n&(V.Self|V.Host))){let r=e[_r],o=Ke(void 0);try{return r?r.get(t,i,n&V.Optional):Av(t,i,n&V.Optional)}finally{Ke(o)}}return Sy(i,t,n)}function Ty(e,t,n,i=V.Default,r){if(e!==null){if(t[R]&2048&&!(i&V.Self)){let s=_I(e,t,n,i,Lt);if(s!==Lt)return s}let o=My(e,t,n,i,Lt);if(o!==Lt)return o}return Iy(t,n,i,r)}function My(e,t,n,i,r){let o=gI(n);if(typeof o=="function"){if(!py(t,e,i))return i&V.Host?Sy(r,n,i):Iy(t,n,i,r);try{let s;if(s=o(i),s==null&&!(i&V.Optional))Ph(n);else return s}finally{vy()}}else if(typeof o=="number"){let s=null,a=Ey(e,t),l=fr,c=i&V.Host?t[ft][Ze]:null;for((a===-1||i&V.SkipSelf)&&(l=a===-1?Qh(e,t):t[a+8],l===fr||!iv(i,!1)?a=-1:(s=t[P],a=ol(l),t=sl(l,t)));a!==-1;){let u=t[P];if(nv(o,a,u.data)){let d=pI(a,t,n,s,i,c);if(d!==Lt)return d}l=t[a+8],l!==fr&&iv(i,t[P].data[a+8]===c)&&nv(o,a,t)?(s=u,a=ol(l),t=sl(l,t)):a=-1}}return r}function pI(e,t,n,i,r,o){let s=t[P],a=s.data[e+8],l=i==null?Nl(a)&&qd:i!=s&&(a.type&3)!==0,c=r&V.Host&&o===a,u=Ya(a,s,n,l,c);return u!==null?pi(t,s,u,a):Lt}function Ya(e,t,n,i,r){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,d=i?a:a+u,h=r?a+u:c;for(let f=d;f<h;f++){let p=s[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(r){let f=s[l];if(f&&kn(f)&&f.type===n)return l}return null}function pi(e,t,n,i){let r=e[n],o=t.data;if(aI(r)){let s=r;s.resolving&&$E(HE(o[n]));let a=al(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?Ke(s.injectImpl):null,u=py(e,i,V.Default);try{r=e[n]=s.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&oI(n,o[n],t)}finally{c!==null&&Ke(c),al(a),s.resolving=!1,vy()}}return r}function gI(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(No)?e[No]:void 0;return typeof t=="number"?t>=0?t&wy:mI:t}function nv(e,t,n){let i=1<<e;return!!(n[t+(e>>Cy)]&i)}function iv(e,t){return!(e&V.Self)&&!(e&V.Host&&t)}var ai=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return Ty(this._tNode,this._lView,t,Sl(i),n)}};function mI(){return new ai(Be(),Y())}function Tr(e){return Vo(()=>{let t=e.prototype.constructor,n=t[Ja]||Qd(t),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){let o=r[Ja]||Qd(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Qd(e){return Ev(e)?()=>{let t=Qd(Le(e));return t&&t()}:li(e)}function _I(e,t,n,i,r){let o=e,s=t;for(;o!==null&&s!==null&&s[R]&2048&&!(s[R]&512);){let a=My(o,s,n,i|V.Self,Lt);if(a!==Lt)return a;let l=o.parent;if(!l){let c=s[Qv];if(c){let u=c.get(n,Lt,i);if(u!==Lt)return u}l=Ny(s),s=s[Ir]}o=l}return r}function Ny(e){let t=e[P],n=t.type;return n===2?t.declTNode:n===1?e[Ze]:null}function rv(e,t=null,n=null,i){let r=Ay(e,t,n,i);return r.resolveInjectorInitializers(),r}function Ay(e,t=null,n=null,i,r=new Set){let o=[n||Qe,DS(e)];return i=i||(typeof e=="object"?void 0:Ve(e)),new Oo(o,t||Tl(),i||null,r)}var Ce=class e{static{this.THROW_IF_NOT_FOUND=Ro}static{this.NULL=new tl}static create(t,n){if(Array.isArray(t))return rv({name:""},n,t,"");{let i=t.name??"";return rv({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=b({token:e,providedIn:"any",factory:()=>v(Ov)})}static{this.__NG_ELEMENT_ID__=-1}};var vI=new D("");vI.__NG_ELEMENT_ID__=e=>{let t=Be();if(t===null)throw new E(204,!1);if(t.type&2)return t.value;if(e&V.Optional)return null;throw new E(204,!1)};var yI="ngOriginalError";function Td(e){return e[yI]}var Ry=!0,Ll=(()=>{class e{static{this.__NG_ELEMENT_ID__=DI}static{this.__NG_ENV_ID__=n=>n}}return e})(),Yd=class extends Ll{constructor(t){super(),this._lView=t}onDestroy(t){return sy(this._lView,t),()=>$S(this._lView,t)}};function DI(){return new Yd(Y())}var Mr=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Se(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=b({token:e,providedIn:"root",factory:()=>new e})}}return e})();var Zd=class extends Q{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,Kv()&&(this.destroyRef=g(Ll,{optional:!0})??void 0,this.pendingTasks=g(Mr,{optional:!0})??void 0)}emit(t){let n=K(null);try{super.next(t)}finally{K(n)}}subscribe(t,n,i){let r=t,o=n||(()=>null),s=i;if(t&&typeof t=="object"){let l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return t instanceof he&&t.add(a),a}wrapInTimeout(t){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{t(n),i!==void 0&&this.pendingTasks?.remove(i)})}}},ue=Zd;function cl(...e){}function xy(e){let t,n;function i(){e=cl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),i()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),i()})),()=>i()}function ov(e){return queueMicrotask(()=>e()),()=>{e=cl}}var Yh="isAngularZone",ul=Yh+"_ID",bI=0,G=class e{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ue(!1),this.onMicrotaskEmpty=new ue(!1),this.onStable=new ue(!1),this.onError=new ue(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=Ry}=t;if(typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,EI(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Yh)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new E(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,wI,cl,cl);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}},wI={};function Zh(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function CI(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){xy(()=>{e.callbackScheduled=!1,Jd(e),e.isCheckStableRunning=!0,Zh(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Jd(e)}function EI(e){let t=()=>{CI(e)},n=bI++;e._inner=e._inner.fork({name:"angular",properties:{[Yh]:!0,[ul]:n,[ul+n]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(SI(l))return i.invokeTask(o,s,a,l);try{return sv(e),i.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),av(e)}},onInvoke:(i,r,o,s,a,l,c)=>{try{return sv(e),i.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!II(l)&&t(),av(e)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Jd(e),Zh(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Jd(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function sv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function av(e){e._nesting--,Zh(e)}var dl=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ue,this.onMicrotaskEmpty=new ue,this.onStable=new ue,this.onError=new ue}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}};function SI(e){return Oy(e,"__ignore_ng_zone__")}function II(e){return Oy(e,"__scheduler_tick__")}function Oy(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}function TI(e="zone.js",t){return e==="noop"?new dl:e==="zone.js"?new G(t):e}var on=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Td(t);for(;n&&Td(n);)n=Td(n);return n||null}},MI=new D("",{providedIn:"root",factory:()=>{let e=g(G),t=g(on);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function NI(){return Nr(Be(),Y())}function Nr(e,t){return new et(gt(e,t))}var et=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=NI}}return e})();function AI(e){return e instanceof et?e.nativeElement:e}function RI(){return this._results[Symbol.iterator]()}var Xd=class e{get changes(){return this._changes??=new ue}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=e.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=RI)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let i=XE(t);(this._changesDetected=!JE(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function Py(e){return(e.flags&128)===128}var ky=new Map,xI=0;function OI(){return xI++}function PI(e){ky.set(e[Ml],e)}function eh(e){ky.delete(e[Ml])}var lv="__ngContext__";function Fn(e,t){On(t)?(e[lv]=t[Ml],PI(t)):e[lv]=t}function Fy(e){return Vy(e[ko])}function Ly(e){return Vy(e[It])}function Vy(e){for(;e!==null&&!dn(e);)e=e[It];return e}var th;function By(e){th=e}function kI(){if(th!==void 0)return th;if(typeof document<"u")return document;throw new E(210,!1)}var Vl=new D("",{providedIn:"root",factory:()=>FI}),FI="ng",Jh=new D(""),je=new D("",{providedIn:"platform",factory:()=>"unknown"});var Xh=new D("",{providedIn:"root",factory:()=>kI().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var LI="h",VI="b";var BI=()=>null;function ef(e,t,n=!1){return BI(e,t,n)}var jy=!1,jI=new D("",{providedIn:"root",factory:()=>jy});var nh=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${RE})`}};function Bl(e){return e instanceof nh?e.changingThisBreaksApplicationSecurity:e}var HI=/^>|^->|<!--|-->|--!>|<!-$/g,$I=/(<|>)/g,UI="\u200B$1\u200B";function GI(e){return e.replace(HI,t=>t.replace($I,UI))}function Hy(e){return e instanceof Function?e():e}function WI(e){return(e??g(Ce)).get(je)==="browser"}var sn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(sn||{}),zI;function tf(e,t){return zI(e,t)}function dr(e,t,n,i,r){if(i!=null){let o,s=!1;dn(i)?o=i:On(i)&&(s=!0,i=i[un]);let a=Bt(i);e===0&&n!==null?r==null?qy(t,n,a):hl(t,n,a,r||null,!0):e===1&&n!==null?hl(t,n,a,r||null,!0):e===2?sT(t,a,s):e===3&&t.destroyNode(a),o!=null&&lT(t,e,o,n,r)}}function qI(e,t){return e.createText(t)}function KI(e,t,n){e.setValue(t,n)}function QI(e,t){return e.createComment(GI(t))}function $y(e,t,n){return e.createElement(t,n)}function YI(e,t){Uy(e,t),t[un]=null,t[Ze]=null}function ZI(e,t,n,i,r,o){i[un]=r,i[Ze]=t,Hl(e,i,n,1,r,o)}function Uy(e,t){t[nn].changeDetectionScheduler?.notify(9),Hl(e,t,t[fe],2,null,null)}function JI(e){let t=e[ko];if(!t)return Md(e[P],e);for(;t;){let n=null;if(On(t))n=t[ko];else{let i=t[Xe];i&&(n=i)}if(!n){for(;t&&!t[It]&&t!==e;)On(t)&&Md(t[P],t),t=t[Oe];t===null&&(t=e),On(t)&&Md(t[P],t),n=t&&t[It]}t=n}}function XI(e,t,n,i){let r=Xe+i,o=n.length;i>0&&(n[r-1][It]=t),i<o-Xe?(t[It]=n[r],xv(n,Xe+i,t)):(n.push(t),t[It]=null),t[Oe]=n;let s=t[ci];s!==null&&n!==s&&Gy(s,t);let a=t[rn];a!==null&&a.insertView(e),Gd(t),t[R]|=128}function Gy(e,t){let n=e[vr],i=t[Oe];if(On(i))e[R]|=rl.HasTransplantedViews;else{let r=i[Oe][ft];t[ft]!==r&&(e[R]|=rl.HasTransplantedViews)}n===null?e[vr]=[t]:n.push(t)}function nf(e,t){let n=e[vr],i=n.indexOf(t);n.splice(i,1)}function ih(e,t){if(e.length<=Xe)return;let n=Xe+t,i=e[n];if(i){let r=i[ci];r!==null&&r!==e&&nf(r,i),t>0&&(e[n-1][It]=i[It]);let o=el(e,Xe+t);YI(i[P],i);let s=o[rn];s!==null&&s.detachView(o[P]),i[Oe]=null,i[It]=null,i[R]&=-129}return i}function Wy(e,t){if(!(t[R]&256)){let n=t[fe];n.destroyNode&&Hl(e,t,n,3,null,null),JI(t)}}function Md(e,t){if(t[R]&256)return;let n=K(null);try{t[R]&=-129,t[R]|=256,t[ht]&&Ju(t[ht]),tT(e,t),eT(e,t),t[P].type===1&&t[fe].destroy();let i=t[ci];if(i!==null&&dn(t[Oe])){i!==t[Oe]&&nf(i,t);let r=t[rn];r!==null&&r.detachView(e)}eh(t)}finally{K(n)}}function eT(e,t){let n=e.cleanup,i=t[nl];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[n[o+1]];n[o].call(s)}i!==null&&(t[nl]=null);let r=t[xn];if(r!==null){t[xn]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function tT(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=t[n[i]];if(!(r instanceof fi)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];Ft(4,a,l);try{l.call(a)}finally{Ft(5,a,l)}}else{Ft(4,r,o);try{o.call(r)}finally{Ft(5,r,o)}}}}}function zy(e,t,n){return nT(e,t.parent,n)}function nT(e,t,n){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return n[un];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=e.data[i.directiveStart+r];if(o===Vt.None||o===Vt.Emulated)return null}return gt(i,n)}}function hl(e,t,n,i,r){e.insertBefore(t,n,i,r)}function qy(e,t,n){e.appendChild(t,n)}function cv(e,t,n,i,r){i!==null?hl(e,t,n,i,r):qy(e,t,n)}function Ky(e,t){return e.parentNode(t)}function iT(e,t){return e.nextSibling(t)}function Qy(e,t,n){return oT(e,t,n)}function rT(e,t,n){return e.type&40?gt(e,n):null}var oT=rT,uv;function jl(e,t,n,i){let r=zy(e,i,t),o=t[fe],s=i.parent||t[Ze],a=Qy(s,i,t);if(r!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)cv(o,r,n[l],a,!1);else cv(o,r,n,a,!1);uv!==void 0&&uv(o,i,t,n,r)}function Mo(e,t){if(t!==null){let n=t.type;if(n&3)return gt(t,e);if(n&4)return rh(-1,e[t.index]);if(n&8){let i=t.child;if(i!==null)return Mo(e,i);{let r=e[t.index];return dn(r)?rh(-1,r):Bt(r)}}else{if(n&128)return Mo(e,t.next);if(n&32)return tf(t,e)()||Bt(e[t.index]);{let i=Yy(e,t);if(i!==null){if(Array.isArray(i))return i[0];let r=di(e[ft]);return Mo(r,i)}else return Mo(e,t.next)}}}return null}function Yy(e,t){if(t!==null){let i=e[ft][Ze],r=t.projection;return i.projection[r]}return null}function rh(e,t){let n=Xe+e+1;if(n<t.length){let i=t[n],r=i[P].firstChild;if(r!==null)return Mo(i,r)}return t[ui]}function sT(e,t,n){e.removeChild(null,t,n)}function rf(e,t,n,i,r,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=i[n.index],l=n.type;if(s&&t===0&&(a&&Fn(Bt(a),i),n.flags|=2),(n.flags&32)!==32)if(l&8)rf(e,t,n.child,i,r,o,!1),dr(t,e,r,a,o);else if(l&32){let c=tf(n,i),u;for(;u=c();)dr(t,e,r,u,o);dr(t,e,r,a,o)}else l&16?Zy(e,t,i,n,r,o):dr(t,e,r,a,o);n=s?n.projectionNext:n.next}}function Hl(e,t,n,i,r,o){rf(n,i,e.firstChild,t,r,o,!1)}function aT(e,t,n){let i=t[fe],r=zy(e,n,t),o=n.parent||t[Ze],s=Qy(o,n,t);Zy(i,0,t,n,r,s)}function Zy(e,t,n,i,r,o){let s=n[ft],l=s[Ze].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];dr(t,e,r,u,o)}else{let c=l,u=s[Oe];Py(i)&&(c.flags|=128),rf(e,t,c,u,r,o,!0)}}function lT(e,t,n,i,r){let o=n[ui],s=Bt(n);o!==s&&dr(t,e,i,o,r);for(let a=Xe;a<n.length;a++){let l=n[a];Hl(l[P],l,e,t,i,o)}}function cT(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:sn.DashCase;r==null?e.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=sn.Important),e.setStyle(n,i,r,o))}}function uT(e,t,n){e.setAttribute(t,"style",n)}function Jy(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Xy(e,t,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&Vd(e,t,i),r!==null&&Jy(e,t,r),o!==null&&uT(e,t,o)}var hn={};function mt(e=1){e0(ve(),Y(),Di()+e,!1)}function e0(e,t,n,i){if(!i)if((t[R]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Ka(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Qa(t,o,0,n)}hi(n)}function ne(e,t=V.Default){let n=Y();if(n===null)return v(e,t);let i=Be();return Ty(i,n,Le(e),t)}function t0(){let e="invalid";throw new Error(e)}function n0(e,t,n,i,r,o){let s=K(null);try{let a=null;r&Pn.SignalBased&&(a=t[i][Zt]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&Pn.HasDecoratorInputTransform&&(o=e.inputTransforms[i].call(t,o)),e.setInput!==null?e.setInput(t,a,o,n,i):Zv(t,a,i,o)}finally{K(s)}}function dT(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)hi(~r);else{let o=r,s=n[++i],a=n[++i];XS(s,o);let l=t[o];a(2,l)}}}finally{hi(-1)}}function $l(e,t,n,i,r,o,s,a,l,c,u){let d=t.blueprint.slice();return d[un]=r,d[R]=i|4|128|8|64,(c!==null||e&&e[R]&2048)&&(d[R]|=2048),ry(d),d[Oe]=d[Ir]=e,d[Tt]=n,d[nn]=s||e&&e[nn],d[fe]=a||e&&e[fe],d[_r]=l||e&&e[_r]||null,d[Ze]=o,d[Ml]=OI(),d[Po]=u,d[Qv]=c,d[ft]=t.type==2?e[ft]:d,d}function Ar(e,t,n,i,r){let o=e.data[t];if(o===null)o=hT(e,t,n,i,r),JS()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=KS();o.injectorIndex=s===null?-1:s.injectorIndex}return yi(o,!0),o}function hT(e,t,n,i,r){let o=uy(),s=Uh(),a=s?o:o&&o.parent,l=e.data[t]=vT(e,a,n,t,i,r);return e.firstChild===null&&(e.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function i0(e,t,n,i){if(n===0)return-1;let r=t.length;for(let o=0;o<n;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function r0(e,t,n,i,r){let o=Di(),s=i&2;try{hi(-1),s&&t.length>Ye&&e0(e,t,Ye,!1),Ft(s?2:0,r),n(i,r)}finally{hi(o),Ft(s?3:1,r)}}function of(e,t,n){if(Hh(t)){let i=K(null);try{let r=t.directiveStart,o=t.directiveEnd;for(let s=r;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{K(i)}}}function sf(e,t,n){ly()&&(ET(e,t,n,gt(n,t)),(n.flags&64)===64&&l0(e,t,n))}function af(e,t,n=gt){let i=t.localNames;if(i!==null){let r=t.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(t,e):e[s];e[r++]=a}}}function o0(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=lf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function lf(e,t,n,i,r,o,s,a,l,c,u){let d=Ye+i,h=d+r,f=fT(d,h),p=typeof c=="function"?c():c;return f[P]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function fT(e,t){let n=[];for(let i=0;i<t;i++)n.push(i<e?null:hn);return n}function pT(e,t,n,i){let o=i.get(jI,jy)||n===Vt.ShadowDom,s=e.selectRootElement(t,o);return gT(s),s}function gT(e){mT(e)}var mT=()=>null;function _T(e,t,n,i){let r=d0(t);r.push(n),e.firstCreatePass&&h0(e).push(i,r.length-1)}function vT(e,t,n,i,r,o){let s=t?t.injectorIndex:-1,a=0;return cy()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function dv(e,t,n,i,r){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;i??={};let a,l=Pn.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(r!==null){if(!r.hasOwnProperty(o))continue;c=r[o]}e===0?hv(i,n,c,a,l):hv(i,n,c,a)}return i}function hv(e,t,n,i,r){let o;e.hasOwnProperty(n)?(o=e[n]).push(t,i):o=e[n]=[t,i],r!==void 0&&o.push(r)}function yT(e,t,n){let i=t.directiveStart,r=t.directiveEnd,o=e.data,s=t.attrs,a=[],l=null,c=null;for(let u=i;u<r;u++){let d=o[u],h=n?n.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;l=dv(0,d.inputs,u,l,f),c=dv(1,d.outputs,u,c,p);let y=l!==null&&s!==null&&!Vh(t)?kT(l,u,s):null;a.push(y)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}function DT(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function s0(e,t,n,i,r,o,s,a){let l=gt(t,n),c=t.inputs,u;!a&&c!=null&&(u=c[i])?(uf(e,n,u,i,r),Nl(t)&&bT(n,t.index)):t.type&3?(i=DT(i),r=s!=null?s(r,t.value||"",i):r,o.setProperty(l,i,r)):t.type&12}function bT(e,t){let n=Bn(t,e);n[R]&16||(n[R]|=64)}function cf(e,t,n,i){if(ly()){let r=i===null?null:{"":-1},o=IT(e,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&a0(e,t,n,s,r,a),r&&TT(n,i,r)}n.mergedAttrs=xo(n.mergedAttrs,n.attrs)}function a0(e,t,n,i,r,o){for(let c=0;c<i.length;c++)Kd(ll(n,t),e,i[c].type);NT(n,e.data.length,i.length);for(let c=0;c<i.length;c++){let u=i[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=i0(e,t,i.length,null);for(let c=0;c<i.length;c++){let u=i[c];n.mergedAttrs=xo(n.mergedAttrs,u.hostAttrs),AT(e,n,t,l,u),MT(l,u,r),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}yT(e,n,o)}function wT(e,t,n,i,r){let o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;CT(s)!=a&&s.push(a),s.push(n,i,o)}}function CT(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function ET(e,t,n,i){let r=n.directiveStart,o=n.directiveEnd;Nl(n)&&RT(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||ll(n,t),Fn(i,t);let s=n.initialInputs;for(let a=r;a<o;a++){let l=e.data[a],c=pi(t,e,a,n);if(Fn(c,t),s!==null&&PT(t,a-r,c,l,n,s),kn(l)){let u=Bn(n.index,t);u[Tt]=pi(t,e,a,n)}}}function l0(e,t,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=eI();try{hi(o);for(let a=i;a<r;a++){let l=e.data[a],c=t[a];Wd(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&ST(l,c)}}finally{hi(-1),Wd(s)}}function ST(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function IT(e,t){let n=e.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(Lv(t,s.selectors,!1))if(i||(i=[]),kn(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let l=a.length;oh(e,t,l)}else i.unshift(s),oh(e,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function oh(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function TT(e,t,n){if(t){let i=e.localNames=[];for(let r=0;r<t.length;r+=2){let o=n[t[r+1]];if(o==null)throw new E(-301,!1);i.push(t[r],o)}}}function MT(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;kn(t)&&(n[""]=e)}}function NT(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function AT(e,t,n,i,r){e.data[i]=r;let o=r.factory||(r.factory=li(r.type,!0)),s=new fi(o,kn(r),ne);e.blueprint[i]=s,n[i]=s,wT(e,t,i,i0(e,n,r.hostVars,hn),r)}function RT(e,t,n){let i=gt(t,e),r=o0(n),o=e[nn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Ul(e,$l(e,r,null,s,i,t,null,o.createRenderer(i,n),null,null,null));e[t.index]=a}function xT(e,t,n,i,r,o){let s=gt(e,t);OT(t[fe],s,o,e.value,n,i,r)}function OT(e,t,n,i,r,o,s){if(o==null)e.removeAttribute(t,r,n);else{let a=s==null?Oh(o):s(o,i||"",r);e.setAttribute(t,r,a,n)}}function PT(e,t,n,i,r,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];n0(i,n,l,c,u,d)}}function kT(e,t,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){i===null&&(i=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){i.push(o,s[a+1],s[a+2],n[r+1]);break}}r+=2}return i}function c0(e,t,n,i){return[e,!0,0,t,null,i,null,n,null,null]}function u0(e,t){let n=e.contentQueries;if(n!==null){let i=K(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=e.data[s];Wh(o),a.contentQueries(2,t[s],s)}}}finally{K(i)}}}function Ul(e,t){return e[ko]?e[J_][It]=t:e[ko]=t,e[J_]=t,t}function sh(e,t,n){Wh(0);let i=K(null);try{t(e,n)}finally{K(i)}}function d0(e){return e[nl]??=[]}function h0(e){return e.cleanup??=[]}function f0(e,t){let n=e[_r],i=n?n.get(on,null):null;i&&i.handleError(t)}function uf(e,t,n,i,r){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],l=n[o++],c=t[s],u=e.data[s];n0(u,c,i,a,l,r)}}function FT(e,t,n){let i=ty(t,e);KI(e[fe],i,n)}function LT(e,t){let n=Bn(t,e),i=n[P];VT(i,n);let r=n[un];r!==null&&n[Po]===null&&(n[Po]=ef(r,n[_r])),df(i,n,n[Tt])}function VT(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function df(e,t,n){zh(t);try{let i=e.viewQuery;i!==null&&sh(1,i,n);let r=e.template;r!==null&&r0(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[rn]?.finishViewCreation(e),e.staticContentQueries&&u0(e,t),e.staticViewQueries&&sh(2,e.viewQuery,n);let o=e.components;o!==null&&BT(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[R]&=-5,qh()}}function BT(e,t){for(let n=0;n<t.length;n++)LT(e,t[n])}function p0(e,t,n,i){let r=K(null);try{let o=t.tView,a=e[R]&4096?4096:16,l=$l(e,o,n,a,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=e[t.index];l[ci]=c;let u=e[rn];return u!==null&&(l[rn]=u.createEmbeddedView(o)),df(o,l,n),l}finally{K(r)}}function ah(e,t){return!t||t.firstChild===null||Py(e)}function g0(e,t,n,i=!0){let r=t[P];if(XI(r,t,e,n),i){let s=rh(n,e),a=t[fe],l=Ky(a,e[ui]);l!==null&&ZI(r,e[Ze],a,t,l,s)}let o=t[Po];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function fl(e,t,n,i,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&i.push(Bt(o)),dn(o)&&jT(o,i);let s=n.type;if(s&8)fl(e,t,n.child,i);else if(s&32){let a=tf(n,t),l;for(;l=a();)i.push(l)}else if(s&16){let a=Yy(t,n);if(Array.isArray(a))i.push(...a);else{let l=di(t[ft]);fl(l[P],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function jT(e,t){for(let n=Xe;n<e.length;n++){let i=e[n],r=i[P].firstChild;r!==null&&fl(i[P],i,r,t)}e[ui]!==e[un]&&t.push(e[ui])}var m0=[];function HT(e){return e[ht]??$T(e)}function $T(e){let t=m0.pop()??Object.create(GT);return t.lView=e,t}function UT(e){e.lView[ht]!==e&&(e.lView=null,m0.push(e))}var GT=L(_({},Co),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{xl(e.lView)},consumerOnSignalRead(){this.lView[ht]=this}});function WT(e){let t=e[ht]??Object.create(zT);return t.lView=e,t}var zT=L(_({},Co),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=di(e.lView);for(;t&&!_0(t[P]);)t=di(t);t&&oy(t)},consumerOnSignalRead(){this.lView[ht]=this}});function _0(e){return e.type!==2}var qT=100;function v0(e,t=!0,n=0){let i=e[nn],r=i.rendererFactory,o=!1;o||r.begin?.();try{KT(e,n)}catch(s){throw t&&f0(e,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function KT(e,t){let n=dy();try{ev(!0),lh(e,t);let i=0;for(;Rl(e);){if(i===qT)throw new E(103,!1);i++,lh(e,1)}}finally{ev(n)}}function QT(e,t,n,i){let r=t[R];if((r&256)===256)return;let o=!1,s=!1;!o&&t[nn].inlineEffectRunner?.flush(),zh(t);let a=!0,l=null,c=null;o||(_0(e)?(c=HT(t),l=da(c)):l_()===null?(a=!1,c=WT(t),l=da(c)):t[ht]&&(Ju(t[ht]),t[ht]=null));try{ry(t),ZS(e.bindingStartIndex),n!==null&&r0(e,t,n,2,i);let u=(r&3)===3;if(!o)if(u){let f=e.preOrderCheckHooks;f!==null&&Ka(t,f,null)}else{let f=e.preOrderHooks;f!==null&&Qa(t,f,0,null),Ed(t,0)}if(s||YT(t),y0(t,0),e.contentQueries!==null&&u0(e,t),!o)if(u){let f=e.contentCheckHooks;f!==null&&Ka(t,f)}else{let f=e.contentHooks;f!==null&&Qa(t,f,1),Ed(t,1)}dT(e,t);let d=e.components;d!==null&&b0(t,d,0);let h=e.viewQuery;if(h!==null&&sh(2,h,i),!o)if(u){let f=e.viewCheckHooks;f!==null&&Ka(t,f)}else{let f=e.viewHooks;f!==null&&Qa(t,f,2),Ed(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Cd]){for(let f of t[Cd])f();t[Cd]=null}o||(t[R]&=-73)}catch(u){throw o||xl(t),u}finally{c!==null&&(Yu(c,l),a&&UT(c)),qh()}}function y0(e,t){for(let n=Fy(e);n!==null;n=Ly(n))for(let i=Xe;i<n.length;i++){let r=n[i];D0(r,t)}}function YT(e){for(let t=Fy(e);t!==null;t=Ly(t)){if(!(t[R]&rl.HasTransplantedViews))continue;let n=t[vr];for(let i=0;i<n.length;i++){let r=n[i];oy(r)}}}function ZT(e,t,n){let i=Bn(t,e);D0(i,n)}function D0(e,t){$h(e)&&lh(e,t)}function lh(e,t){let i=e[P],r=e[R],o=e[ht],s=!!(t===0&&r&16);if(s||=!!(r&64&&t===0),s||=!!(r&1024),s||=!!(o?.dirty&&Zu(o)),s||=!1,o&&(o.dirty=!1),e[R]&=-9217,s)QT(i,e,i.template,e[Tt]);else if(r&8192){y0(e,1);let a=i.components;a!==null&&b0(e,a,1)}}function b0(e,t,n){for(let i=0;i<t.length;i++)ZT(e,t[i],n)}function hf(e,t){let n=dy()?64:1088;for(e[nn].changeDetectionScheduler?.notify(t);e;){e[R]|=n;let i=di(e);if($d(e)&&!i)return e;e=i}return null}var gi=class{get rootNodes(){let t=this._lView,n=t[P];return fl(n,t,n.firstChild,[])}constructor(t,n,i=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Tt]}set context(t){this._lView[Tt]=t}get destroyed(){return(this._lView[R]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Oe];if(dn(t)){let n=t[il],i=n?n.indexOf(this):-1;i>-1&&(ih(t,i),el(n,i))}this._attachedToViewContainer=!1}Wy(this._lView[P],this._lView)}onDestroy(t){sy(this._lView,t)}markForCheck(){hf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[R]&=-129}reattach(){Gd(this._lView),this._lView[R]|=128}detectChanges(){this._lView[R]|=1024,v0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=$d(this._lView),n=this._lView[ci];n!==null&&!t&&nf(n,this._lView),Uy(this._lView[P],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=t;let n=$d(this._lView),i=this._lView[ci];i!==null&&!n&&Gy(i,this._lView),Gd(this._lView)}},an=(()=>{class e{static{this.__NG_ELEMENT_ID__=eM}}return e})(),JT=an,XT=class extends JT{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,i){let r=p0(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:i});return new gi(r)}};function eM(){return Gl(Be(),Y())}function Gl(e,t){return e.type&4?new XT(t,e,Nr(e,t)):null}var MG=new RegExp(`^(\\d+)*(${VI}|${LI})*(.*)`);var tM=()=>null;function ch(e,t){return tM(e,t)}var Dr=class{},ff=new D("",{providedIn:"root",factory:()=>!1});var w0=new D(""),C0=new D(""),uh=class{},pl=class{};function nM(e){let t=Error(`No component factory found for ${Ve(e)}.`);return t[iM]=e,t}var iM="ngComponent";var dh=class{resolveComponentFactory(t){throw nM(t)}},br=class{static{this.NULL=new dh}},wr=class{},Rr=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>rM()}}return e})();function rM(){let e=Y(),t=Be(),n=Bn(t.index,e);return(On(n)?n:e)[fe]}var oM=(()=>{class e{static{this.\u0275prov=b({token:e,providedIn:"root",factory:()=>null})}}return e})();function gl(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)r=Pd(r,a);else if(o==2){let l=a,c=t[++s];i=Pd(i,l+": "+c+";")}}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}var ml=class extends br{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=tn(t);return new mi(n,this.ngModule)}};function fv(e,t){let n=[];for(let i in e){if(!e.hasOwnProperty(i))continue;let r=e[i];if(r===void 0)continue;let o=Array.isArray(r),s=o?r[0]:r,a=o?r[1]:Pn.None;t?n.push({propName:s,templateName:i,isSignal:(a&Pn.SignalBased)!==0}):n.push({propName:s,templateName:i})}return n}function sM(e){let t=e.toLowerCase();return t==="svg"?LS:t==="math"?VS:null}var mi=class extends pl{get inputs(){let t=this.componentDef,n=t.inputTransforms,i=fv(t.inputs,!0);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return fv(this.componentDef.outputs,!1)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=gS(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,i,r){let o=K(null);try{r=r||this.ngModule;let s=r instanceof xe?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new zd(t,s):t,l=a.get(wr,null);if(l===null)throw new E(407,!1);let c=a.get(oM,null),u=a.get(Dr,null),d={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:u},h=l.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=i?pT(h,i,this.componentDef.encapsulation,a):$y(h,f,sM(f)),y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let w=null;p!==null&&(w=ef(p,a,!0));let M=lf(0,null,null,1,0,null,null,null,null,null,null),q=$l(null,M,null,y,null,null,d,h,a,null,w);zh(q);let F,le,Ge=null;try{let Je=this.componentDef,$i,Uu=null;Je.findHostDirectiveDefs?($i=[],Uu=new Map,Je.findHostDirectiveDefs(Je,$i,Uu),$i.push(Je)):$i=[Je];let K1=aM(q,p);Ge=lM(K1,p,Je,$i,q,d,h),le=ny(M,Ye),p&&dM(h,Je,p,i),n!==void 0&&hM(le,this.ngContentSelectors,n),F=uM(Ge,Je,$i,Uu,q,[fM]),df(M,q,null)}catch(Je){throw Ge!==null&&eh(Ge),eh(q),Je}finally{qh()}return new hh(this.componentType,F,Nr(le,q),q,le)}finally{K(o)}}},hh=class extends uh{constructor(t,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new gi(r,void 0,!1),this.componentType=t}setInput(t,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView;uf(o[P],o,r,t,n),this.previousInputValues.set(t,n);let s=Bn(this._tNode.index,o);hf(s,1)}}get injector(){return new ai(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function aM(e,t){let n=e[P],i=Ye;return e[i]=t,Ar(n,i,2,"#host",null)}function lM(e,t,n,i,r,o,s){let a=r[P];cM(i,e,t,s);let l=null;t!==null&&(l=ef(t,r[_r]));let c=o.rendererFactory.createRenderer(t,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=$l(r,o0(n),null,u,r[e.index],e,o,c,null,null,l);return a.firstCreatePass&&oh(a,e,i.length-1),Ul(r,d),r[e.index]=d}function cM(e,t,n,i){for(let r of e)t.mergedAttrs=xo(t.mergedAttrs,r.hostAttrs);t.mergedAttrs!==null&&(gl(t,t.mergedAttrs,!0),n!==null&&Xy(i,n,t))}function uM(e,t,n,i,r,o){let s=Be(),a=r[P],l=gt(s,r);a0(a,r,s,n,null,i);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,h=pi(r,a,d,s);Fn(h,r)}l0(a,r,s),l&&Fn(l,r);let c=pi(r,a,s.directiveStart+s.componentOffset,s);if(e[Tt]=r[Tt]=c,o!==null)for(let u of o)u(c,t);return of(a,s,r),c}function dM(e,t,n,i){if(i)Vd(e,n,["ng-version","18.2.9"]);else{let{attrs:r,classes:o}=mS(t.selectors[0]);r&&Vd(e,n,r),o&&o.length>0&&Jy(e,n,o.join(" "))}}function hM(e,t,n){let i=e.projection=[];for(let r=0;r<t.length;r++){let o=n[r];i.push(o!=null?Array.from(o):null)}}function fM(){let e=Be();Fl(Y()[P],e)}var fn=(()=>{class e{static{this.__NG_ELEMENT_ID__=pM}}return e})();function pM(){let e=Be();return S0(e,Y())}var gM=fn,E0=class extends gM{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return Nr(this._hostTNode,this._hostLView)}get injector(){return new ai(this._hostTNode,this._hostLView)}get parentInjector(){let t=Qh(this._hostTNode,this._hostLView);if(by(t)){let n=sl(t,this._hostLView),i=ol(t),r=n[P].data[i+8];return new ai(r,n)}else return new ai(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=pv(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Xe}createEmbeddedView(t,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=ch(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,ah(this._hostTNode,s)),a}createComponent(t,n,i,r,o){let s=t&&!OS(t),a;if(s)a=n;else{let p=n||{};a=p.index,i=p.injector,r=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let l=s?t:new mi(tn(t)),c=i||this.parentInjector;if(!o&&l.ngModule==null){let y=(s?c:this.parentInjector).get(xe,null);y&&(o=y)}let u=tn(l.componentType??{}),d=ch(this._lContainer,u?.id??null),h=d?.firstChild??null,f=l.create(c,r,h,o);return this.insertImpl(f.hostView,a,ah(this._hostTNode,d)),f}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,i){let r=t._lView;if(jS(r)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=r[Oe],c=new E0(l,l[Ze],l[Oe]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return g0(s,r,o,i),t.attachToViewContainerRef(),xv(Nd(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=pv(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),i=ih(this._lContainer,n);i&&(el(Nd(this._lContainer),n),Wy(i[P],i))}detach(t){let n=this._adjustIndex(t,-1),i=ih(this._lContainer,n);return i&&el(Nd(this._lContainer),n)!=null?new gi(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function pv(e){return e[il]}function Nd(e){return e[il]||(e[il]=[])}function S0(e,t){let n,i=t[e.index];return dn(i)?n=i:(n=c0(i,t,null,e),t[e.index]=n,Ul(t,n)),_M(n,t,e,i),new E0(n,e,t)}function mM(e,t){let n=e[fe],i=n.createComment(""),r=gt(t,e),o=Ky(n,r);return hl(n,o,i,iT(n,r),!1),i}var _M=DM,vM=()=>!1;function yM(e,t,n){return vM(e,t,n)}function DM(e,t,n,i){if(e[ui])return;let r;n.type&8?r=Bt(i):r=mM(t,n),e[ui]=r}var fh=class e{constructor(t){this.queryList=t,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},ph=class e{constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let i=t.contentQueries!==null?t.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)pf(t,n).matches!==null&&this.queries[n].setDirty()}},gh=class{constructor(t,n,i=null){this.flags=n,this.read=i,typeof t=="string"?this.predicate=MM(t):this.predicate=t}},mh=class e{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},_h=class e{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(t,n,bM(n,o)),this.matchTNodeWithReadOption(t,n,Ya(n,t,o,!1,!1))}else i===an?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Ya(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===et||r===fn||r===an&&n.type&4)this.addMatch(n.index,-2);else{let o=Ya(n,t,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function bM(e,t){let n=e.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1]}return null}function wM(e,t){return e.type&11?Nr(e,t):e.type&4?Gl(e,t):null}function CM(e,t,n,i){return n===-1?wM(t,e):n===-2?EM(e,t,i):pi(e,e[P],n,t)}function EM(e,t,n){if(n===et)return Nr(t,e);if(n===an)return Gl(t,e);if(n===fn)return S0(t,e)}function I0(e,t,n,i){let r=t[rn].queries[i];if(r.matches===null){let o=e.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(CM(t,u,s[l+1],n.metadata.read))}}r.matches=a}return r.matches}function vh(e,t,n,i){let r=e.queries.getByIndex(n),o=r.matches;if(o!==null){let s=I0(e,t,r,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let c=o[a+1],u=t[-l];for(let d=Xe;d<u.length;d++){let h=u[d];h[ci]===h[Oe]&&vh(h[P],h,c,i)}if(u[vr]!==null){let d=u[vr];for(let h=0;h<d.length;h++){let f=d[h];vh(f[P],f,c,i)}}}}}return i}function SM(e,t){return e[rn].queries[t].queryList}function IM(e,t,n){let i=new Xd((n&4)===4);return _T(e,t,i,i.destroy),(t[rn]??=new ph).queries.push(new fh(i))-1}function TM(e,t,n){let i=ve();return i.firstCreatePass&&(NM(i,new gh(e,t,n),-1),(t&2)===2&&(i.staticViewQueries=!0)),IM(i,Y(),t)}function MM(e){return e.split(",").map(t=>t.trim())}function NM(e,t,n){e.queries===null&&(e.queries=new mh),e.queries.track(new _h(t,n))}function pf(e,t){return e.queries.getByIndex(t)}function AM(e,t){let n=e[P],i=pf(n,t);return i.crossesNgTemplate?vh(n,e,t,[]):I0(n,e,i,t)}var gv=new Set;function jo(e){gv.has(e)||(gv.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function RM(e){return typeof e=="function"&&e[Zt]!==void 0}function Wl(e,t){jo("NgSignals");let n=y_(e),i=n[Zt];return t?.equal&&(i.equal=t.equal),n.set=r=>Xu(i,r),n.update=r=>D_(i,r),n.asReadonly=xM.bind(n),n}function xM(){let e=this[Zt];if(e.readonlyFn===void 0){let t=()=>this();t[Zt]=e,e.readonlyFn=t}return e.readonlyFn}function T0(e){return RM(e)&&typeof e.set=="function"}function OM(e){let t=[],n=new Map;function i(r){let o=n.get(r);if(!o){let s=e(r);n.set(r,o=s.then(LM))}return o}return _l.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(i(r.templateUrl).then(c=>{r.template=c}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,u=r.styleUrls;r.styleUrls.forEach((d,h)=>{a.push(""),s.push(i(d).then(f=>{a[c+h]=f,u.splice(u.indexOf(d),1),u.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(i(r.styleUrl).then(c=>{a.push(c),r.styleUrl=void 0}));let l=Promise.all(s).then(()=>VM(o));t.push(l)}),kM(),Promise.all(t).then(()=>{})}var _l=new Map,PM=new Set;function kM(){let e=_l;return _l=new Map,e}function FM(){return _l.size===0}function LM(e){return typeof e=="string"?e:e.text()}function VM(e){PM.delete(e)}function BM(e){return Object.getPrototypeOf(e.prototype).constructor}function bi(e){let t=BM(e.type),n=!0,i=[e];for(;t;){let r;if(kn(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new E(903,!1);r=t.\u0275dir}if(r){if(n){i.push(r);let s=e;s.inputs=Ua(e.inputs),s.inputTransforms=Ua(e.inputTransforms),s.declaredInputs=Ua(e.declaredInputs),s.outputs=Ua(e.outputs);let a=r.hostBindings;a&&GM(e,a);let l=r.viewQuery,c=r.contentQueries;if(l&&$M(e,l),c&&UM(e,c),jM(e,r),OE(e.outputs,r.outputs),kn(r)&&r.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===bi&&(n=!1)}}t=Object.getPrototypeOf(t)}HM(i)}function jM(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let i=t.inputs[n];if(i!==void 0&&(e.inputs[n]=i,e.declaredInputs[n]=t.declaredInputs[n],t.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!t.inputTransforms.hasOwnProperty(r))continue;e.inputTransforms??={},e.inputTransforms[r]=t.inputTransforms[r]}}}function HM(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){let r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=xo(r.hostAttrs,n=xo(n,r.hostAttrs))}}function Ua(e){return e===pr?{}:e===Qe?[]:e}function $M(e,t){let n=e.viewQuery;n?e.viewQuery=(i,r)=>{t(i,r),n(i,r)}:e.viewQuery=t}function UM(e,t){let n=e.contentQueries;n?e.contentQueries=(i,r,o)=>{t(i,r,o),n(i,r,o)}:e.contentQueries=t}function GM(e,t){let n=e.hostBindings;n?e.hostBindings=(i,r)=>{t(i,r),n(i,r)}:e.hostBindings=t}var Ln=class{},Fo=class{};var vl=class extends Ln{constructor(t,n,i,r=!0){super(),this.ngModuleType=t,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ml(this);let o=Hv(t);this._bootstrapComponents=Hy(o.bootstrap),this._r3Injector=Ay(t,n,[{provide:Ln,useValue:this},{provide:br,useValue:this.componentFactoryResolver},...i],Ve(t),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},yl=class extends Fo{constructor(t){super(),this.moduleType=t}create(t){return new vl(this.moduleType,t,[])}};function WM(e,t,n){return new vl(e,t,n,!1)}var yh=class extends Ln{constructor(t){super(),this.componentFactoryResolver=new ml(this),this.instance=null;let n=new Oo([...t.providers,{provide:Ln,useValue:this},{provide:br,useValue:this.componentFactoryResolver}],t.parent||Tl(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function zl(e,t,n=null){return new yh({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}function M0(e){return qM(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function zM(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),i;for(;!(i=n.next()).done;)t(i.value)}}function qM(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function KM(e,t,n){return e[t]=n}function Vn(e,t,n){let i=e[t];return Object.is(i,n)?!1:(e[t]=n,!0)}function QM(e,t,n,i){let r=Vn(e,t,n);return Vn(e,t+1,i)||r}function YM(e){return(e.flags&32)===32}function ZM(e,t,n,i,r,o,s,a,l){let c=t.consts,u=Ar(t,e,4,s||null,a||null);cf(t,n,u,yr(c,l)),Fl(t,u);let d=u.tView=lf(2,u,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function N0(e,t,n,i,r,o,s,a,l,c){let u=n+Ye,d=t.firstCreatePass?ZM(u,t,e,i,r,o,s,a,l):t.data[u];yi(d,!1);let h=JM(t,e,d,n);Pl()&&jl(t,e,h,d),Fn(h,e);let f=c0(h,e,h,d);return e[u]=f,Ul(e,f),yM(f,d,e),Al(d)&&sf(t,e,d),l!=null&&af(e,d,c),d}function pn(e,t,n,i,r,o,s,a){let l=Y(),c=ve(),u=yr(c.consts,o);return N0(l,c,e,t,n,i,r,u,s,a),pn}var JM=XM;function XM(e,t,n,i){return kl(!0),t[fe].createComment("")}var en=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(en||{}),A0=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=b({token:e,providedIn:"root",factory:()=>new e})}}return e})(),Dh=class e{constructor(){this.ngZone=g(G),this.scheduler=g(Dr),this.errorHandler=g(on,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[en.EarlyRead,en.Write,en.MixedReadWrite,en.Read]}execute(){this.executing=!0;for(let t of e.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[t]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[t](n.pipelinedValue))}catch(i){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(let t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=b({token:e,providedIn:"root",factory:()=>new e})}},bh=class{constructor(t,n,i,r){this.impl=t,this.hooks=n,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function xr(e,t){!t?.injector&&RS(xr);let n=t?.injector??g(Ce);return WI(n)?(jo("NgAfterNextRender"),tN(e,n,t,!0)):nN}function eN(e,t){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[t]=e,n}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function tN(e,t,n,i){let r=t.get(A0);r.impl??=t.get(Dh);let o=n?.phase??en.MixedReadWrite,s=n?.manualCleanup!==!0?t.get(Ll):null,a=new bh(r.impl,eN(e,o),i,s);return r.impl.register(a),a}var nN={destroy(){}};function Ho(e,t,n,i){let r=Y(),o=Ol();if(Vn(r,o,t)){let s=ve(),a=Kh();xT(a,r,e,t,n,i)}return Ho}function iN(e,t,n,i){return Vn(e,Ol(),n)?t+Oh(n)+i:hn}function Ga(e,t){return e<<17|t<<2}function _i(e){return e>>17&32767}function rN(e){return(e&2)==2}function oN(e,t){return e&131071|t<<17}function wh(e){return e|2}function Cr(e){return(e&131068)>>2}function Ad(e,t){return e&-131069|t<<2}function sN(e){return(e&1)===1}function Ch(e){return e|1}function aN(e,t,n,i,r,o){let s=o?t.classBindings:t.styleBindings,a=_i(s),l=Cr(s);e[i]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Bo(d,u)>0)&&(c=!0)}else u=n;if(r)if(l!==0){let h=_i(e[a+1]);e[i+1]=Ga(h,a),h!==0&&(e[h+1]=Ad(e[h+1],i)),e[a+1]=oN(e[a+1],i)}else e[i+1]=Ga(a,0),a!==0&&(e[a+1]=Ad(e[a+1],i)),a=i;else e[i+1]=Ga(l,0),a===0?a=i:e[l+1]=Ad(e[l+1],i),l=i;c&&(e[i+1]=wh(e[i+1])),mv(e,u,i,!0),mv(e,u,i,!1),lN(t,u,e,i,o),s=Ga(a,l),o?t.classBindings=s:t.styleBindings=s}function lN(e,t,n,i,r){let o=r?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Bo(o,t)>=0&&(n[i+1]=Ch(n[i+1]))}function mv(e,t,n,i){let r=e[n+1],o=t===null,s=i?_i(r):Cr(r),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];cN(l,t)&&(a=!0,e[s+1]=i?Ch(c):wh(c)),s=i?_i(c):Cr(c)}a&&(e[n+1]=i?wh(r):Ch(r))}function cN(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Bo(e,t)>=0:!1}var St={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function uN(e){return e.substring(St.key,St.keyEnd)}function dN(e){return hN(e),R0(e,x0(e,0,St.textEnd))}function R0(e,t){let n=St.textEnd;return n===t?-1:(t=St.keyEnd=fN(e,St.key=t,n),x0(e,t,n))}function hN(e){St.key=0,St.keyEnd=0,St.value=0,St.valueEnd=0,St.textEnd=e.length}function x0(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function fN(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function Nt(e,t,n){let i=Y(),r=Ol();if(Vn(i,r,t)){let o=ve(),s=Kh();s0(o,s,i,e,t,i[fe],n,!1)}return Nt}function Eh(e,t,n,i,r){let o=t.inputs,s=r?"class":"style";uf(e,n,o[s],s,i)}function Or(e,t){return gN(e,t,null,!0),Or}function ql(e){mN(wN,pN,e,!0)}function pN(e,t){for(let n=dN(t);n>=0;n=R0(t,n))Lh(e,uN(t),!0)}function gN(e,t,n,i){let r=Y(),o=ve(),s=hy(2);if(o.firstUpdatePass&&P0(o,e,s,i),t!==hn&&Vn(r,s,t)){let a=o.data[Di()];k0(o,a,r,r[fe],e,r[s+1]=EN(t,n),i,s)}}function mN(e,t,n,i){let r=ve(),o=hy(2);r.firstUpdatePass&&P0(r,null,o,i);let s=Y();if(n!==hn&&Vn(s,o,n)){let a=r.data[Di()];if(F0(a,i)&&!O0(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=Pd(l,n||"")),Eh(r,a,s,n,i)}else CN(r,a,s,s[fe],s[o+1],s[o+1]=bN(e,t,n),i,o)}}function O0(e,t){return t>=e.expandoStartIndex}function P0(e,t,n,i){let r=e.data;if(r[n+1]===null){let o=r[Di()],s=O0(e,n);F0(o,i)&&t===null&&!s&&(t=!1),t=_N(r,o,t,i),aN(r,o,t,n,s,i)}}function _N(e,t,n,i){let r=tI(e),o=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(n=Rd(null,e,t,n,i),n=Lo(n,t.attrs,i),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==r)if(n=Rd(r,e,t,n,i),o===null){let l=vN(e,t,i);l!==void 0&&Array.isArray(l)&&(l=Rd(null,e,t,l[1],i),l=Lo(l,t.attrs,i),yN(e,t,i,l))}else o=DN(e,t,i)}return o!==void 0&&(i?t.residualClasses=o:t.residualStyles=o),n}function vN(e,t,n){let i=n?t.classBindings:t.styleBindings;if(Cr(i)!==0)return e[_i(i)]}function yN(e,t,n,i){let r=n?t.classBindings:t.styleBindings;e[_i(r)]=i}function DN(e,t,n){let i,r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++){let s=e[o].hostAttrs;i=Lo(i,s,n)}return Lo(i,t.attrs,n)}function Rd(e,t,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],i=Lo(i,o.hostAttrs,r),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),i}function Lo(e,t,n){let i=n?1:2,r=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?r=s:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Lh(e,s,n?!0:t[++o]))}return e===void 0?null:e}function bN(e,t,n){if(n==null||n==="")return Qe;let i=[],r=Bl(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else typeof r=="string"&&t(i,r);return i}function wN(e,t,n){let i=String(t);i!==""&&!i.includes(" ")&&Lh(e,i,n)}function CN(e,t,n,i,r,o,s,a){r===hn&&(r=Qe);let l=0,c=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let h=l<r.length?r[l+1]:void 0,f=c<o.length?o[c+1]:void 0,p=null,y;u===d?(l+=2,c+=2,h!==f&&(p=d,y=f)):d===null||u!==null&&u<d?(l+=2,p=u):(c+=2,p=d,y=f),p!==null&&k0(e,t,n,i,p,y,s,a),u=l<r.length?r[l]:null,d=c<o.length?o[c]:null}}function k0(e,t,n,i,r,o,s,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],u=sN(c)?_v(l,t,n,r,Cr(c),s):void 0;if(!Dl(u)){Dl(o)||rN(c)&&(o=_v(l,null,n,r,a,s));let d=ty(Di(),n);cT(i,s,d,r,o)}}function _v(e,t,n,i,r,o){let s=t===null,a;for(;r>0;){let l=e[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=n[r+1];h===hn&&(h=d?Qe:void 0);let f=d?bd(h,i):u===i?h:void 0;if(c&&!Dl(f)&&(f=bd(l,i)),Dl(f)&&(a=f,s))return a;let p=e[r+1];r=s?_i(p):Cr(p)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=bd(l,i))}return a}function Dl(e){return e!==void 0}function EN(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Ve(Bl(e)))),e}function F0(e,t){return(e.flags&(t?8:16))!==0}function SN(e,t,n,i,r,o){let s=t.consts,a=yr(s,r),l=Ar(t,e,2,i,a);return cf(t,n,l,yr(s,o)),l.attrs!==null&&gl(l,l.attrs,!1),l.mergedAttrs!==null&&gl(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function se(e,t,n,i){let r=Y(),o=ve(),s=Ye+e,a=r[fe],l=o.firstCreatePass?SN(s,o,r,t,n,i):o.data[s],c=IN(o,r,l,a,t,e);r[s]=c;let u=Al(l);return yi(l,!0),Xy(a,c,l),!YM(l)&&Pl()&&jl(o,r,c,l),US()===0&&Fn(c,r),GS(),u&&(sf(o,r,l),of(o,l,r)),i!==null&&af(r,l),se}function pe(){let e=Be();Uh()?Gh():(e=e.parent,yi(e,!1));let t=e;zS(t)&&qS(),WS();let n=ve();return n.firstCreatePass&&(Fl(n,e),Hh(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&lI(t)&&Eh(n,t,Y(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&cI(t)&&Eh(n,t,Y(),t.stylesWithoutHost,!1),pe}function wi(e,t,n,i){return se(e,t,n,i),pe(),wi}var IN=(e,t,n,i,r,o)=>(kl(!0),$y(i,r,rI()));function TN(e,t,n,i,r){let o=t.consts,s=yr(o,i),a=Ar(t,e,8,"ng-container",s);s!==null&&gl(a,s,!0);let l=yr(o,r);return cf(t,n,a,l),t.queries!==null&&t.queries.elementStart(t,a),a}function $o(e,t,n){let i=Y(),r=ve(),o=e+Ye,s=r.firstCreatePass?TN(o,r,i,t,n):r.data[o];yi(s,!0);let a=MN(r,i,s,e);return i[o]=a,Pl()&&jl(r,i,a,s),Fn(a,i),Al(s)&&(sf(r,i,s),of(r,s,i)),n!=null&&af(i,s),$o}function Uo(){let e=Be(),t=ve();return Uh()?Gh():(e=e.parent,yi(e,!1)),t.firstCreatePass&&(Fl(t,e),Hh(e)&&t.queries.elementEnd(e)),Uo}var MN=(e,t,n,i)=>(kl(!0),QI(t[fe],""));function Ci(){return Y()}var bl="en-US";var NN=bl;function AN(e){typeof e=="string"&&(NN=e.toLowerCase().replace(/_/g,"-"))}var RN=(e,t,n)=>{};function gn(e,t,n,i){let r=Y(),o=ve(),s=Be();return L0(o,r,r[fe],s,e,t,i),gn}function xN(e,t,n,i){let r=e.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=t[nl],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function L0(e,t,n,i,r,o,s){let a=Al(i),c=e.firstCreatePass&&h0(e),u=t[Tt],d=d0(t),h=!0;if(i.type&3||s){let y=gt(i,t),w=s?s(y):y,M=d.length,q=s?le=>s(Bt(le[i.index])):i.index,F=null;if(!s&&a&&(F=xN(e,t,r,i.index)),F!==null){let le=F.__ngLastListenerFn__||F;le.__ngNextListenerFn__=o,F.__ngLastListenerFn__=o,h=!1}else{o=yv(i,t,u,o),RN(y,r,o);let le=n.listen(w,r,o);d.push(o,le),c&&c.push(r,q,M,M+1)}}else o=yv(i,t,u,o);let f=i.outputs,p;if(h&&f!==null&&(p=f[r])){let y=p.length;if(y)for(let w=0;w<y;w+=2){let M=p[w],q=p[w+1],Ge=t[M][q].subscribe(o),Je=d.length;d.push(o,Ge),c&&c.push(r,i.index,Je,-(Je+1))}}}function vv(e,t,n,i){let r=K(null);try{return Ft(6,t,n),n(i)!==!1}catch(o){return f0(e,o),!1}finally{Ft(7,t,n),K(r)}}function yv(e,t,n,i){return function r(o){if(o===Function)return i;let s=e.componentOffset>-1?Bn(e.index,t):t;hf(s,5);let a=vv(t,n,i,o),l=r.__ngNextListenerFn__;for(;l;)a=vv(t,n,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function me(e=1){return iI(e)}function ON(e,t){let n=null,i=uS(e);for(let r=0;r<t.length;r++){let o=t[r];if(o==="*"){n=r;continue}if(i===null?Lv(e,o,!0):fS(i,o))return r}return n}function V0(e){let t=Y()[ft][Ze];if(!t.projection){let n=e?e.length:1,i=t.projection=eS(n,null),r=i.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let s=e?ON(o,e):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function B0(e,t=0,n,i,r,o){let s=Y(),a=ve(),l=i?e+1:null;l!==null&&N0(s,a,l,i,r,o,null,n);let c=Ar(a,Ye+e,16,null,n||null);c.projection===null&&(c.projection=t),Gh();let d=!s[Po]||cy();s[ft][Ze].projection[c.projection]===null&&l!==null?PN(s,a,l):d&&(c.flags&32)!==32&&aT(a,s,c)}function PN(e,t,n){let i=Ye+n,r=t.data[i],o=e[i],s=ch(o,r.tView.ssrId),a=p0(e,r,void 0,{dehydratedView:s});g0(o,a,0,ah(r,s))}function j0(e,t,n){TM(e,t,n)}function gf(e){let t=Y(),n=ve(),i=fy();Wh(i+1);let r=pf(n,i);if(e.dirty&&BS(t)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let o=AM(t,i);e.reset(o,AI),e.notifyOnChanges()}return!0}return!1}function mf(){return SM(Y(),fy())}function kN(e,t,n,i){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=i}function Kl(e){let t=QS();return iy(t,Ye+e)}function Ht(e,t=""){let n=Y(),i=ve(),r=e+Ye,o=i.firstCreatePass?Ar(i,r,1,t,null):i.data[r],s=FN(i,n,o,t,e);n[r]=s,Pl()&&jl(i,n,s,o),yi(o,!1)}var FN=(e,t,n,i,r)=>(kl(!0),qI(t[fe],i));function Ql(e){return _f("",e,""),Ql}function _f(e,t,n){let i=Y(),r=iN(i,e,t,n);return r!==hn&&FT(i,Di(),r),_f}function Ei(e,t,n){T0(t)&&(t=t());let i=Y(),r=Ol();if(Vn(i,r,t)){let o=ve(),s=Kh();s0(o,s,i,e,t,i[fe],n,!1)}return Ei}function Pr(e,t){let n=T0(e);return n&&e.set(t),n}function Si(e,t){let n=Y(),i=ve(),r=Be();return L0(i,n,n[fe],r,e,t),Si}function LN(e,t,n){let i=ve();if(i.firstCreatePass){let r=kn(e);Sh(n,i.data,i.blueprint,r,!0),Sh(t,i.data,i.blueprint,r,!1)}}function Sh(e,t,n,i,r){if(e=Le(e),Array.isArray(e))for(let o=0;o<e.length;o++)Sh(e[o],t,n,i,r);else{let o=ve(),s=Y(),a=Be(),l=mr(e)?e:Le(e.provide),c=qv(e),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(mr(e)||!e.multi){let f=new fi(c,r,ne),p=Od(l,t,r?u:u+h,d);p===-1?(Kd(ll(a,s),o,l),xd(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{let f=Od(l,t,u+h,d),p=Od(l,t,u,u+h),y=f>=0&&n[f],w=p>=0&&n[p];if(r&&!w||!r&&!y){Kd(ll(a,s),o,l);let M=jN(r?BN:VN,n.length,r,i,c);!r&&w&&(n[p].providerFactory=M),xd(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(M),s.push(M)}else{let M=H0(n[r?p:f],c,!r&&i);xd(o,e,f>-1?f:p,M)}!r&&i&&w&&n[p].componentProviders++}}}function xd(e,t,n,i){let r=mr(t),o=ES(t);if(r||o){let l=(o?Le(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){let u=c.indexOf(n);u===-1?c.push(n,[i,l]):c[u+1].push(i,l)}else c.push(n,l)}}}function H0(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Od(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function VN(e,t,n,i){return Ih(this.multi,[])}function BN(e,t,n,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=pi(n,n[P],this.providerFactory.index,i);o=a.slice(0,s),Ih(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Ih(r,o);return o}function Ih(e,t){for(let n=0;n<e.length;n++){let i=e[n];t.push(i())}return t}function jN(e,t,n,i,r){let o=new fi(e,n,ne);return o.multi=[],o.index=t,o.componentProviders=0,H0(o,r,i&&!n),o}function Yl(e,t=[]){return n=>{n.providersResolver=(i,r)=>LN(i,r?r(e):e,t)}}var HN=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=Gv(!1,n.type),r=i.length>0?zl([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=b({token:e,providedIn:"environment",factory:()=>new e(v(xe))})}}return e})();function Go(e){jo("NgStandalone"),e.getStandaloneInjector=t=>t.get(HN).getOrCreateStandaloneInjector(e)}function $N(e,t){let n=e[t];return n===hn?void 0:n}function UN(e,t,n,i,r,o,s){let a=t+n;return QM(e,a,r,o)?KM(e,a+2,s?i.call(s,r,o):i(r,o)):$N(e,a+2)}function vf(e,t){let n=ve(),i,r=e+Ye;n.firstCreatePass?(i=GN(t,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let o=i.factory||(i.factory=li(i.type,!0)),s,a=Ke(ne);try{let l=al(!1),c=o();return al(l),kN(n,Y(),r,c),c}finally{Ke(a)}}function GN(e,t){if(t)for(let n=t.length-1;n>=0;n--){let i=t[n];if(e===i.name)return i}}function $0(e,t,n,i){let r=e+Ye,o=Y(),s=iy(o,r);return WN(o,r)?UN(o,YS(),t,s.transform,n,i,s):s.transform(n,i)}function WN(e,t){return e[P].data[t].pure}function Zl(e,t){return Gl(e,t)}var Wa=null;function zN(e){Wa!==null&&(e.defaultEncapsulation!==Wa.defaultEncapsulation||e.preserveWhitespaces!==Wa.preserveWhitespaces)||(Wa=e)}var ln=class{constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},U0=new ln("18.2.9");var Jl=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var yf=new D(""),Wo=new D(""),Xl=(()=>{class e{constructor(n,i,r){this._ngZone=n,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Df||(qN(r),r.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{G.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(n)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n()},i)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:r})}whenStable(n,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,r),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,r){return[]}static{this.\u0275fac=function(i){return new(i||e)(v(G),v(ec),v(Wo))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac})}}return e})(),ec=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return Df?.findTestabilityInTree(this,n,i)??null}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function qN(e){Df=e}var Df;function Ii(e){return!!e&&typeof e.then=="function"}function G0(e){return!!e&&typeof e.subscribe=="function"}var tc=new D(""),W0=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=g(tc,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let o=r();if(Ii(o))n.push(o);else if(G0(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),n.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),bf=new D("");function KN(){v_(()=>{throw new E(600,!1)})}function QN(e){return e.isBoundToModule}var YN=10;function ZN(e,t,n){try{let i=n();return Ii(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}function z0(e,t){return Array.isArray(t)?t.reduce(z0,e):_(_({},e),t)}var $t=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=g(MI),this.afterRenderManager=g(A0),this.zonelessEnabled=g(ff),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Q,this.afterTick=new Q,this.componentTypes=[],this.components=[],this.isStable=g(Mr).hasPendingTasks.pipe(S(n=>!n)),this._injector=g(xe)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,i){let r=n instanceof pl;if(!this._injector.get(W0).done){let h=!r&&jv(n),f=!1;throw new E(405,f)}let s;r?s=n:s=this._injector.get(br).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=QN(s)?void 0:this._injector.get(Ln),l=i||s.selector,c=s.create(Ce.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(yf,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Za(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new E(101,!1);let n=K(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,K(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(wr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<YN;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:o}of this._views)JN(r,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Rl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;Za(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let i=this._injector.get(bf,[]);[...this._bootstrapListeners,...i].forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Za(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new E(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Za(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function JN(e,t,n,i){if(!n&&!Rl(e))return;v0(e,t,n&&!i?0:1)}var Th=class{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},nc=(()=>{class e{compileModuleSync(n){return new yl(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),r=Hv(n),o=Hy(r.declarations).reduce((s,a)=>{let l=tn(a);return l&&s.push(new mi(l)),s},[]);return new Th(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),XN=new D("");function eA(e,t,n){let i=new yl(n);return Promise.resolve(i)}function Dv(e){for(let t=e.length-1;t>=0;t--)if(e[t]!==void 0)return e[t]}var tA=(()=>{class e{constructor(){this.zone=g(G),this.changeDetectionScheduler=g(Dr),this.applicationRef=g($t)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function nA({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new G(L(_({},q0()),{scheduleInRootZone:n})),[{provide:G,useFactory:e},{provide:gr,multi:!0,useFactory:()=>{let i=g(tA,{optional:!0});return()=>i.initialize()}},{provide:gr,multi:!0,useFactory:()=>{let i=g(iA);return()=>{i.initialize()}}},t===!0?{provide:w0,useValue:!0}:[],{provide:C0,useValue:n??Ry}]}function q0(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var iA=(()=>{class e{constructor(){this.subscription=new he,this.initialized=!1,this.zone=g(G),this.pendingTasks=g(Mr)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{G.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{G.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var rA=(()=>{class e{constructor(){this.appRef=g($t),this.taskService=g(Mr),this.ngZone=g(G),this.zonelessEnabled=g(ff),this.disableScheduling=g(w0,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new he,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ul):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(g(C0,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof dl||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?ov:xy;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ul+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(n),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ov(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function oA(){return typeof $localize<"u"&&$localize.locale||bl}var ic=new D("",{providedIn:"root",factory:()=>g(ic,V.Optional|V.SkipSelf)||oA()});var wl=new D("");function za(e){return!e.moduleRef}function sA(e){let t=za(e)?e.r3Injector:e.moduleRef.injector,n=t.get(G);return n.run(()=>{za(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let i=t.get(on,null),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:o=>{i.handleError(o)}})}),za(e)){let o=()=>t.destroy(),s=e.platformInjector.get(wl);s.add(o),t.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(wl);s.add(o),e.moduleRef.onDestroy(()=>{Za(e.allPlatformModules,e.moduleRef),r.unsubscribe(),s.delete(o)})}return ZN(i,n,()=>{let o=t.get(W0);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(ic,bl);if(AN(s||bl),za(e)){let a=t.get($t);return e.rootComponent!==void 0&&a.bootstrap(e.rootComponent),a}else return aA(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function aA(e,t){let n=e.injector.get($t);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>n.bootstrap(i));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new E(-403,!1);t.push(e)}var K0=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){let r=i?.scheduleInRootZone,o=()=>TI(i?.ngZone,L(_({},q0({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing})),{scheduleInRootZone:r})),s=i?.ignoreChangesOutsideZone,a=[nA({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:Dr,useExisting:rA}],l=WM(n.moduleType,this.injector,a);return sA({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(n,i=[]){let r=z0({},i);return eA(this.injector,r,n).then(o=>this.bootstrapModuleFactory(o,r))}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new E(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let n=this._injector.get(wl,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||e)(v(Ce))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Ao=null,Q0=new D("");function lA(e){if(Ao&&!Ao.get(Q0,!1))throw new E(400,!1);KN(),Ao=e;let t=e.get(K0);return dA(e),t}function wf(e,t,n=[]){let i=`Platform: ${t}`,r=new D(i);return(o=[])=>{let s=Y0();if(!s||s.injector.get(Q0,!1)){let a=[...n,...o,{provide:r,useValue:!0}];e?e(a):lA(cA(a,i))}return uA(r)}}function cA(e=[],t){return Ce.create({name:t,providers:[{provide:Il,useValue:"platform"},{provide:wl,useValue:new Set([()=>Ao=null])},...e]})}function uA(e){let t=Y0();if(!t)throw new E(401,!1);return t}function Y0(){return Ao?.get(K0)??null}function dA(e){e.get(Jh,null)?.forEach(n=>n())}function Cf(){return!1}var mn=(()=>{class e{static{this.__NG_ELEMENT_ID__=hA}}return e})();function hA(e){return fA(Be(),Y(),(e&16)===16)}function fA(e,t,n){if(Nl(e)&&!n){let i=Bn(e.index,t);return new gi(i,i)}else if(e.type&175){let i=t[ft];return new gi(i,t)}return null}var Mh=class{constructor(){}supports(t){return M0(t)}create(t){return new Nh(t)}},pA=(e,t)=>t,Nh=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||pA}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let s=!i||n&&n.currentIndex<bv(i,r,o)?n:i,a=bv(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,s.previousIndex==null)r++;else{o||(o=[]);let c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){let f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<c&&(o[h]=f+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!M0(t))throw new E(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,i=!1,r,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),i=!0):(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,zM(t,a=>{s=this._trackByFn(r,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,r){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(i,r),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,r)):t=this._addAfter(new Ah(n,i),o,r)),t}_verifyReinsertion(t,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,o=t._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){let r=n===null?this._itHead:n._next;return t._next=r,t._prev=n,r===null?this._itTail=t:r._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new Cl),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,i=t._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Cl),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Ah=class{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Rh=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){let n=t._prevDup,i=t._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},Cl=class{constructor(){this.map=new Map}put(t){let n=t.trackById,i=this.map.get(n);i||(i=new Rh,this.map.set(n,i)),i.add(t)}get(t,n){let i=t,r=this.map.get(i);return r?r.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function bv(e,t,n){let i=e.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}function wv(){return new Ef([new Mh])}var Ef=(()=>{class e{static{this.\u0275prov=b({token:e,providedIn:"root",factory:wv})}constructor(n){this.factories=n}static create(n,i){if(i!=null){let r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||wv()),deps:[[e,new kh,new Sr]]}}find(n){let i=this.factories.find(r=>r.supports(n));if(i!=null)return i;throw new E(901,!1)}}return e})();var Z0=wf(null,"core",[]),J0=(()=>{class e{constructor(n){}static{this.\u0275fac=function(i){return new(i||e)(v($t))}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=j({})}}return e})();function rc(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function oc(e,t){jo("NgSignals");let n=g_(e);return t?.equal&&(n[Zt].equal=t.equal),n}function $n(e){let t=K(null);try{return e()}finally{K(t)}}function sc(e,t){let n=tn(e),i=t.elementInjector||Tl();return new mi(n).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}function X0(e){let t=tn(e);if(!t)return null;let n=new mi(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var oD=null;function Ut(){return oD}function sD(e){oD??=e}var ac=class{};var Ie=new D(""),Nf=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:()=>g(_A),providedIn:"platform"})}}return e})(),aD=new D(""),_A=(()=>{class e extends Nf{constructor(){super(),this._doc=g(Ie),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ut().getBaseHref(this._doc)}onPopState(n){let i=Ut().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=Ut().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function Af(e,t){if(e.length==0)return t;if(t.length==0)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,n==2?e+t.substring(1):n==1?e+t:e+"/"+t}function eD(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,i=n-(e[n-1]==="/"?1:0);return e.slice(0,i)+e.slice(n)}function _n(e){return e&&e[0]!=="?"?"?"+e:e}var Ti=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:()=>g(Rf),providedIn:"root"})}}return e})(),lD=new D(""),Rf=(()=>{class e extends Ti{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??g(Ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Af(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+_n(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+_n(o));this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+_n(o));this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(i){return new(i||e)(v(Nf),v(lD,8))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),cD=(()=>{class e extends Ti{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(n){let i=Af(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+_n(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+_n(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(i){return new(i||e)(v(Nf),v(lD,8))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac})}}return e})(),kr=(()=>{class e{constructor(n){this._subject=new ue,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=DA(eD(tD(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+_n(i))}normalize(n){return e.stripTrailingSlash(yA(this._basePath,tD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+_n(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+_n(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i,complete:r})}static{this.normalizeQueryParams=_n}static{this.joinWithSlash=Af}static{this.stripTrailingSlash=eD}static{this.\u0275fac=function(i){return new(i||e)(v(Ti))}}static{this.\u0275prov=b({token:e,factory:()=>vA(),providedIn:"root"})}}return e})();function vA(){return new kr(v(Ti))}function yA(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function tD(e){return e.replace(/\/index.html$/,"")}function DA(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}function uD(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var Sf=class{constructor(t,n,i,r){this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},dD=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new Sf(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),nD(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);nD(o,r)})}static ngTemplateContextGuard(n,i){return!0}static{this.\u0275fac=function(i){return new(i||e)(ne(fn),ne(an),ne(Ef))}}static{this.\u0275dir=pt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function nD(e,t){e.context.$implicit=t.item}var hD=(()=>{class e{constructor(n,i){this._viewContainer=n,this._context=new If,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){iD("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){iD("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}static{this.\u0275fac=function(i){return new(i||e)(ne(fn),ne(an))}}static{this.\u0275dir=pt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})(),If=class{constructor(){this.$implicit=null,this.ngIf=null}};function iD(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${Ve(t)}'.`)}var fD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=j({})}}return e})(),xf="browser",bA="server";function pD(e){return e===xf}function zo(e){return e===bA}var gD=(()=>{class e{static{this.\u0275prov=b({token:e,providedIn:"root",factory:()=>pD(g(je))?new Tf(g(Ie),window):new Mf})}}return e})(),Tf=class{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let n=wA(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function wA(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}var Mf=class{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}},lc=class{};var kf=class extends ac{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ff=class e extends kf{static makeCurrent(){sD(new e)}onAndCancel(t,n,i){return t.addEventListener(n,i),()=>{t.removeEventListener(n,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=SA();return n==null?null:IA(n)}resetBaseElement(){qo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return uD(document.cookie,t)}},qo=null;function SA(){return qo=qo||document.querySelector("base"),qo?qo.getAttribute("href"):null}function IA(e){return new URL(e,document.baseURI).pathname}var Lf=class{addToWindow(t){cn.getAngularTestability=(i,r=!0)=>{let o=t.findTestabilityInTree(i,r);if(o==null)throw new E(5103,!1);return o},cn.getAllAngularTestabilities=()=>t.getAllTestabilities(),cn.getAllAngularRootElements=()=>t.getAllRootElements();let n=i=>{let r=cn.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&i()};r.forEach(a=>{a.whenStable(s)})};cn.frameworkStabilizers||(cn.frameworkStabilizers=[]),cn.frameworkStabilizers.push(n)}findTestabilityInTree(t,n,i){if(n==null)return null;let r=t.getTestability(n);return r??(i?Ut().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},TA=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac})}}return e})(),Vf=new D(""),yD=(()=>{class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new E(5101,!1);return this._eventNameToPlugin.set(n,i),i}static{this.\u0275fac=function(i){return new(i||e)(v(Vf),v(G))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac})}}return e})(),cc=class{constructor(t){this._doc=t}},Of="ng-app-id",DD=(()=>{class e{constructor(n,i,r,o={}){this.doc=n,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=zo(o),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(r=>r.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Of}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(n,i){let r=this.styleRef;if(r.has(n)){let o=r.get(n);return o.usage+=i,o.usage}return r.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===n)return r.delete(i),o.removeAttribute(Of),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(Of,this.appId),n.appendChild(s),s}}addStyleToHost(n,i){let r=this.getStyleElement(n,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||e)(v(Ie),v(Vl),v(Xh,8),v(je))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac})}}return e})(),Pf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},jf=/%COMP%/g,bD="%COMP%",MA=`_nghost-${bD}`,NA=`_ngcontent-${bD}`,AA=!0,RA=new D("",{providedIn:"root",factory:()=>AA});function xA(e){return NA.replace(jf,e)}function OA(e){return MA.replace(jf,e)}function wD(e,t){return t.map(n=>n.replace(jf,e))}var mD=(()=>{class e{constructor(n,i,r,o,s,a,l,c=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=zo(a),this.defaultRenderer=new Ko(n,s,l,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Vt.ShadowDom&&(i=L(_({},i),{encapsulation:Vt.Emulated}));let r=this.getOrCreateRenderer(n,i);return r instanceof uc?r.applyToHost(n):r instanceof Qo&&r.applyStyles(),r}getOrCreateRenderer(n,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case Vt.Emulated:o=new uc(l,c,i,this.appId,u,s,a,d);break;case Vt.ShadowDom:return new Bf(l,c,n,i,s,a,this.nonce,d);default:o=new Qo(l,c,i,u,s,a,d);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||e)(v(yD),v(DD),v(Vl),v(RA),v(Ie),v(je),v(G),v(Xh))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac})}}return e})(),Ko=class{constructor(t,n,i,r){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Pf[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(_D(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(_D(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){n.remove()}selectRootElement(t,n){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new E(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;let o=Pf[r];o?t.setAttributeNS(o,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){let r=Pf[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(sn.DashCase|sn.Important)?t.style.setProperty(n,i,r&sn.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&sn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t!=null&&(t[n]=i)}setValue(t,n){t.nodeValue=n}listen(t,n,i){if(typeof t=="string"&&(t=Ut().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(i))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function _D(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Bf=class extends Ko{constructor(t,n,i,r,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=wD(r.id,r.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Qo=class extends Ko{constructor(t,n,i,r,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=l?wD(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},uc=class extends Qo{constructor(t,n,i,r,o,s,a,l){let c=r+"-"+i.id;super(t,n,i,o,s,a,l,c),this.contentAttr=xA(c),this.hostAttr=OA(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}},PA=(()=>{class e extends cc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||e)(v(Ie))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac})}}return e})(),vD=["alt","control","meta","shift"],kA={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},FA={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},LA=(()=>{class e extends cc{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,r){let o=e.parseEventName(i),s=e.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ut().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),vD.forEach(c=>{let u=i.indexOf(c);u>-1&&(i.splice(u,1),s+=c+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(n,i){let r=kA[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),vD.forEach(s=>{if(s!==r){let a=FA[s];a(n)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{e.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(i){return new(i||e)(v(Ie))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac})}}return e})();function VA(){Ff.makeCurrent()}function BA(){return new on}function jA(){return By(document),document}var HA=[{provide:je,useValue:xf},{provide:Jh,useValue:VA,multi:!0},{provide:Ie,useFactory:jA,deps:[]}],CD=wf(Z0,"browser",HA),$A=new D(""),UA=[{provide:Wo,useClass:Lf,deps:[]},{provide:yf,useClass:Xl,deps:[G,ec,Wo]},{provide:Xl,useClass:Xl,deps:[G,ec,Wo]}],GA=[{provide:Il,useValue:"root"},{provide:on,useFactory:BA,deps:[]},{provide:Vf,useClass:PA,multi:!0,deps:[Ie,G,je]},{provide:Vf,useClass:LA,multi:!0,deps:[Ie]},mD,DD,yD,{provide:wr,useExisting:mD},{provide:lc,useClass:TA,deps:[]},[]],ED=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Vl,useValue:n.appId}]}}static{this.\u0275fac=function(i){return new(i||e)(v($A,12))}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=j({providers:[...GA,...UA],imports:[fD,J0]})}}return e})();var SD=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(i){return new(i||e)(v(Ie))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var k="primary",us=Symbol("RouteTitle"),Wf=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Hr(e){return new Wf(e)}function zA(e,t,n){let i=n.path.split("/");if(i.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||i.length<e.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=e[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function qA(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Gt(e[n],t[n]))return!1;return!0}function Gt(e,t){let n=e?zf(e):void 0,i=t?zf(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!LD(e[r],t[r]))return!1;return!0}function zf(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function LD(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),i=[...t].sort();return n.every((r,o)=>i[o]===r)}else return e===t}function VD(e){return e.length>0?e[e.length-1]:null}function Gn(e){return hd(e)?e:Ii(e)?ee(Promise.resolve(e)):C(e)}var KA={exact:jD,subset:HD},BD={exact:QA,subset:YA,ignored:()=>!0};function TD(e,t,n){return KA[n.paths](e.root,t.root,n.matrixParams)&&BD[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function QA(e,t){return Gt(e,t)}function jD(e,t,n){if(!Ni(e.segments,t.segments)||!fc(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!e.children[i]||!jD(e.children[i],t.children[i],n))return!1;return!0}function YA(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>LD(e[n],t[n]))}function HD(e,t,n){return $D(e,t,t.segments,n)}function $D(e,t,n,i){if(e.segments.length>n.length){let r=e.segments.slice(0,n.length);return!(!Ni(r,n)||t.hasChildren()||!fc(r,n,i))}else if(e.segments.length===n.length){if(!Ni(e.segments,n)||!fc(e.segments,n,i))return!1;for(let r in t.children)if(!e.children[r]||!HD(e.children[r],t.children[r],i))return!1;return!0}else{let r=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Ni(e.segments,r)||!fc(e.segments,r,i)||!e.children[k]?!1:$D(e.children[k],t,o,i)}}function fc(e,t,n){return t.every((i,r)=>BD[n](e[r].parameters,i.parameters))}var yn=class{constructor(t=new X([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Hr(this.queryParams),this._queryParamMap}toString(){return XA.serialize(this)}},X=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pc(this)}},Mi=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Hr(this.parameters),this._parameterMap}toString(){return GD(this)}};function ZA(e,t){return Ni(e,t)&&e.every((n,i)=>Gt(n.parameters,t[i].parameters))}function Ni(e,t){return e.length!==t.length?!1:e.every((n,i)=>n.path===t[i].path)}function JA(e,t){let n=[];return Object.entries(e.children).forEach(([i,r])=>{i===k&&(n=n.concat(t(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==k&&(n=n.concat(t(r,i)))}),n}var ds=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:()=>new $r,providedIn:"root"})}}return e})(),$r=class{parse(t){let n=new Kf(t);return new yn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Yo(t.root,!0)}`,i=nR(t.queryParams),r=typeof t.fragment=="string"?`#${eR(t.fragment)}`:"";return`${n}${i}${r}`}},XA=new $r;function pc(e){return e.segments.map(t=>GD(t)).join("/")}function Yo(e,t){if(!e.hasChildren())return pc(e);if(t){let n=e.children[k]?Yo(e.children[k],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==k&&i.push(`${r}:${Yo(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=JA(e,(i,r)=>r===k?[Yo(e.children[k],!1)]:[`${r}:${Yo(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[k]!=null?`${pc(e)}/${n[0]}`:`${pc(e)}/(${n.join("//")})`}}function UD(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dc(e){return UD(e).replace(/%3B/gi,";")}function eR(e){return encodeURI(e)}function qf(e){return UD(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gc(e){return decodeURIComponent(e)}function MD(e){return gc(e.replace(/\+/g,"%20"))}function GD(e){return`${qf(e.path)}${tR(e.parameters)}`}function tR(e){return Object.entries(e).map(([t,n])=>`;${qf(t)}=${qf(n)}`).join("")}function nR(e){let t=Object.entries(e).map(([n,i])=>Array.isArray(i)?i.map(r=>`${dc(n)}=${dc(r)}`).join("&"):`${dc(n)}=${dc(i)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var iR=/^[^\/()?;#]+/;function Hf(e){let t=e.match(iR);return t?t[0]:""}var rR=/^[^\/()?;=#]+/;function oR(e){let t=e.match(rR);return t?t[0]:""}var sR=/^[^=?&#]+/;function aR(e){let t=e.match(sR);return t?t[0]:""}var lR=/^[^&#]+/;function cR(e){let t=e.match(lR);return t?t[0]:""}var Kf=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new X([],{}):new X([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[k]=new X(t,n)),i}parseSegment(){let t=Hf(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(t),new Mi(gc(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=oR(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=Hf(this.remaining);r&&(i=r,this.capture(i))}t[gc(n)]=gc(i)}parseQueryParam(t){let n=aR(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=cR(this.remaining);s&&(i=s,this.capture(i))}let r=MD(n),o=MD(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Hf(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new E(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=k);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[k]:new X([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new E(4011,!1)}};function WD(e){return e.segments.length>0?new X([],{[k]:e}):e}function zD(e){let t={};for(let[i,r]of Object.entries(e.children)){let o=zD(r);if(i===k&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let n=new X(e.segments,t);return uR(n)}function uR(e){if(e.numberOfChildren===1&&e.children[k]){let t=e.children[k];return new X(e.segments.concat(t.segments),t.children)}return e}function ns(e){return e instanceof yn}function dR(e,t,n=null,i=null){let r=qD(e);return KD(r,t,n,i)}function qD(e){let t;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new X(o.url,s);return o===e&&(t=a),a}let i=n(e.root),r=WD(i);return t??r}function KD(e,t,n,i){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return $f(r,r,r,n,i);let o=hR(t);if(o.toRoot())return $f(r,r,new X([],{}),n,i);let s=fR(o,r,e),a=s.processChildren?Xo(s.segmentGroup,s.index,o.commands):YD(s.segmentGroup,s.index,o.commands);return $f(r,s.segmentGroup,a,n,i)}function mc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function is(e){return typeof e=="object"&&e!=null&&e.outlets}function $f(e,t,n,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===t?s=n:s=QD(e,t,n);let a=WD(zD(s));return new yn(a,o,r)}function QD(e,t,n){let i={};return Object.entries(e.children).forEach(([r,o])=>{o===t?i[r]=n:i[r]=QD(o,t,n)}),new X(e.segments,i)}var _c=class{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&mc(i[0]))throw new E(4003,!1);let r=i.find(is);if(r&&r!==VD(i))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function hR(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new _c(!0,0,e);let t=0,n=!1,i=e.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new _c(n,t,i)}var Vr=class{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}};function fR(e,t,n){if(e.isAbsolute)return new Vr(t,!0,0);if(!n)return new Vr(t,!1,NaN);if(n.parent===null)return new Vr(n,!0,0);let i=mc(e.commands[0])?0:1,r=n.segments.length-1+i;return pR(n,r,e.numberOfDoubleDots)}function pR(e,t,n){let i=e,r=t,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new E(4005,!1);r=i.segments.length}return new Vr(i,!1,r-o)}function gR(e){return is(e[0])?e[0].outlets:{[k]:e}}function YD(e,t,n){if(e??=new X([],{}),e.segments.length===0&&e.hasChildren())return Xo(e,t,n);let i=mR(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let o=new X(e.segments.slice(0,i.pathIndex),{});return o.children[k]=new X(e.segments.slice(i.pathIndex),e.children),Xo(o,0,r)}else return i.match&&r.length===0?new X(e.segments,{}):i.match&&!e.hasChildren()?Qf(e,t,n):i.match?Xo(e,0,r):Qf(e,t,n)}function Xo(e,t,n){if(n.length===0)return new X(e.segments,{});{let i=gR(n),r={};if(Object.keys(i).some(o=>o!==k)&&e.children[k]&&e.numberOfChildren===1&&e.children[k].segments.length===0){let o=Xo(e.children[k],t,n);return new X(e.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=YD(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new X(e.segments,r)}}function mR(e,t,n){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return o;let s=e.segments[r],a=n[i];if(is(a))break;let l=`${a}`,c=i<n.length-1?n[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!AD(l,c,s))return o;i+=2}else{if(!AD(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Qf(e,t,n){let i=e.segments.slice(0,t),r=0;for(;r<n.length;){let o=n[r];if(is(o)){let l=_R(o.outlets);return new X(i,l)}if(r===0&&mc(n[0])){let l=e.segments[t];i.push(new Mi(l.path,ND(n[0]))),r++;continue}let s=is(o)?o.outlets[k]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&mc(a)?(i.push(new Mi(s,ND(a))),r+=2):(i.push(new Mi(s,{})),r++)}return new X(i,{})}function _R(e){let t={};return Object.entries(e).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[n]=Qf(new X([],{}),0,i))}),t}function ND(e){let t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t}function AD(e,t,n){return e==n.path&&Gt(t,n.parameters)}var es="imperative",Te=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Te||{}),_t=class{constructor(t,n){this.id=t,this.url=n}},Ur=class extends _t{constructor(t,n,i="imperative",r=null){super(t,n),this.type=Te.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Dn=class extends _t{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=Te.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},nt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(nt||{}),vc=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(vc||{}),vn=class extends _t{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=Te.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Un=class extends _t{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=Te.NavigationSkipped}},rs=class extends _t{constructor(t,n,i,r){super(t,n),this.error=i,this.target=r,this.type=Te.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},yc=class extends _t{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Te.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yf=class extends _t{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Te.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zf=class extends _t{constructor(t,n,i,r,o){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Te.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Jf=class extends _t{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Te.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xf=class extends _t{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Te.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ep=class{constructor(t){this.route=t,this.type=Te.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},tp=class{constructor(t){this.route=t,this.type=Te.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},np=class{constructor(t){this.snapshot=t,this.type=Te.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ip=class{constructor(t){this.snapshot=t,this.type=Te.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rp=class{constructor(t){this.snapshot=t,this.type=Te.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},op=class{constructor(t){this.snapshot=t,this.type=Te.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dc=class{constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i,this.type=Te.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},os=class{},Gr=class{constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function vR(e,t){return e.providers&&!e._injector&&(e._injector=zl(e.providers,t,`Route: ${e.path}`)),e._injector??t}function At(e){return e.outlet||k}function yR(e,t){let n=e.filter(i=>At(i)===t);return n.push(...e.filter(i=>At(i)!==t)),n}function hs(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var sp=class{get injector(){return hs(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new fs(this.rootInjector),this.attachRef=null}},fs=(()=>{class e{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,i){let r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new sp(this.rootInjector),this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(i){return new(i||e)(v(xe))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),bc=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=ap(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){let n=ap(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=lp(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return lp(t,this._root).map(n=>n.value)}};function ap(e,t){if(e===t.value)return t;for(let n of t.children){let i=ap(e,n);if(i)return i}return null}function lp(e,t){if(e===t.value)return[t];for(let n of t.children){let i=lp(e,n);if(i.length)return i.unshift(t),i}return[]}var tt=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Lr(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var wc=class extends bc{constructor(t,n){super(t),this.snapshot=n,_p(this,t)}toString(){return this.snapshot.toString()}};function ZD(e){let t=DR(e),n=new Se([new Mi("",{})]),i=new Se({}),r=new Se({}),o=new Se({}),s=new Se(""),a=new Wr(n,i,o,s,r,k,e,t.root);return a.snapshot=t.root,new wc(new tt(a,[]),t)}function DR(e){let t={},n={},i={},r="",o=new Br([],t,i,r,n,k,e,null,{});return new Ec("",new tt(o,[]))}var Wr=class{constructor(t,n,i,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(S(c=>c[us]))??C(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(S(t=>Hr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(S(t=>Hr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Cc(e,t,n="emptyOnly"){let i,{routeConfig:r}=e;return t!==null&&(n==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:_(_({},t.params),e.params),data:_(_({},t.data),e.data),resolve:_(_(_(_({},e.data),t.data),r?.data),e._resolvedData)}:i={params:_({},e.params),data:_({},e.data),resolve:_(_({},e.data),e._resolvedData??{})},r&&XD(r)&&(i.resolve[us]=r.title),i}var Br=class{get title(){return this.data?.[us]}constructor(t,n,i,r,o,s,a,l,c){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Hr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Hr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Ec=class extends bc{constructor(t,n){super(n),this.url=t,_p(this,n)}toString(){return JD(this._root)}};function _p(e,t){t.value._routerState=e,t.children.forEach(n=>_p(e,n))}function JD(e){let t=e.children.length>0?` { ${e.children.map(JD).join(", ")} } `:"";return`${e.value}${t}`}function Uf(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Gt(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Gt(t.params,n.params)||e.paramsSubject.next(n.params),qA(t.url,n.url)||e.urlSubject.next(n.url),Gt(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function cp(e,t){let n=Gt(e.params,t.params)&&ZA(e.url,t.url),i=!e.parent!=!t.parent;return n&&!i&&(!e.parent||cp(e.parent,t.parent))}function XD(e){return typeof e.title=="string"||e.title===null}var bR=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=k,this.activateEvents=new ue,this.deactivateEvents=new ue,this.attachEvents=new ue,this.detachEvents=new ue,this.parentContexts=g(fs),this.location=g(fn),this.changeDetector=g(mn),this.inputBinder=g(Nc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new E(4013,!1);this._activatedRoute=n;let r=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new up(n,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=pt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[vi]})}}return e})(),up=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===Wr?this.route:t===fs?this.childContexts:this.parent.get(t,n)}},Nc=new D(""),RD=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:i}=n,r=rr([i.queryParams,i.params,i.data]).pipe(re(([o,s,a],l)=>(a=_(_(_({},o),s),a),l===0?C(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(n);return}let s=X0(i.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,r)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac})}}return e})();function wR(e,t,n){let i=ss(e,t._root,n?n._root:void 0);return new wc(i,t)}function ss(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=t.value;let r=CR(e,t,n);return new tt(i,r)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>ss(e,a)),s}}let i=ER(t.value),r=t.children.map(o=>ss(e,o));return new tt(i,r)}}function CR(e,t,n){return t.children.map(i=>{for(let r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return ss(e,i,r);return ss(e,i)})}function ER(e){return new Wr(new Se(e.url),new Se(e.params),new Se(e.queryParams),new Se(e.fragment),new Se(e.data),e.outlet,e.component,e)}var as=class{constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},eb="ngNavigationCancelingError";function Sc(e,t){let{redirectTo:n,navigationBehaviorOptions:i}=ns(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=tb(!1,nt.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function tb(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[eb]=!0,n.cancellationCode=t,n}function SR(e){return nb(e)&&ns(e.url)}function nb(e){return!!e&&e[eb]}var IR=(e,t,n,i)=>S(r=>(new dp(t,r.targetRouterState,r.currentRouterState,n,i).activate(e),r)),dp=class{constructor(t,n,i,r,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),Uf(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){let r=Lr(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=Lr(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=Lr(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,n,i){let r=Lr(n);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new op(o.value.snapshot))}),t.children.length&&this.forwardEvent(new ip(t.value.snapshot))}activateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(Uf(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Uf(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}},Ic=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},jr=class{constructor(t,n){this.component=t,this.route=n}};function TR(e,t,n){let i=e._root,r=t?t._root:null;return Zo(i,r,n,[i.value])}function MR(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function qr(e,t){let n=Symbol(),i=t.get(e,n);return i===n?typeof e=="function"&&!Sv(e)?e:t.get(e):i}function Zo(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Lr(t);return e.children.forEach(s=>{NR(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ts(a,n.getContext(s),r)),r}function NR(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=AR(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Ic(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Zo(e,t,a?a.children:null,i,r):Zo(e,t,n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new jr(a.outlet.component,s))}else s&&ts(t,a,r),r.canActivateChecks.push(new Ic(i)),o.component?Zo(e,null,a?a.children:null,i,r):Zo(e,null,n,i,r);return r}function AR(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Ni(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ni(e.url,t.url)||!Gt(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cp(e,t)||!Gt(e.queryParams,t.queryParams);case"paramsChange":default:return!cp(e,t)}}function ts(e,t,n){let i=Lr(e),r=e.value;Object.entries(i).forEach(([o,s])=>{r.component?t?ts(s,t.children.getContext(o),n):ts(s,null,n):ts(s,t,n)}),r.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new jr(t.outlet.component,r)):n.canDeactivateChecks.push(new jr(null,r)):n.canDeactivateChecks.push(new jr(null,r))}function ps(e){return typeof e=="function"}function RR(e){return typeof e=="boolean"}function xR(e){return e&&ps(e.canLoad)}function OR(e){return e&&ps(e.canActivate)}function PR(e){return e&&ps(e.canActivateChild)}function kR(e){return e&&ps(e.canDeactivate)}function FR(e){return e&&ps(e.canMatch)}function ib(e){return e instanceof Xt||e?.name==="EmptyError"}var hc=Symbol("INITIAL_VALUE");function zr(){return re(e=>rr(e.map(t=>t.pipe(ut(1),ja(hc)))).pipe(S(t=>{for(let n of t)if(n!==!0){if(n===hc)return hc;if(n===!1||LR(n))return n}return!0}),we(t=>t!==hc),ut(1)))}function LR(e){return ns(e)||e instanceof as}function VR(e,t){return ce(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?C(L(_({},n),{guardsResult:!0})):BR(s,i,r,e).pipe(ce(a=>a&&RR(a)?jR(i,o,e,t):C(a)),S(a=>L(_({},n),{guardsResult:a})))})}function BR(e,t,n,i){return ee(e).pipe(ce(r=>WR(r.component,r.route,n,t,i)),dt(r=>r!==!0,!0))}function jR(e,t,n,i){return ee(t).pipe(si(r=>Mn($R(r.route.parent,i),HR(r.route,i),GR(e,r.path,n),UR(e,r.route,n))),dt(r=>r!==!0,!0))}function HR(e,t){return e!==null&&t&&t(new rp(e)),C(!0)}function $R(e,t){return e!==null&&t&&t(new np(e)),C(!0)}function UR(e,t,n){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return C(!0);let r=i.map(o=>ka(()=>{let s=hs(t)??n,a=qr(o,s),l=OR(a)?a.canActivate(t,e):jt(s,()=>a(t,e));return Gn(l).pipe(dt())}));return C(r).pipe(zr())}function GR(e,t,n){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>MR(s)).filter(s=>s!==null).map(s=>ka(()=>{let a=s.guards.map(l=>{let c=hs(s.node)??n,u=qr(l,c),d=PR(u)?u.canActivateChild(i,e):jt(c,()=>u(i,e));return Gn(d).pipe(dt())});return C(a).pipe(zr())}));return C(o).pipe(zr())}function WR(e,t,n,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return C(!0);let s=o.map(a=>{let l=hs(t)??r,c=qr(a,l),u=kR(c)?c.canDeactivate(e,t,n,i):jt(l,()=>c(e,t,n,i));return Gn(u).pipe(dt())});return C(s).pipe(zr())}function zR(e,t,n,i){let r=t.canLoad;if(r===void 0||r.length===0)return C(!0);let o=r.map(s=>{let a=qr(s,e),l=xR(a)?a.canLoad(t,n):jt(e,()=>a(t,n));return Gn(l)});return C(o).pipe(zr(),rb(i))}function rb(e){return od(ge(t=>{if(typeof t!="boolean")throw Sc(e,t)}),S(t=>t===!0))}function qR(e,t,n,i){let r=t.canMatch;if(!r||r.length===0)return C(!0);let o=r.map(s=>{let a=qr(s,e),l=FR(a)?a.canMatch(t,n):jt(e,()=>a(t,n));return Gn(l)});return C(o).pipe(zr(),rb(i))}var ls=class{constructor(t){this.segmentGroup=t||null}},cs=class extends Error{constructor(t){super(),this.urlTree=t}};function Fr(e){return nr(new ls(e))}function KR(e){return nr(new E(4e3,!1))}function QR(e){return nr(tb(!1,nt.GuardRejected))}var hp=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return C(i);if(r.numberOfChildren>1||!r.children[k])return KR(`${t.redirectTo}`);r=r.children[k]}}applyRedirectCommands(t,n,i,r,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,params:f,data:p,title:y}=r,w=jt(o,()=>a({params:f,data:p,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,title:y}));if(w instanceof yn)throw new cs(w);n=w}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i);if(n[0]==="/")throw new cs(s);return s}applyRedirectCreateUrlTree(t,n,i,r){let o=this.createSegmentGroup(t,n.root,i,r);return new yn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(t,n,i,r){let o=this.createSegments(t,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,r)}),new X(o,s)}createSegments(t,n,i,r){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,n,i){let r=i[n.path.substring(1)];if(!r)throw new E(4001,!1);return r}findOrReturn(t,n){let i=0;for(let r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}},fp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function YR(e,t,n,i,r){let o=ob(e,t,n);return o.matched?(i=vR(t,i),qR(i,t,n,r).pipe(S(s=>s===!0?o:_({},fp)))):C(o)}function ob(e,t,n){if(t.path==="**")return ZR(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?_({},fp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(t.matcher||zA)(n,e,t);if(!r)return _({},fp);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?_(_({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function ZR(e){return{matched:!0,parameters:e.length>0?VD(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function xD(e,t,n,i){return n.length>0&&ex(e,n,i)?{segmentGroup:new X(t,XR(i,new X(n,e.children))),slicedSegments:[]}:n.length===0&&tx(e,n,i)?{segmentGroup:new X(e.segments,JR(e,n,i,e.children)),slicedSegments:n}:{segmentGroup:new X(e.segments,e.children),slicedSegments:n}}function JR(e,t,n,i){let r={};for(let o of n)if(Ac(e,t,o)&&!i[At(o)]){let s=new X([],{});r[At(o)]=s}return _(_({},i),r)}function XR(e,t){let n={};n[k]=t;for(let i of e)if(i.path===""&&At(i)!==k){let r=new X([],{});n[At(i)]=r}return n}function ex(e,t,n){return n.some(i=>Ac(e,t,i)&&At(i)!==k)}function tx(e,t,n){return n.some(i=>Ac(e,t,i))}function Ac(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function nx(e,t,n){return t.length===0&&!e.children[n]}var pp=class{};function ix(e,t,n,i,r,o,s="emptyOnly"){return new gp(e,t,n,i,r,s,o).recognize()}var rx=31,gp=class{constructor(t,n,i,r,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new hp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new E(4002,`'${t.segmentGroup}'`)}recognize(){let t=xD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(S(({children:n,rootSnapshot:i})=>{let r=new tt(i,n),o=new Ec("",r),s=dR(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new Br([],Object.freeze({}),Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),k,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,k,n).pipe(S(i=>({children:i,rootSnapshot:n})),Nn(i=>{if(i instanceof cs)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof ls?this.noMatchError(i):i}))}processSegmentGroup(t,n,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,n,i,o):this.processSegment(t,n,i,i.segments,r,!0,o).pipe(S(s=>s instanceof tt?[s]:[]))}processChildren(t,n,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return ee(o).pipe(si(s=>{let a=i.children[s],l=yR(n,s);return this.processSegmentGroup(t,l,a,s,r)}),ar((s,a)=>(s.push(...a),s)),An(null),vd(),ce(s=>{if(s===null)return Fr(i);let a=sb(s);return ox(a),C(a)}))}processSegment(t,n,i,r,o,s,a){return ee(n).pipe(si(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,i,r,o,s,a).pipe(Nn(c=>{if(c instanceof ls)return C(null);throw c}))),dt(l=>!!l),Nn(l=>{if(ib(l))return nx(i,r,o)?C(new pp):Fr(i);throw l}))}processSegmentAgainstRoute(t,n,i,r,o,s,a,l){return At(i)!==s&&(s===k||!Ac(r,o,i))?Fr(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,n,i,o,s,l):Fr(r)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=ob(n,r,o);if(!l)return Fr(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>rx&&(this.allowRedirects=!1));let f=new Br(o,c,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,OD(r),At(r),r.component??r._loadedComponent??null,r,PD(r)),p=Cc(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let y=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,d,f,t);return this.applyRedirects.lineralizeSegments(r,y).pipe(ce(w=>this.processSegment(t,i,n,w.concat(h),s,!1,a)))}matchSegmentAgainstRoute(t,n,i,r,o,s){let a=YR(n,i,r,t,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(re(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(re(({routes:c})=>{let u=i._loadedInjector??t,{parameters:d,consumedSegments:h,remainingSegments:f}=l,p=new Br(h,d,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,OD(i),At(i),i.component??i._loadedComponent??null,i,PD(i)),y=Cc(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(y.params),p.data=Object.freeze(y.data);let{segmentGroup:w,slicedSegments:M}=xD(n,h,f,c);if(M.length===0&&w.hasChildren())return this.processChildren(u,c,w,p).pipe(S(F=>new tt(p,F)));if(c.length===0&&M.length===0)return C(new tt(p,[]));let q=At(i)===o;return this.processSegment(u,c,w,M,q?k:o,!0,p).pipe(S(F=>new tt(p,F instanceof tt?[F]:[])))}))):Fr(n)))}getChildConfig(t,n,i){return n.children?C({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?C({routes:n._loadedRoutes,injector:n._loadedInjector}):zR(t,n,i,this.urlSerializer).pipe(ce(r=>r?this.configLoader.loadChildren(t,n).pipe(ge(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):QR(n))):C({routes:[],injector:t})}};function ox(e){e.sort((t,n)=>t.value.outlet===k?-1:n.value.outlet===k?1:t.value.outlet.localeCompare(n.value.outlet))}function sx(e){let t=e.value.routeConfig;return t&&t.path===""}function sb(e){let t=[],n=new Set;for(let i of e){if(!sx(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):t.push(i)}for(let i of n){let r=sb(i.children);t.push(new tt(i.value,r))}return t.filter(i=>!n.has(i))}function OD(e){return e.data||{}}function PD(e){return e.resolve||{}}function ax(e,t,n,i,r,o){return ce(s=>ix(e,t,n,i,s.extractedUrl,r,o).pipe(S(({state:a,tree:l})=>L(_({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function lx(e,t){return ce(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return C(n);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of ab(l))s.add(c);let a=0;return ee(s).pipe(si(l=>o.has(l)?cx(l,i,e,t):(l.data=Cc(l,l.parent,e).resolve,C(void 0))),ge(()=>a++),sr(1),ce(l=>a===s.size?C(n):be))})}function ab(e){let t=e.children.map(n=>ab(n)).flat();return[e,...t]}function cx(e,t,n,i){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!XD(r)&&(o[us]=r.title),ux(o,e,t,i).pipe(S(s=>(e._resolvedData=s,e.data=Cc(e,e.parent,n).resolve,null)))}function ux(e,t,n,i){let r=zf(e);if(r.length===0)return C({});let o={};return ee(r).pipe(ce(s=>dx(e[s],t,n,i).pipe(dt(),ge(a=>{if(a instanceof as)throw Sc(new $r,a);o[s]=a}))),sr(1),md(o),Nn(s=>ib(s)?be:nr(s)))}function dx(e,t,n,i){let r=hs(t)??i,o=qr(e,r),s=o.resolve?o.resolve(t,n):jt(r,()=>o(t,n));return Gn(s)}function Gf(e){return re(t=>{let n=e(t);return n?ee(n).pipe(S(()=>t)):C(t)})}var lb=(()=>{class e{buildTitle(n){let i,r=n.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===k);return i}getResolvedTitleForRoute(n){return n.data[us]}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:()=>g(hx),providedIn:"root"})}}return e})(),hx=(()=>{class e extends lb{constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||e)(v(SD))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),gs=new D("",{providedIn:"root",factory:()=>({})}),fx=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=Mt({type:e,selectors:[["ng-component"]],standalone:!0,features:[Go],decls:1,vars:0,template:function(i,r){i&1&&wi(0,"router-outlet")},dependencies:[bR],encapsulation:2})}}return e})();function vp(e){let t=e.children&&e.children.map(vp),n=t?L(_({},e),{children:t}):_({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==k&&(n.component=fx),n}var Tc=new D(""),yp=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=g(nc)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return C(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=Gn(n.loadComponent()).pipe(S(cb),ge(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),or(()=>{this.componentLoaders.delete(n)})),r=new Yi(i,()=>new Q).pipe(Qi());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return C({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=px(i,this.compiler,n,this.onLoadEndListener).pipe(or(()=>{this.childrenLoaders.delete(i)})),s=new Yi(o,()=>new Q).pipe(Qi());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function px(e,t,n,i){return Gn(e.loadChildren()).pipe(S(cb),ce(r=>r instanceof Fo||Array.isArray(r)?C(r):ee(t.compileModuleAsync(r))),S(r=>{i&&i(e);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(Tc,[],{optional:!0,self:!0}).flat()),{routes:s.map(vp),injector:o}}))}function gx(e){return e&&typeof e=="object"&&"default"in e}function cb(e){return gx(e)?e.default:e}var Dp=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:()=>g(mx),providedIn:"root"})}}return e})(),mx=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ub=new D(""),db=new D("");function _x(e,t,n){let i=e.get(db),r=e.get(Ie);return e.get(G).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),vx(e))),{onViewTransitionCreated:l}=i;return l&&jt(e,()=>l({transition:a,from:t,to:n})),s})}function vx(e){return new Promise(t=>{xr({read:()=>setTimeout(t)},{injector:e})})}var yx=new D(""),bp=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Q,this.transitionAbortSubject=new Q,this.configLoader=g(yp),this.environmentInjector=g(xe),this.urlSerializer=g(ds),this.rootContexts=g(fs),this.location=g(kr),this.inputBindingEnabled=g(Nc,{optional:!0})!==null,this.titleStrategy=g(lb),this.options=g(gs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=g(Dp),this.createViewTransition=g(ub,{optional:!0}),this.navigationErrorHandler=g(yx,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>C(void 0),this.rootComponentType=null;let n=r=>this.events.next(new ep(r)),i=r=>this.events.next(new tp(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(L(_(_({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,r){return this.transitions=new Se({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:es,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(we(o=>o.id!==0),S(o=>L(_({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),re(o=>{let s=!1,a=!1;return C(o).pipe(re(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",nt.SupersededByNewNavigation),be;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?L(_({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&u!=="reload"){let d="";return this.events.next(new Un(l.id,this.urlSerializer.serialize(l.rawUrl),d,vc.IgnoredSameUrlNavigation)),l.resolve(!1),be}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return C(l).pipe(re(d=>{let h=this.transitions?.getValue();return this.events.next(new Ur(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?be:Promise.resolve(d)}),ax(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ge(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=L(_({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let h=new yc(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:h,source:f,restoredState:p,extras:y}=l,w=new Ur(d,this.urlSerializer.serialize(h),f,p);this.events.next(w);let M=ZD(this.rootComponentType).snapshot;return this.currentTransition=o=L(_({},l),{targetSnapshot:M,urlAfterRedirects:h,extras:L(_({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,C(o)}else{let d="";return this.events.next(new Un(l.id,this.urlSerializer.serialize(l.extractedUrl),d,vc.IgnoredByUrlHandlingStrategy)),l.resolve(!1),be}}),ge(l=>{let c=new Yf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),S(l=>(this.currentTransition=o=L(_({},l),{guards:TR(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),VR(this.environmentInjector,l=>this.events.next(l)),ge(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Sc(this.urlSerializer,l.guardsResult);let c=new Zf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),we(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",nt.GuardRejected),!1)),Gf(l=>{if(l.guards.canActivateChecks.length)return C(l).pipe(ge(c=>{let u=new Jf(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),re(c=>{let u=!1;return C(c).pipe(lx(this.paramsInheritanceStrategy,this.environmentInjector),ge({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",nt.NoDataFromResolver)}}))}),ge(c=>{let u=new Xf(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Gf(l=>{let c=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(ge(h=>{u.component=h}),S(()=>{})));for(let h of u.children)d.push(...c(h));return d};return rr(c(l.targetSnapshot.root)).pipe(An(null),ut(1))}),Gf(()=>this.afterPreactivation()),re(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?ee(u).pipe(S(()=>o)):C(o)}),S(l=>{let c=wR(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=L(_({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),ge(()=>{this.events.next(new os)}),IR(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ut(1),ge({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Dn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Re(this.transitionAbortSubject.pipe(ge(l=>{throw l}))),or(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",nt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Nn(l=>{if(a=!0,nb(l))this.events.next(new vn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),SR(l)?this.events.next(new Gr(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new rs(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let u=jt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof as){let{message:d,cancellationCode:h}=Sc(this.urlSerializer,u);this.events.next(new vn(o.id,this.urlSerializer.serialize(o.extractedUrl),d,h)),this.events.next(new Gr(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(c);let d=n.errorHandler(l);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return be}))}))}cancelNavigationTransition(n,i,r){let o=new vn(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Dx(e){return e!==es}var bx=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:()=>g(wx),providedIn:"root"})}}return e})(),mp=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},wx=(()=>{class e extends mp{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Tr(e)))(r||e)}})()}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),hb=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:()=>g(Cx),providedIn:"root"})}}return e})(),Cx=(()=>{class e extends hb{constructor(){super(...arguments),this.location=g(kr),this.urlSerializer=g(ds),this.options=g(gs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=g(Dp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new yn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ZD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof Ur)this.stateMemento=this.createStateMemento();else if(n instanceof Un)this.rawUrlTree=i.initialUrl;else if(n instanceof yc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else n instanceof os?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):n instanceof vn&&(n.code===nt.GuardRejected||n.code===nt.NoDataFromResolver)?this.restoreHistory(i):n instanceof rs?this.restoreHistory(i,!0):n instanceof Dn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let r=n instanceof yn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=_(_({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=_(_({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Tr(e)))(r||e)}})()}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Jo=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Jo||{});function fb(e,t){e.events.pipe(we(n=>n instanceof Dn||n instanceof vn||n instanceof rs||n instanceof Un),S(n=>n instanceof Dn||n instanceof Un?Jo.COMPLETE:(n instanceof vn?n.code===nt.Redirect||n.code===nt.SupersededByNewNavigation:!1)?Jo.REDIRECTING:Jo.FAILED),we(n=>n!==Jo.REDIRECTING),ut(1)).subscribe(()=>{t()})}function Ex(e){throw e}var Sx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ix={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ai=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=g(Jl),this.stateManager=g(hb),this.options=g(gs,{optional:!0})||{},this.pendingTasks=g(Mr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=g(bp),this.urlSerializer=g(ds),this.location=g(kr),this.urlHandlingStrategy=g(Dp),this._events=new Q,this.errorHandler=this.options.errorHandler||Ex,this.navigated=!1,this.routeReuseStrategy=g(bx),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=g(Tc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!g(Nc,{optional:!0}),this.eventsSubscription=new he,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof vn&&i.code!==nt.Redirect&&i.code!==nt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Dn)this.navigated=!0;else if(i instanceof Gr){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=_({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Dx(r.source)},s);this.scheduleNavigation(a,es,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}Mx(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),es,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=_({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(vp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=_(_({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=r?r.snapshot:this.routerState.snapshot.root;d=qD(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return KD(d,n,u,c??null)}navigateByUrl(n,i={skipLocationChange:!1}){let r=ns(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,es,null,i)}navigate(n,i={skipLocationChange:!1}){return Tx(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let r;if(i===!0?r=_({},Sx):i===!1?r=_({},Ix):r=i,ns(n))return TD(this.currentUrlTree,n,r);let o=this.parseUrl(n);return TD(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.entries(n).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(n,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,l=h});let u=this.pendingTasks.add();return fb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Tx(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new E(4008,!1)}function Mx(e){return!(e instanceof os)&&!(e instanceof Gr)}var Mc=class{};var Nx=(()=>{class e{constructor(n,i,r,o,s){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(we(n=>n instanceof Dn),si(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=zl(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ee(r).pipe(Tn())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(n,i):r=C(null);let o=r.pipe(ce(s=>s===null?C(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return ee([o,s]).pipe(Tn())}else return o})}static{this.\u0275fac=function(i){return new(i||e)(v(Ai),v(nc),v(xe),v(Mc),v(yp))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),pb=new D(""),Ax=(()=>{class e{constructor(n,i,r,o,s={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ur?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Dn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Un&&n.code===vc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Dc&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Dc(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){t0()}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac})}}return e})();function Rx(e){return e.routerState.root}function ms(e,t){return{\u0275kind:e,\u0275providers:t}}function xx(){let e=g(Ce);return t=>{let n=e.get($t);if(t!==n.components[0])return;let i=e.get(Ai),r=e.get(gb);e.get(wp)===1&&i.initialNavigation(),e.get(mb,null,V.Optional)?.setUpPreloading(),e.get(pb,null,V.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var gb=new D("",{factory:()=>new Q}),wp=new D("",{providedIn:"root",factory:()=>1});function Ox(){return ms(2,[{provide:wp,useValue:0},{provide:tc,multi:!0,deps:[Ce],useFactory:t=>{let n=t.get(aD,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=t.get(Ai),o=t.get(gb);fb(r,()=>{i(!0)}),t.get(bp).afterPreactivation=()=>(i(!0),o.closed?C(void 0):o),r.initialNavigation()}))}}])}function Px(){return ms(3,[{provide:tc,multi:!0,useFactory:()=>{let t=g(Ai);return()=>{t.setUpLocationChangeListener()}}},{provide:wp,useValue:2}])}var mb=new D("");function kx(e){return ms(0,[{provide:mb,useExisting:Nx},{provide:Mc,useExisting:e}])}function Fx(){return ms(8,[RD,{provide:Nc,useExisting:RD}])}function Lx(e){let t=[{provide:ub,useValue:_x},{provide:db,useValue:_({skipNextTransition:!!e?.skipInitialTransition},e)}];return ms(9,t)}var kD=new D("ROUTER_FORROOT_GUARD"),Vx=[kr,{provide:ds,useClass:$r},Ai,fs,{provide:Wr,useFactory:Rx,deps:[Ai]},yp,[]],Cp=(()=>{class e{constructor(n){}static forRoot(n,i){return{ngModule:e,providers:[Vx,[],{provide:Tc,multi:!0,useValue:n},{provide:kD,useFactory:$x,deps:[[Ai,new Sr,new kh]]},{provide:gs,useValue:i||{}},i?.useHash?jx():Hx(),Bx(),i?.preloadingStrategy?kx(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Ux(i):[],i?.bindToComponentInputs?Fx().\u0275providers:[],i?.enableViewTransitions?Lx().\u0275providers:[],Gx()]}}static forChild(n){return{ngModule:e,providers:[{provide:Tc,multi:!0,useValue:n}]}}static{this.\u0275fac=function(i){return new(i||e)(v(kD,8))}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=j({})}}return e})();function Bx(){return{provide:pb,useFactory:()=>{let e=g(gD),t=g(G),n=g(gs),i=g(bp),r=g(ds);return n.scrollOffset&&e.setOffset(n.scrollOffset),new Ax(r,i,e,t,n)}}}function jx(){return{provide:Ti,useClass:cD}}function Hx(){return{provide:Ti,useClass:Rf}}function $x(e){return"guarded"}function Ux(e){return[e.initialNavigation==="disabled"?Px().\u0275providers:[],e.initialNavigation==="enabledBlocking"?Ox().\u0275providers:[]]}var FD=new D("");function Gx(){return[{provide:FD,useFactory:xx},{provide:bf,multi:!0,useExisting:FD}]}var Wx=[],Rc=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=H({type:e});static \u0275inj=j({imports:[Cp.forRoot(Wx),Cp]})};var zx="firebase",qx="10.14.1";Sn(zx,qx,"app");var Kr=new ln("ANGULARFIRE2_VERSION");var Kx=(e,t)=>{let n=t?[t]:s_(),i=[];return n.forEach(r=>{r.container.getProvider(e).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},Ri=class{constructor(){return Kx(Qx)}},Qx="app-check";function Ep(){}var xc=class{zone;delegate;constructor(t,n=ud){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,i){let r=this.zone,o=function(s){r.runGuarded(()=>{t.apply(this,[s])})};return this.delegate.schedule(o,n,i)}},Sp=class{zone;task=null;constructor(t){this.zone=t}call(t,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ep,{},Ep,Ep)),n.pipe(ge({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Oc=(()=>{class e{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new xc(Zone.current)),this.insideAngular=n.run(()=>new xc(Zone.current,er)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||e)(v(G))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Yx(){let e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return e}function bn(e){return Zx(Yx())(e)}function Zx(e){return function(n){return n=n.lift(new Sp(e.ngZone)),n.pipe(Ct(e.outsideAngular),lt(e.insideAngular))}}var eO=new Map,tO={activated:!1,tokenObservers:[]},nO={initialized:!1,enabled:!1};function Rt(e){return eO.get(e)||Object.assign({},tO)}function wb(){return nO}var iO="https://content-firebaseappcheck.googleapis.com/v1";var rO="exchangeDebugToken",vb={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},a8=24*60*60*1e3;var Tp=class{constructor(t,n,i,r,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return bt(this,null,function*(){this.stop();try{this.pending=new Ee,this.pending.promise.catch(n=>{}),yield oO(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ee,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function oO(e){return new Promise(t=>{setTimeout(t,e)})}var sO={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Wn=new Jm("appCheck","AppCheck",sO);function Cb(e){if(!Rt(e).activated)throw Wn.create("use-before-activation",{appName:e.name})}function Eb(i,r){return bt(this,arguments,function*({url:e,body:t},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let f=yield s.getHeartbeatsHeader();f&&(o["X-Firebase-Client"]=f)}let a={method:"POST",body:JSON.stringify(t),headers:o},l;try{l=yield fetch(e,a)}catch(f){throw Wn.create("fetch-network-error",{originalErrorMessage:f?.message})}if(l.status!==200)throw Wn.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(f){throw Wn.create("fetch-parse-error",{originalErrorMessage:f?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Wn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})}function Sb(e,t){let{projectId:n,appId:i,apiKey:r}=e.options;return{url:`${iO}/projects/${n}/apps/${i}:${rO}?key=${r}`,body:{debug_token:t}}}var aO="firebase-app-check-database",lO=1,Mp="firebase-app-check-store";var Pc=null;function cO(){return Pc||(Pc=new Promise((e,t)=>{try{let n=indexedDB.open(aO,lO);n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{var r;t(Wn.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(Mp,{keyPath:"compositeKey"})}}}catch(n){t(Wn.create("storage-open",{originalErrorMessage:n?.message}))}}),Pc)}function uO(e,t){return dO(hO(e),t)}function dO(e,t){return bt(this,null,function*(){let i=(yield cO()).transaction(Mp,"readwrite"),o=i.objectStore(Mp).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=l=>{s()},i.onerror=l=>{var c;a(Wn.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function hO(e){return`${e.options.appId}-${e.name}`}var Np=new Gi("@firebase/app-check");function Ip(e,t){return Zm()?uO(e,t).catch(n=>{Np.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Ib(){return wb().enabled}function Tb(){return bt(this,null,function*(){let e=wb();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var fO={error:"UNKNOWN_ERROR"};function pO(e){return ra.encodeString(JSON.stringify(e),!1)}function Ap(e,t=!1){return bt(this,null,function*(){let n=e.app;Cb(n);let i=Rt(n),r=i.token,o;if(r&&!_s(r)&&(i.token=void 0,r=void 0),!r){let l=yield i.cachedTokenPromise;l&&(_s(l)?r=l:yield Ip(n,void 0))}if(!t&&r&&_s(r))return{token:r.token};let s=!1;if(Ib()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Eb(Sb(n,yield Tb()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);let l=yield i.exchangeTokenPromise;return yield Ip(n,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield Rt(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?Np.warn(l.message):Np.error(l),o=l}let a;return r?o?_s(r)?a={token:r.token,internalError:o}:a=Db(o):(a={token:r.token},i.token=r,yield Ip(n,r)):a=Db(o),s&&vO(n,a),a})}function gO(e){return bt(this,null,function*(){let t=e.app;Cb(t);let{provider:n}=Rt(t);if(Ib()){let i=yield Tb(),{token:r}=yield Eb(Sb(t,i),e.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield n.getToken();return{token:i}}})}function mO(e,t,n,i){let{app:r}=e,o=Rt(r),s={next:n,error:i,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&_s(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),yb(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>yb(e))}function Mb(e,t){let n=Rt(e),i=n.tokenObservers.filter(r=>r.next!==t);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function yb(e){let{app:t}=e,n=Rt(t),i=n.tokenRefresher;i||(i=_O(e),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function _O(e){let{app:t}=e;return new Tp(()=>bt(this,null,function*(){let n=Rt(t),i;if(n.token?i=yield Ap(e,!0):i=yield Ap(e),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let n=Rt(t);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},vb.RETRIAL_MIN_WAIT,vb.RETRIAL_MAX_WAIT)}function vO(e,t){let n=Rt(e).tokenObservers;for(let i of n)try{i.type==="EXTERNAL"&&t.error!=null?i.error(t.error):i.next(t)}catch{}}function _s(e){return e.expireTimeMillis-Date.now()>0}function Db(e){return{token:pO(fO),error:e}}var Rp=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=Rt(this.app);for(let n of t)Mb(this.app,n.next);return Promise.resolve()}};function yO(e,t){return new Rp(e,t)}function DO(e){return{getToken:t=>Ap(e,t),getLimitedUseToken:()=>gO(e),addTokenListener:t=>mO(e,"INTERNAL",t),removeTokenListener:t=>Mb(e.app,t)}}var bO="@firebase/app-check",wO="0.8.8";var CO="app-check",bb="app-check-internal";function EO(){bo(new Yt(CO,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return yO(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(bb).initialize()})),bo(new Yt(bb,e=>{let t=e.getProvider("app-check").getImmediate();return DO(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Sn(bO,wO)}EO();var SO=["localhost","0.0.0.0","127.0.0.1"],y8=typeof window<"u"&&SO.includes(window.location.hostname);var IO="firebase",TO="10.14.1";ze.registerVersion(IO,TO,"app-compat");var MO=["ngOnDestroy"],Rb=(e,t,n,i={})=>new Proxy(e,{get:(r,o)=>n.runOutsideAngular(()=>{if(e[o])return i?.spy?.get&&i.spy.get(o,e[o]),e[o];if(MO.indexOf(o)>-1)return()=>{};let s=t.toPromise().then(a=>{let l=a?.[o];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>n.run(()=>c)):n.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(u=>{let d=u?.(...c);return i?.spy?.apply&&i.spy.apply(o,c,d),d})})})});var kc=class{constructor(t){return t}},Qr=new D("angularfire2.app.options"),Yr=new D("angularfire2.app.name");function vs(e,t,n){let i=typeof n=="string"&&n||"[DEFAULT]",r=typeof n=="object"&&n||{};r.name=r.name||i;let s=ze.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>ze.initializeApp(e,r));try{if(JSON.stringify(e)!==JSON.stringify(s.options)){let a=!!module.hot;NO("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new kc(s)}var NO=(e,...t)=>{Cf()&&typeof console<"u"&&console[e](...t)},AO={provide:kc,useFactory:vs,deps:[Qr,G,[new Sr,Yr]]},xb=(()=>{class e{static initializeApp(n,i){return{ngModule:e,providers:[{provide:Qr,useValue:n},{provide:Yr,useValue:i}]}}constructor(n){ze.registerVersion("angularfire",Kr.full,"core"),ze.registerVersion("angularfire",Kr.full,"app-compat"),ze.registerVersion("angular",U0.full,n.toString())}static \u0275fac=function(i){return new(i||e)(v(je))};static \u0275mod=H({type:e});static \u0275inj=j({providers:[AO]})}return e})();function Fc(e,t,n,i,r){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===e)||[];if(o)return RO(r,s)||(Ab("error",`${t} was already initialized on the ${n} Firebase App with different settings.${xO?" You may need to reload as Firebase is not HMR aware.":""}`),Ab("warn",{is:r,was:s})),o;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([e,a,r]),a}}function RO(e,t){try{return e.toString()===t.toString()}catch{return e===t}}var xO=typeof module<"u"&&!!module.hot,Ab=(e,...t)=>{Cf()&&typeof console<"u"&&console[e](...t)};globalThis.\u0275AngularfireInstanceCache||=[];var xp=new D("angularfire2.auth.use-emulator"),Op=new D("angularfire2.auth.settings"),Pp=new D("angularfire2.auth.tenant-id"),kp=new D("angularfire2.auth.langugage-code"),Fp=new D("angularfire2.auth.use-device-language"),Lp=new D("angularfire.auth.persistence"),Vp=(e,t,n,i,r,o,s,a)=>Fc(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{let l=t.runOutsideAngular(()=>e.auth());if(n&&l.useEmulator(...n),i&&(l.tenantId=i),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(let[c,u]of Object.entries(s))l.settings[c]=u;return a&&l.setPersistence(a),l},[n,i,r,o,s,a]),Ob=(()=>{class e{authState;idToken;user;idTokenResult;credential;constructor(n,i,r,o,s,a,l,c,u,d,h,f){let p=new Q,y=C(void 0).pipe(lt(s.outsideAngular),re(()=>o.runOutsideAngular(()=>import("./chunk-HFG2JIZC.js"))),S(()=>vs(n,o,i)),S(w=>Vp(w,o,a,c,u,d,l,h)),Ba({bufferSize:1,refCount:!1}));if(zo(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=C(null);else{y.pipe(dt()).subscribe();let w=y.pipe(re(F=>F.getRedirectResult().then(le=>le,()=>null)),bn,Ba({bufferSize:1,refCount:!1})),M=y.pipe(re(F=>new N(le=>({unsubscribe:o.runOutsideAngular(()=>F.onAuthStateChanged(Ge=>le.next(Ge),Ge=>le.error(Ge),()=>le.complete()))})))),q=y.pipe(re(F=>new N(le=>({unsubscribe:o.runOutsideAngular(()=>F.onIdTokenChanged(Ge=>le.next(Ge),Ge=>le.error(Ge),()=>le.complete()))}))));this.authState=w.pipe(Ha(M),Ct(s.outsideAngular),lt(s.insideAngular)),this.user=w.pipe(Ha(q),Ct(s.outsideAngular),lt(s.insideAngular)),this.idToken=this.user.pipe(re(F=>F?ee(F.getIdToken()):C(null))),this.idTokenResult=this.user.pipe(re(F=>F?ee(F.getIdTokenResult()):C(null))),this.credential=oi(w,p,this.authState.pipe(we(F=>!F))).pipe(S(F=>F?.user?F:null),Ct(s.outsideAngular),lt(s.insideAngular))}return Rb(this,y,o,{spy:{apply:(w,M,q)=>{(w.startsWith("signIn")||w.startsWith("createUser"))&&q.then(F=>p.next(F))}}})}static \u0275fac=function(i){return new(i||e)(v(Qr),v(Yr,8),v(je),v(G),v(Oc),v(xp,8),v(Op,8),v(Pp,8),v(kp,8),v(Fp,8),v(Lp,8),v(Ri,8))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})();var Pb="@firebase/database",kb="1.0.8";var Yg="";function Zg(e){Yg=e}var zp=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),_e(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:oa(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var qp=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return at(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var hw=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new zp(t)}}catch{}return new qp},Oi=hw("localStorage"),Kp=hw("sessionStorage");var eo=new Gi("@firebase/database"),fw=function(){let e=1;return function(){return e++}}(),pw=function(e){let t=i_(e),n=new n_;n.update(t);let i=n.digest();return ra.encodeByteArray(i)},$s=function(...e){let t="";for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=$s.apply(null,i):typeof i=="object"?t+=_e(i):t+=i,t+=" "}return t},Pi=null,Fb=!0,gw=function(e,t){m(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(eo.logLevel=r_.VERBOSE,Pi=eo.log.bind(eo),t&&Kp.set("logging_enabled",!0)):typeof e=="function"?Pi=e:(Pi=null,Kp.remove("logging_enabled"))},Me=function(...e){if(Fb===!0&&(Fb=!1,Pi===null&&Kp.get("logging_enabled")===!0&&gw(!0)),Pi){let t=$s.apply(null,e);Pi(t)}},Us=function(e){return function(...t){Me(e,...t)}},Qp=function(...e){let t="FIREBASE INTERNAL ERROR: "+$s(...e);eo.error(t)},qt=function(...e){let t=`FIREBASE FATAL ERROR: ${$s(...e)}`;throw eo.error(t),new Error(t)},ke=function(...e){let t="FIREBASE WARNING: "+$s(...e);eo.warn(t)},PO=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ke("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},uu=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},kO=function(e){if(Pt()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Qn="[MIN_NAME]",wn="[MAX_NAME]",Fi=function(e,t){if(e===t)return 0;if(e===Qn||t===wn)return-1;if(t===Qn||e===wn)return 1;{let n=Lb(e),i=Lb(t);return n!==null?i!==null?n-i===0?e.length-t.length:n-i:-1:i!==null?1:e<t?-1:1}},FO=function(e,t){return e===t?0:e<t?-1:1},ys=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+_e(t))},Jg=function(e){if(typeof e!="object"||e===null)return _e(e);let t=[];for(let i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=_e(t[i]),n+=":",n+=Jg(e[t[i]]);return n+="}",n},mw=function(e,t){let n=e.length;if(n<=t)return[e];let i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function Ne(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var _w=function(e){m(!uu(e),"Invalid JSON number");let t=11,n=52,i=(1<<t-1)-1,r,o,s,a,l;e===0?(o=0,s=0,r=1/e===-1/0?1:0):(r=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),i),o=a+i,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-i-n))));let c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=t;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(r?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},LO=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},VO=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function BO(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");let i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}var jO=new RegExp("^-?(0*)\\d{1,10}$"),HO=-2147483648,$O=2147483647,Lb=function(e){if(jO.test(e)){let t=Number(e);if(t>=HO&&t<=$O)return t}return null},co=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw ke("Exception was thrown by user callback.",n),t},Math.floor(0))}},UO=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Cs=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Yp=class{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){ke(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Zp=class{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Me("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ke(t)}},Es=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),Vc="5",vw="v",yw="s",Dw="r",bw="f",ww=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Cw="ls",Ew="p",Jp="ac",Sw="websocket",Iw="long_polling";var Bc=class{constructor(t,n,i,r,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Oi.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Oi.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function GO(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function Tw(e,t,n){m(typeof t=="string","typeof type must == string"),m(typeof n=="object","typeof params must == object");let i;if(t===Sw)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===Iw)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);GO(e)&&(n.ns=e.namespace);let r=[];return Ne(n,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}var Xp=class{constructor(){this.counters_={}}incrementCounter(t,n=1){at(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return Km(this.counters_)}};var Bp={},jp={};function Xg(e){let t=e.toString();return Bp[t]||(Bp[t]=new Xp),Bp[t]}function WO(e,t){let n=e.toString();return jp[n]||(jp[n]=t()),jp[n]}var eg=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&co(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var Vb="start",zO="close",qO="pLPCommand",KO="pRTLPCB",Mw="id",Nw="pw",Aw="ser",QO="cb",YO="seg",ZO="ts",JO="d",XO="dframe",Rw=1870,xw=30,eP=Rw-xw,tP=25e3,nP=3e4,Ms=class e{constructor(t,n,i,r,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Us(t),this.stats_=Xg(n),this.urlFn=l=>(this.appCheckToken&&(l[Jp]=this.appCheckToken),Tw(n,Iw,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new eg(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(nP)),kO(()=>{if(this.isClosed_)return;this.scriptTagHolder=new tg((...o)=>{let[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===Vb)this.id=a,this.password=l;else if(s===zO)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let i={};i[Vb]="t",i[Aw]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[QO]=this.scriptTagHolder.uniqueCallbackIdentifier),i[vw]=Vc,this.transportSessionId&&(i[yw]=this.transportSessionId),this.lastSessionId&&(i[Cw]=this.lastSessionId),this.applicationId&&(i[Ew]=this.applicationId),this.appCheckToken&&(i[Jp]=this.appCheckToken),typeof location<"u"&&location.hostname&&ww.test(location.hostname)&&(i[Dw]=bw);let r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return Pt()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!LO()&&!VO()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=_e(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let i=qm(n),r=mw(i,eP);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(Pt())return;this.myDisconnFrame=document.createElement("iframe");let i={};i[XO]="t",i[Mw]=t,i[Nw]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=_e(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},tg=class e{constructor(t,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Pt())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=fw(),window[qO+this.uniqueCallbackIdentifier]=t,window[KO+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Me("frame writing exception"),a.stack&&Me(a.stack),Me(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Me("No IE domain setting required")}catch{let i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[Mw]=this.myID,t[Nw]=this.myPW,t[Aw]=this.currentSerial;let n=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+xw+i.length<=Rw;){let s=this.pendingSegs.shift();i=i+"&"+YO+r+"="+s.seg+"&"+ZO+r+"="+s.ts+"&"+JO+r+"="+s.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(tP)),o=()=>{clearTimeout(r),i()};this.addTag(t,o)}addTag(t,n){Pt()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){let r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Me("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}};var iP=16384,rP=45e3,jc=null;typeof MozWebSocket<"u"?jc=MozWebSocket:typeof WebSocket<"u"&&(jc=WebSocket);var Jr=(()=>{class e{constructor(n,i,r,o,s,a,l){this.connId=n,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Us(this.connId),this.stats_=Xg(i),this.connURL=e.connectionURL_(i,a,l,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(n,i,r,o,s){let a={};return a[vw]=Vc,!Pt()&&typeof location<"u"&&location.hostname&&ww.test(location.hostname)&&(a[Dw]=bw),i&&(a[yw]=i),r&&(a[Cw]=r),o&&(a[Jp]=o),s&&(a[Ew]=s),Tw(n,Sw,a)}open(n,i){this.onDisconnect=i,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Oi.set("previous_websocket_failure",!0);try{let r;if(Pt()){let o=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${Vc}/${Yg}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new jc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&jc!==null&&!e.forceDisallow_}static previouslyFailed(){return Oi.isInMemoryStorage||Oi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Oi.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let i=this.frames.join("");this.frames=null;let r=oa(i);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(m(this.frames===null,"We already have a frame buffer"),n.length<=6){let i=Number(n);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let i=n.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{let r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();let i=_e(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);let r=mw(i,iP);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(rP))}sendString_(n){try{this.mySock.send(n)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),Ow=(()=>{class e{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Ms,Jr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let i=Jr&&Jr.isAvailable(),r=i&&!Jr.previouslyFailed();if(n.webSocketOnly&&(i||ke("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Jr];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),oP=6e4,sP=5e3,aP=10*1024,lP=100*1024,Hp="t",Bb="d",cP="s",jb="r",uP="e",Hb="o",$b="a",Ub="n",Gb="p",dP="h",ng=class{constructor(t,n,i,r,o,s,a,l,c,u){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Us("c:"+this.id+":"),this.transportManager_=new Ow(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));let r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Cs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>lP?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>aP?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Hp in t){let n=t[Hp];n===$b?this.upgradeIfSecondaryHealthy_():n===jb?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Hb&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=ys("t",t),i=ys("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Gb,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:$b,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ub,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=ys("t",t),i=ys("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=ys(Hp,t);if(Bb in t){let i=t[Bb];if(n===dP){let r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===Ub){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===cP?this.onConnectionShutdown_(i):n===jb?this.onReset_(i):n===uP?Qp("Server Error: "+i):n===Hb?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Qp("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Vc!==i&&ke("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Cs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(oP))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Cs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(sP))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Gb,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Oi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Hc=class{put(t,n,i,r){}merge(t,n,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}};var $c=class{constructor(t){this.allowedEvents_=t,this.listeners_={},m(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});let r=this.getInitialEvent(t);r&&n.apply(i,r)}off(t,n,i){this.validateEventType_(t);let r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(t){m(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var Uc=class e extends $c{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Gu()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new e}getInitialEvent(t){return m(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var Wb=32,zb=768,J=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function Z(){return new J("")}function $(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Yn(e){return e.pieces_.length-e.pieceNum_}function ie(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new J(e.pieces_,t)}function em(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function hP(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Ns(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function Pw(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new J(t,0)}function ae(e,t){let n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof J)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{let i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new J(n,0)}function U(e){return e.pieceNum_>=e.pieces_.length}function He(e,t){let n=$(e),i=$(t);if(n===null)return t;if(n===i)return He(ie(e),ie(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function fP(e,t){let n=Ns(e,0),i=Ns(t,0);for(let r=0;r<n.length&&r<i.length;r++){let o=Fi(n[r],i[r]);if(o!==0)return o}return n.length===i.length?0:n.length<i.length?-1:1}function tm(e,t){if(Yn(e)!==Yn(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function vt(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(Yn(e)>Yn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}var ig=class{constructor(t,n){this.errorPrefix_=n,this.parts_=Ns(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Do(this.parts_[i]);kw(this)}};function pP(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Do(t),kw(e)}function gP(e){let t=e.parts_.pop();e.byteLength_-=Do(t),e.parts_.length>0&&(e.byteLength_-=1)}function kw(e){if(e.byteLength_>zb)throw new Error(e.errorPrefix_+"has a key path longer than "+zb+" bytes ("+e.byteLength_+").");if(e.parts_.length>Wb)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Wb+") or object contains a cycle "+xi(e))}function xi(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var rg=class e extends $c{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new e}getInitialEvent(t){return m(t==="visible","Unknown event type: "+t),[this.visible_]}};var Ds=1e3,mP=60*5*1e3,qb=30*1e3,_P=1.3,vP=3e4,yP="server_kill",Kb=3,nm=(()=>{class e extends Hc{constructor(n,i,r,o,s,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=e.nextPersistentConnectionId_++,this.log_=Us("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ds,this.maxReconnectDelay_=mP,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Pt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");rg.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Uc.getInstance().on("online",this.onOnline_,this)}sendRequest(n,i,r){let o=++this.requestNumber_,s={r:o,a:n,b:i};this.log_(_e(s)),m(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(n){this.initConnection_();let i=new Ee,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?i.resolve(l):i.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),i.promise}listen(n,i,r,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),m(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),m(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:i,query:n,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let i=this.outstandingGets_[n];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(n){let i=n.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);let s={p:r},a="q";n.tag&&(s.q=i._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,l=>{let c=l.d,u=l.s;e.warnOnListenWarnings_(c,i),(this.listens.get(r)&&this.listens.get(r).get(o))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,o),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,i){if(n&&typeof n=="object"&&at(n,"w")){let r=En(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();ke(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||e_(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=qb)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,i=Xm(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let i=n.s,r=n.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(n,i){let r=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),m(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,n._queryObject,i)}sendUnlisten_(n,i,r,o){this.log_("Unlisten on "+n+" for "+i);let s={p:n},a="n";o&&(s.q=r,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:i,onComplete:r})}onDisconnectMerge(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:i,onComplete:r})}onDisconnectCancel(n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(n,i,r,o){let s={p:i,d:r};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,i,r,o){this.putInternal("p",n,i,r,o)}merge(n,i,r,o){this.putInternal("m",n,i,r,o)}putInternal(n,i,r,o,s){this.initConnection_();let a={p:i,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+i)}sendPut_(n){let i=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){let s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+_e(n));let i=n.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,i){this.log_("handleServerMessage",n,i),n==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):n==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):n==="c"?this.onListenRevoked_(i.p,i.q):n==="ac"?this.onAuthRevoked_(i.s,i.d):n==="apc"?this.onAppCheckRevoked_(i.s,i.d):n==="sd"?this.onSecurityDebugPacket_(i):Qp("Unrecognized action received from server: "+_e(n)+`
Are you using the latest client?`)}onReady_(n,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){m(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ds,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Ds,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>vP&&(this.reconnectDelay_=Ds),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-n);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*_P)}this.onConnectStatus_(!1)}establishConnection_(){return bt(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,r())},u=function(h){m(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Me("getToken() completed but was canceled"):(Me("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,l=new ng(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,i,r,p=>{ke(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(yP)},s))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&ke(h),c())}}})}interrupt(n){Me("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Me("Resuming connection for reason: "+n),delete this.interruptReasons_[n],sa(this.interruptReasons_)&&(this.reconnectDelay_=Ds,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let i=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let i=this.outstandingPuts_[n];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,i){let r;i?r=i.map(s=>Jg(s)).join("$"):r="default";let o=this.removeListen_(n,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,i){let r=new J(n).toString(),o;if(this.listens.has(r)){let s=this.listens.get(r);o=s.get(i),s.delete(i),s.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(n,i){Me("Auth token revoked: "+n+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Kb&&(this.reconnectDelay_=qb,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,i){Me("App check token revoked: "+n+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Kb&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let i of n.values())this.sendListen_(i);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},i="js";Pt()&&(this.repoInfo_.nodeAdmin?i="admin_node":i="node"),n["sdk."+i+"."+Yg.replace(/\./g,"-")]=1,Gu()?n["framework.cordova"]=1:Ym()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Uc.getInstance().currentlyOnline();return sa(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),W=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var to=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let i=new W(Qn,t),r=new W(Qn,n);return this.compare(i,r)!==0}minPost(){return W.MIN}};var Lc,Gc=class extends to{static get __EMPTY_NODE(){return Lc}static set __EMPTY_NODE(t){Lc=t}compare(t,n){return Fi(t.name,n.name)}isDefinedOn(t){throw Ui("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return W.MIN}maxPost(){return new W(wn,Lc)}makePost(t,n){return m(typeof t=="string","KeyIndex indexValue must always be a string."),new W(t,Lc)}toString(){return".key"}},zt=new Gc;var Xr=class{constructor(t,n,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?i(t.key,n):1,r&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},xt=(()=>{class e{constructor(n,i,r,o,s){this.key=n,this.value=i,this.color=r??e.RED,this.left=o??yt.EMPTY_NODE,this.right=s??yt.EMPTY_NODE}copy(n,i,r,o,s){return new e(n??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,r){let o=this,s=r(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,i,r),null):s===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return yt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,i){let r,o;if(r=this,i(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(n,r.key)===0){if(r.right.isEmpty())return yt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),og=class{copy(t,n,i,r,o){return this}insert(t,n,i){return new xt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},yt=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,xt.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,xt.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Xr(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Xr(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Xr(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Xr(this.root_,null,this.comparator_,!0,t)}};yt.EMPTY_NODE=new og;function DP(e,t){return Fi(e.name,t.name)}function im(e,t){return Fi(e,t)}var sg;function bP(e){sg=e}var Fw=function(e){return typeof e=="number"?"number:"+_w(e):"string:"+e},Lw=function(e){if(e.isLeafNode()){let t=e.val();m(typeof t=="string"||typeof t=="number"||typeof t=="object"&&at(t,".sv"),"Priority must be a string or number.")}else m(e===sg||e.isEmpty(),"priority of unexpected type.");m(e===sg||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var Qb,no=(()=>{class e{constructor(n,i=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=i,this.lazyHash_=null,m(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Lw(this.priorityNode_)}static set __childrenNodeConstructor(n){Qb=n}static get __childrenNodeConstructor(){return Qb}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return U(n)?this:$(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,i){return null}updateImmediateChild(n,i){return n===".priority"?this.updatePriority(i):i.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,i).updatePriority(this.priorityNode_)}updateChild(n,i){let r=$(n);return r===null?i:i.isEmpty()&&r!==".priority"?this:(m(r!==".priority"||Yn(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ie(n),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,i){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Fw(this.priorityNode_.val())+":");let i=typeof this.value_;n+=i+":",i==="number"?n+=_w(this.value_):n+=this.value_,this.lazyHash_=pw(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(m(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let i=typeof n.value_,r=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(i),s=e.VALUE_TYPE_ORDER.indexOf(r);return m(o>=0,"Unknown leaf type: "+i),m(s>=0,"Unknown leaf type: "+r),o===s?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let i=n;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),Vw,Bw;function wP(e){Vw=e}function CP(e){Bw=e}var ag=class extends to{compare(t,n){let i=t.node.getPriority(),r=n.node.getPriority(),o=i.compareTo(r);return o===0?Fi(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return W.MIN}maxPost(){return new W(wn,new no("[PRIORITY-POST]",Bw))}makePost(t,n){let i=Vw(t);return new W(n,new no("[PRIORITY-POST]",i))}toString(){return".priority"}},oe=new ag;var EP=Math.log(2),lg=class{constructor(t){let n=o=>parseInt(Math.log(o)/EP,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let r=i(this.count);this.bits_=t+1&r}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},Wc=function(e,t,n,i){e.sort(t);let r=function(l,c){let u=c-l,d,h;if(u===0)return null;if(u===1)return d=e[l],h=n?n(d):d,new xt(h,d.node,xt.BLACK,null,null);{let f=parseInt(u/2,10)+l,p=r(l,f),y=r(f+1,c);return d=e[f],h=n?n(d):d,new xt(h,d.node,xt.BLACK,p,y)}},o=function(l){let c=null,u=null,d=e.length,h=function(p,y){let w=d-p,M=d;d-=p;let q=r(w+1,M),F=e[w],le=n?n(F):F;f(new xt(le,F.node,y,null,q))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let y=l.nextBitIsOne(),w=Math.pow(2,l.count-(p+1));y?h(w,xt.BLACK):(h(w,xt.BLACK),h(w,xt.RED))}return u},s=new lg(e.length),a=o(s);return new yt(i||t,a)};var $p,Zr={},io=class e{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return m(Zr&&oe,"ChildrenNode.ts has not been loaded"),$p=$p||new e({".priority":Zr},{".priority":oe}),$p}get(t){let n=En(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof yt?n:null}hasIndex(t){return at(this.indexSet_,t.toString())}addIndex(t,n){m(t!==zt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],r=!1,o=n.getIterator(W.Wrap),s=o.getNext();for(;s;)r=r||t.isDefinedOn(s.node),i.push(s),s=o.getNext();let a;r?a=Wc(i,t.getCompare()):a=Zr;let l=t.toString(),c=Object.assign({},this.indexSet_);c[l]=t;let u=Object.assign({},this.indexes_);return u[l]=a,new e(u,c)}addToIndexes(t,n){let i=yo(this.indexes_,(r,o)=>{let s=En(this.indexSet_,o);if(m(s,"Missing index implementation for "+o),r===Zr)if(s.isDefinedOn(t.node)){let a=[],l=n.getIterator(W.Wrap),c=l.getNext();for(;c;)c.name!==t.name&&a.push(c),c=l.getNext();return a.push(t),Wc(a,s.getCompare())}else return Zr;else{let a=n.get(t.name),l=r;return a&&(l=l.remove(new W(t.name,a))),l.insert(t,t.node)}});return new e(i,this.indexSet_)}removeFromIndexes(t,n){let i=yo(this.indexes_,r=>{if(r===Zr)return r;{let o=n.get(t.name);return o?r.remove(new W(t.name,o)):r}});return new e(i,this.indexSet_)}};var bs,x=(()=>{class e{constructor(n,i,r){this.children_=n,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Lw(this.priorityNode_),this.children_.isEmpty()&&m(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return bs||(bs=new e(new yt(im),null,io.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||bs}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let i=this.children_.get(n);return i===null?bs:i}}getChild(n){let i=$(n);return i===null?this:this.getImmediateChild(i).getChild(ie(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,i){if(m(i,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(i);{let r=new W(n,i),o,s;i.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(n,i),s=this.indexMap_.addToIndexes(r,this.children_));let a=o.isEmpty()?bs:this.priorityNode_;return new e(o,a,s)}}updateChild(n,i){let r=$(n);if(r===null)return i;{m($(n)!==".priority"||Yn(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(r).updateChild(ie(n),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let i={},r=0,o=0,s=!0;if(this.forEachChild(oe,(a,l)=>{i[a]=l.val(n),r++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*r){let a=[];for(let l in i)a[l]=i[l];return a}else return n&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+Fw(this.getPriority().val())+":"),this.forEachChild(oe,(i,r)=>{let o=r.hash();o!==""&&(n+=":"+i+":"+o)}),this.lazyHash_=n===""?"":pw(n)}return this.lazyHash_}getPredecessorChildName(n,i,r){let o=this.resolveIndex_(r);if(o){let s=o.getPredecessorKey(new W(n,i));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){let i=this.getFirstChildName(n);return i?new W(i,this.children_.get(i)):null}getLastChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){let i=this.getLastChildName(n);return i?new W(i,this.children_.get(i)):null}forEachChild(n,i){let r=this.resolveIndex_(n);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,W.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,W.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Gs?-1:0}withIndex(n){if(n===zt||this.indexMap_.hasIndex(n))return this;{let i=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,i)}}isIndexed(n){return n===zt||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let i=n;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){let r=this.getIterator(oe),o=i.getIterator(oe),s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===zt?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),cg=class extends x{constructor(){super(new yt(im),x.EMPTY_NODE,io.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return x.EMPTY_NODE}isEmpty(){return!1}},Gs=new cg;Object.defineProperties(W,{MIN:{value:new W(Qn,x.EMPTY_NODE)},MAX:{value:new W(wn,Gs)}});Gc.__EMPTY_NODE=x.EMPTY_NODE;no.__childrenNodeConstructor=x;bP(Gs);CP(Gs);var SP=!0;function de(e,t=null){if(e===null)return x.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),m(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new no(n,de(t))}if(!(e instanceof Array)&&SP){let n=[],i=!1;if(Ne(e,(s,a)=>{if(s.substring(0,1)!=="."){let l=de(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new W(s,l)))}}),n.length===0)return x.EMPTY_NODE;let o=Wc(n,DP,s=>s.name,im);if(i){let s=Wc(n,oe.getCompare());return new x(o,de(t),new io({".priority":s},{".priority":oe}))}else return new x(o,de(t),io.Default)}else{let n=x.EMPTY_NODE;return Ne(e,(i,r)=>{if(at(e,i)&&i.substring(0,1)!=="."){let o=de(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(de(t))}}wP(de);var As=class extends to{constructor(t){super(),this.indexPath_=t,m(!U(t)&&$(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let i=this.extractChild(t.node),r=this.extractChild(n.node),o=i.compareTo(r);return o===0?Fi(t.name,n.name):o}makePost(t,n){let i=de(t),r=x.EMPTY_NODE.updateChild(this.indexPath_,i);return new W(n,r)}maxPost(){let t=x.EMPTY_NODE.updateChild(this.indexPath_,Gs);return new W(wn,t)}toString(){return Ns(this.indexPath_,0).join("/")}};var ug=class extends to{compare(t,n){let i=t.node.compareTo(n.node);return i===0?Fi(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return W.MIN}maxPost(){return W.MAX}makePost(t,n){let i=de(t);return new W(n,i)}toString(){return".value"}},rm=new ug;function jw(e){return{type:"value",snapshotNode:e}}function ro(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Rs(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function xs(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function IP(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var Os=class{constructor(t){this.index_=t}updateChild(t,n,i,r,o,s){m(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(n);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(s!=null&&(i.isEmpty()?t.hasChild(n)?s.trackChildChange(Rs(n,a)):m(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ro(n,i)):s.trackChildChange(xs(n,i,a))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(t,n,i){return i!=null&&(t.isLeafNode()||t.forEachChild(oe,(r,o)=>{n.hasChild(r)||i.trackChildChange(Rs(r,o))}),n.isLeafNode()||n.forEachChild(oe,(r,o)=>{if(t.hasChild(r)){let s=t.getImmediateChild(r);s.equals(o)||i.trackChildChange(xs(r,o,s))}else i.trackChildChange(ro(r,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?x.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var zc=class e{constructor(t){this.indexedFilter_=new Os(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&i}updateChild(t,n,i,r,o,s){return this.matches(new W(n,i))||(i=x.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,i,r,o,s)}updateFullNode(t,n,i){n.isLeafNode()&&(n=x.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(x.EMPTY_NODE);let o=this;return n.forEachChild(oe,(s,a)=>{o.matches(new W(s,a))||(r=r.updateImmediateChild(s,x.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}};var dg=class{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{let i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new zc(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,i,r,o,s){return this.rangedFilter_.matches(new W(n,i))||(i=x.EMPTY_NODE),t.getImmediateChild(n).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,i,r,o,s):this.fullLimitUpdateChild_(t,n,i,o,s)}updateFullNode(t,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=x.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=x.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(x.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,x.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,i,r,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(h,f)=>d(f,h)}else s=this.index_.getCompare();let a=t;m(a.numChildren()===this.limit_,"");let l=new W(n,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),h=r.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);let f=h==null?1:s(h,l);if(u&&!i.isEmpty()&&f>=0)return o?.trackChildChange(xs(n,i,d)),a.updateImmediateChild(n,i);{o?.trackChildChange(Rs(n,d));let y=a.updateImmediateChild(n,x.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o?.trackChildChange(ro(h.name,h.node)),y.updateImmediateChild(h.name,h.node)):y}}else return i.isEmpty()?t:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(Rs(c.name,c.node)),o.trackChildChange(ro(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(c.name,x.EMPTY_NODE)):t}};var Ps=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=oe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return m(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return m(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Qn}hasEnd(){return this.endSet_}getIndexEndValue(){return m(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return m(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:wn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return m(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===oe}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function TP(e){return e.loadsAllData()?new Os(e.getIndex()):e.hasLimit()?new dg(e):new zc(e)}function MP(e,t){let n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function NP(e,t){let n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function hg(e,t,n){let i=e.copy();return i.startSet_=!0,t===void 0&&(t=null),i.indexStartValue_=t,n!=null?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function AP(e,t,n){let i;return e.index_===zt||n?i=hg(e,t,n):i=hg(e,t,wn),i.startAfterSet_=!0,i}function fg(e,t,n){let i=e.copy();return i.endSet_=!0,t===void 0&&(t=null),i.indexEndValue_=t,n!==void 0?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function RP(e,t,n){let i;return e.index_===zt||n?i=fg(e,t,n):i=fg(e,t,Qn),i.endBeforeSet_=!0,i}function du(e,t){let n=e.copy();return n.index_=t,n}function Yb(e){let t={};if(e.isDefault())return t;let n;if(e.index_===oe?n="$priority":e.index_===rm?n="$value":e.index_===zt?n="$key":(m(e.index_ instanceof As,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=_e(n),e.startSet_){let i=e.startAfterSet_?"startAfter":"startAt";t[i]=_e(e.indexStartValue_),e.startNameSet_&&(t[i]+=","+_e(e.indexStartName_))}if(e.endSet_){let i=e.endBeforeSet_?"endBefore":"endAt";t[i]=_e(e.indexEndValue_),e.endNameSet_&&(t[i]+=","+_e(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Zb(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==oe&&(t.i=e.index_.toString()),t}var pg=class e extends Hc{constructor(t,n,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Us("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(m(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,i,r){let o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);let s=e.getListenId_(t,i),a={};this.listens_[s]=a;let l=Yb(t._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,i),En(this.listens_,s)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",r(h,null)}})}unlisten(t,n){let i=e.getListenId_(t,n);delete this.listens_[i]}get(t){let n=Yb(t._queryParams),i=t._path.toString(),r=new Ee;return this.restRequest_(i+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+t_(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=oa(a.responseText)}catch{ke("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&ke("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}};var gg=class{constructor(){this.rootNode_=x.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function qc(){return{value:null,children:new Map}}function uo(e,t,n){if(U(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let i=$(t);e.children.has(i)||e.children.set(i,qc());let r=e.children.get(i);t=ie(t),uo(r,t,n)}}function mg(e,t){if(U(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;{let n=e.value;return e.value=null,n.forEachChild(oe,(i,r)=>{uo(e,new J(i),r)}),mg(e,t)}}else if(e.children.size>0){let n=$(t);return t=ie(t),e.children.has(n)&&mg(e.children.get(n),t)&&e.children.delete(n),e.children.size===0}else return!0}function _g(e,t,n){e.value!==null?n(t,e.value):xP(e,(i,r)=>{let o=new J(t.toString()+"/"+i);_g(r,o,n)})}function xP(e,t){e.children.forEach((n,i)=>{t(i,n)})}var vg=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Ne(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=t,n}};var Jb=10*1e3,OP=30*1e3,PP=5*60*1e3,yg=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new vg(t);let i=Jb+(OP-Jb)*Math.random();Cs(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){let t=this.statsListener_.get(),n={},i=!1;Ne(t,(r,o)=>{o>0&&at(this.statsToReport_,r)&&(n[r]=o,i=!0)}),i&&this.server_.reportStats(n),Cs(this.reportStats_.bind(this),Math.floor(Math.random()*2*PP))}};var Wt=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(Wt||{});function om(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function sm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function am(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var Dg=class e{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=Wt.ACK_USER_WRITE,this.source=om()}operationForChild(t){if(U(this.path)){if(this.affectedTree.value!=null)return m(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new J(t));return new e(Z(),n,this.revert)}}else return m($(this.path)===t,"operationForChild called for unrelated child."),new e(ie(this.path),this.affectedTree,this.revert)}};var Kc=class e{constructor(t,n){this.source=t,this.path=n,this.type=Wt.LISTEN_COMPLETE}operationForChild(t){return U(this.path)?new e(this.source,Z()):new e(this.source,ie(this.path))}};var oo=class e{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=Wt.OVERWRITE}operationForChild(t){return U(this.path)?new e(this.source,Z(),this.snap.getImmediateChild(t)):new e(this.source,ie(this.path),this.snap)}};var ks=class e{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=Wt.MERGE}operationForChild(t){if(U(this.path)){let n=this.children.subtree(new J(t));return n.isEmpty()?null:n.value?new oo(this.source,Z(),n.value):new e(this.source,Z(),n)}else return m($(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ie(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Kt=class{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(U(t))return this.isFullyInitialized()&&!this.filtered_;let n=$(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var bg=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function kP(e,t,n,i){let r=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(IP(s.childName,s.snapshotNode))}),ws(e,r,"child_removed",t,i,n),ws(e,r,"child_added",t,i,n),ws(e,r,"child_moved",o,i,n),ws(e,r,"child_changed",t,i,n),ws(e,r,"value",t,i,n),r}function ws(e,t,n,i,r,o){let s=i.filter(a=>a.type===n);s.sort((a,l)=>LP(e,a,l)),s.forEach(a=>{let l=FP(e,a,o);r.forEach(c=>{c.respondsTo(a.type)&&t.push(c.createEvent(l,e.query_))})})}function FP(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function LP(e,t,n){if(t.childName==null||n.childName==null)throw Ui("Should only compare child_ events.");let i=new W(t.childName,t.snapshotNode),r=new W(n.childName,n.snapshotNode);return e.index_.compare(i,r)}function hu(e,t){return{eventCache:e,serverCache:t}}function Ss(e,t,n,i){return hu(new Kt(t,n,i),e.serverCache)}function Hw(e,t,n,i){return hu(e.eventCache,new Kt(t,n,i))}function Qc(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ki(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Up,VP=()=>(Up||(Up=new yt(FO)),Up),$e=class e{constructor(t,n=VP()){this.value=t,this.children=n}static fromObject(t){let n=new e(null);return Ne(t,(i,r)=>{n=n.set(new J(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:Z(),value:this.value};if(U(t))return null;{let i=$(t),r=this.children.get(i);if(r!==null){let o=r.findRootMostMatchingPathAndValue(ie(t),n);return o!=null?{path:ae(new J(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(U(t))return this;{let n=$(t),i=this.children.get(n);return i!==null?i.subtree(ie(t)):new e(null)}}set(t,n){if(U(t))return new e(n,this.children);{let i=$(t),o=(this.children.get(i)||new e(null)).set(ie(t),n),s=this.children.insert(i,o);return new e(this.value,s)}}remove(t){if(U(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=$(t),i=this.children.get(n);if(i){let r=i.remove(ie(t)),o;return r.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,r),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(t){if(U(t))return this.value;{let n=$(t),i=this.children.get(n);return i?i.get(ie(t)):null}}setTree(t,n){if(U(t))return n;{let i=$(t),o=(this.children.get(i)||new e(null)).setTree(ie(t),n),s;return o.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,o),new e(this.value,s)}}fold(t){return this.fold_(Z(),t)}fold_(t,n){let i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(ae(t,r),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,Z(),n)}findOnPath_(t,n,i){let r=this.value?i(n,this.value):!1;if(r)return r;if(U(t))return null;{let o=$(t),s=this.children.get(o);return s?s.findOnPath_(ie(t),ae(n,o),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,Z(),n)}foreachOnPath_(t,n,i){if(U(t))return this;{this.value&&i(n,this.value);let r=$(t),o=this.children.get(r);return o?o.foreachOnPath_(ie(t),ae(n,r),i):new e(null)}}foreach(t){this.foreach_(Z(),t)}foreach_(t,n){this.children.inorderTraversal((i,r)=>{r.foreach_(ae(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}};var Ot=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new $e(null))}};function Is(e,t,n){if(U(t))return new Ot(new $e(n));{let i=e.writeTree_.findRootMostValueAndPath(t);if(i!=null){let r=i.path,o=i.value,s=He(r,t);return o=o.updateChild(s,n),new Ot(e.writeTree_.set(r,o))}else{let r=new $e(n),o=e.writeTree_.setTree(t,r);return new Ot(o)}}}function wg(e,t,n){let i=e;return Ne(n,(r,o)=>{i=Is(i,ae(t,r),o)}),i}function Xb(e,t){if(U(t))return Ot.empty();{let n=e.writeTree_.setTree(t,new $e(null));return new Ot(n)}}function Cg(e,t){return Li(e,t)!=null}function Li(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(He(n.path,t)):null}function ew(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(oe,(i,r)=>{t.push(new W(i,r))}):e.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&t.push(new W(i,r.value))}),t}function qn(e,t){if(U(t))return e;{let n=Li(e,t);return n!=null?new Ot(new $e(n)):new Ot(e.writeTree_.subtree(t))}}function Eg(e){return e.writeTree_.isEmpty()}function so(e,t){return $w(Z(),e.writeTree_,t)}function $w(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{r===".priority"?(m(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=$w(ae(e,r),o,n)}),!n.getChild(e).isEmpty()&&i!==null&&(n=n.updateChild(ae(e,".priority"),i)),n}}function fu(e,t){return zw(t,e)}function BP(e,t,n,i,r){m(i>e.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=Is(e.visibleWrites,t,n)),e.lastWriteId=i}function jP(e,t,n,i){m(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:i,visible:!0}),e.visibleWrites=wg(e.visibleWrites,t,n),e.lastWriteId=i}function HP(e,t){for(let n=0;n<e.allWrites.length;n++){let i=e.allWrites[n];if(i.writeId===t)return i}return null}function $P(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);m(n>=0,"removeWrite called with nonexistent writeId.");let i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,o=!1,s=e.allWrites.length-1;for(;r&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=n&&UP(a,i.path)?r=!1:vt(i.path,a.path)&&(o=!0)),s--}if(r){if(o)return GP(e),!0;if(i.snap)e.visibleWrites=Xb(e.visibleWrites,i.path);else{let a=i.children;Ne(a,l=>{e.visibleWrites=Xb(e.visibleWrites,ae(i.path,l))})}return!0}else return!1}function UP(e,t){if(e.snap)return vt(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&vt(ae(e.path,n),t))return!0;return!1}function GP(e){e.visibleWrites=Uw(e.allWrites,WP,Z()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function WP(e){return e.visible}function Uw(e,t,n){let i=Ot.empty();for(let r=0;r<e.length;++r){let o=e[r];if(t(o)){let s=o.path,a;if(o.snap)vt(n,s)?(a=He(n,s),i=Is(i,a,o.snap)):vt(s,n)&&(a=He(s,n),i=Is(i,Z(),o.snap.getChild(a)));else if(o.children){if(vt(n,s))a=He(n,s),i=wg(i,a,o.children);else if(vt(s,n))if(a=He(s,n),U(a))i=wg(i,Z(),o.children);else{let l=En(o.children,$(a));if(l){let c=l.getChild(ie(a));i=Is(i,Z(),c)}}}else throw Ui("WriteRecord should have .snap or .children")}}return i}function Gw(e,t,n,i,r){if(!i&&!r){let o=Li(e.visibleWrites,t);if(o!=null)return o;{let s=qn(e.visibleWrites,t);if(Eg(s))return n;if(n==null&&!Cg(s,Z()))return null;{let a=n||x.EMPTY_NODE;return so(s,a)}}}else{let o=qn(e.visibleWrites,t);if(!r&&Eg(o))return n;if(!r&&n==null&&!Cg(o,Z()))return null;{let s=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(vt(c.path,t)||vt(t,c.path))},a=Uw(e.allWrites,s,t),l=n||x.EMPTY_NODE;return so(a,l)}}}function zP(e,t,n){let i=x.EMPTY_NODE,r=Li(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(oe,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(n){let o=qn(e.visibleWrites,t);return n.forEachChild(oe,(s,a)=>{let l=so(qn(o,new J(s)),a);i=i.updateImmediateChild(s,l)}),ew(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{let o=qn(e.visibleWrites,t);return ew(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function qP(e,t,n,i,r){m(i||r,"Either existingEventSnap or existingServerSnap must exist");let o=ae(t,n);if(Cg(e.visibleWrites,o))return null;{let s=qn(e.visibleWrites,o);return Eg(s)?r.getChild(n):so(s,r.getChild(n))}}function KP(e,t,n,i){let r=ae(t,n),o=Li(e.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(n)){let s=qn(e.visibleWrites,r);return so(s,i.getNode().getImmediateChild(n))}else return null}function QP(e,t){return Li(e.visibleWrites,t)}function YP(e,t,n,i,r,o,s){let a,l=qn(e.visibleWrites,t),c=Li(l,Z());if(c!=null)a=c;else if(n!=null)a=so(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s),f=h.getNext();for(;f&&u.length<r;)d(f,i)!==0&&u.push(f),f=h.getNext();return u}else return[]}function ZP(){return{visibleWrites:Ot.empty(),allWrites:[],lastWriteId:-1}}function Yc(e,t,n,i){return Gw(e.writeTree,e.treePath,t,n,i)}function lm(e,t){return zP(e.writeTree,e.treePath,t)}function tw(e,t,n,i){return qP(e.writeTree,e.treePath,t,n,i)}function Zc(e,t){return QP(e.writeTree,ae(e.treePath,t))}function JP(e,t,n,i,r,o){return YP(e.writeTree,e.treePath,t,n,i,r,o)}function cm(e,t,n){return KP(e.writeTree,e.treePath,t,n)}function Ww(e,t){return zw(ae(e.treePath,t),e.writeTree)}function zw(e,t){return{treePath:e,writeTree:t}}var Sg=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,i=t.childName;m(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),m(i!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(i);if(r){let o=r.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,xs(i,t.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,Rs(i,r.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,ro(i,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,xs(i,t.snapshotNode,r.oldSnap));else throw Ui("Illegal combination of changes: "+t+" occurred after "+r)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}};var Ig=class{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}},qw=new Ig,Fs=class{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let i=this.optCompleteServerCache_!=null?new Kt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return cm(this.writes_,t,i)}}getChildAfterChild(t,n,i){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ki(this.viewCache_),o=JP(this.writes_,r,n,1,i,t);return o.length===0?null:o[0]}};function XP(e){return{filter:e}}function ek(e,t){m(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),m(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function tk(e,t,n,i,r){let o=new Sg,s,a;if(n.type===Wt.OVERWRITE){let c=n;c.source.fromUser?s=Tg(e,t,c.path,c.snap,i,r,o):(m(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!U(c.path),s=Jc(e,t,c.path,c.snap,i,r,a,o))}else if(n.type===Wt.MERGE){let c=n;c.source.fromUser?s=ik(e,t,c.path,c.children,i,r,o):(m(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),s=Mg(e,t,c.path,c.children,i,r,a,o))}else if(n.type===Wt.ACK_USER_WRITE){let c=n;c.revert?s=sk(e,t,c.path,i,r,o):s=rk(e,t,c.path,c.affectedTree,i,r,o)}else if(n.type===Wt.LISTEN_COMPLETE)s=ok(e,t,n.path,i,o);else throw Ui("Unknown operation type: "+n.type);let l=o.getChanges();return nk(t,s,l),{viewCache:s,changes:l}}function nk(e,t,n){let i=t.eventCache;if(i.isFullyInitialized()){let r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Qc(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(jw(Qc(t)))}}function Kw(e,t,n,i,r,o){let s=t.eventCache;if(Zc(i,n)!=null)return t;{let a,l;if(U(n))if(m(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let c=ki(t),u=c instanceof x?c:x.EMPTY_NODE,d=lm(i,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{let c=Yc(i,ki(t));a=e.filter.updateFullNode(t.eventCache.getNode(),c,o)}else{let c=$(n);if(c===".priority"){m(Yn(n)===1,"Can't have a priority with additional path components");let u=s.getNode();l=t.serverCache.getNode();let d=tw(i,n,u,l);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=ie(n),d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();let h=tw(i,n,s.getNode(),l);h!=null?d=s.getNode().getImmediateChild(c).updateChild(u,h):d=s.getNode().getImmediateChild(c)}else d=cm(i,c,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),c,d,u,r,o):a=s.getNode()}}return Ss(t,a,s.isFullyInitialized()||U(n),e.filter.filtersNodes())}}function Jc(e,t,n,i,r,o,s,a){let l=t.serverCache,c,u=s?e.filter:e.filter.getIndexedFilter();if(U(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){let f=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),f,null)}else{let f=$(n);if(!l.isCompleteForPath(n)&&Yn(n)>1)return t;let p=ie(n),w=l.getNode().getImmediateChild(f).updateChild(p,i);f===".priority"?c=u.updatePriority(l.getNode(),w):c=u.updateChild(l.getNode(),f,w,p,qw,null)}let d=Hw(t,c,l.isFullyInitialized()||U(n),u.filtersNodes()),h=new Fs(r,d,o);return Kw(e,d,n,r,h,a)}function Tg(e,t,n,i,r,o,s){let a=t.eventCache,l,c,u=new Fs(r,t,o);if(U(n))c=e.filter.updateFullNode(t.eventCache.getNode(),i,s),l=Ss(t,c,!0,e.filter.filtersNodes());else{let d=$(n);if(d===".priority")c=e.filter.updatePriority(t.eventCache.getNode(),i),l=Ss(t,c,a.isFullyInitialized(),a.isFiltered());else{let h=ie(n),f=a.getNode().getImmediateChild(d),p;if(U(h))p=i;else{let y=u.getCompleteChild(d);y!=null?em(h)===".priority"&&y.getChild(Pw(h)).isEmpty()?p=y:p=y.updateChild(h,i):p=x.EMPTY_NODE}if(f.equals(p))l=t;else{let y=e.filter.updateChild(a.getNode(),d,p,h,u,s);l=Ss(t,y,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function nw(e,t){return e.eventCache.isCompleteForChild(t)}function ik(e,t,n,i,r,o,s){let a=t;return i.foreach((l,c)=>{let u=ae(n,l);nw(t,$(u))&&(a=Tg(e,a,u,c,r,o,s))}),i.foreach((l,c)=>{let u=ae(n,l);nw(t,$(u))||(a=Tg(e,a,u,c,r,o,s))}),a}function iw(e,t,n){return n.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function Mg(e,t,n,i,r,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,c;U(n)?c=i:c=new $e(null).setTree(n,i);let u=t.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let f=t.serverCache.getNode().getImmediateChild(d),p=iw(e,f,h);l=Jc(e,l,new J(d),p,r,o,s,a)}}),c.children.inorderTraversal((d,h)=>{let f=!t.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){let p=t.serverCache.getNode().getImmediateChild(d),y=iw(e,p,h);l=Jc(e,l,new J(d),y,r,o,s,a)}}),l}function rk(e,t,n,i,r,o,s){if(Zc(r,n)!=null)return t;let a=t.serverCache.isFiltered(),l=t.serverCache;if(i.value!=null){if(U(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Jc(e,t,n,l.getNode().getChild(n),r,o,a,s);if(U(n)){let c=new $e(null);return l.getNode().forEachChild(zt,(u,d)=>{c=c.set(new J(u),d)}),Mg(e,t,n,c,r,o,a,s)}else return t}else{let c=new $e(null);return i.foreach((u,d)=>{let h=ae(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),Mg(e,t,n,c,r,o,a,s)}}function ok(e,t,n,i,r){let o=t.serverCache,s=Hw(t,o.getNode(),o.isFullyInitialized()||U(n),o.isFiltered());return Kw(e,s,n,i,qw,r)}function sk(e,t,n,i,r,o){let s;if(Zc(i,n)!=null)return t;{let a=new Fs(i,t,r),l=t.eventCache.getNode(),c;if(U(n)||$(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=Yc(i,ki(t));else{let d=t.serverCache.getNode();m(d instanceof x,"serverChildren would be complete if leaf node"),u=lm(i,d)}u=u,c=e.filter.updateFullNode(l,u,o)}else{let u=$(n),d=cm(i,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=e.filter.updateChild(l,u,d,ie(n),a,o):t.eventCache.getNode().hasChild(u)?c=e.filter.updateChild(l,u,x.EMPTY_NODE,ie(n),a,o):c=l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Yc(i,ki(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||Zc(i,Z())!=null,Ss(t,c,s,e.filter.filtersNodes())}}var Ng=class{constructor(t,n){this.query_=t,this.eventRegistrations_=[];let i=this.query_._queryParams,r=new Os(i.getIndex()),o=TP(i);this.processor_=XP(o);let s=n.serverCache,a=n.eventCache,l=r.updateFullNode(x.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(x.EMPTY_NODE,a.getNode(),null),u=new Kt(l,s.isFullyInitialized(),r.filtersNodes()),d=new Kt(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=hu(d,u),this.eventGenerator_=new bg(this.query_)}get query(){return this.query_}};function ak(e){return e.viewCache_.serverCache.getNode()}function lk(e){return Qc(e.viewCache_)}function ck(e,t){let n=ki(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!U(t)&&!n.getImmediateChild($(t)).isEmpty())?n.getChild(t):null}function rw(e){return e.eventRegistrations_.length===0}function uk(e,t){e.eventRegistrations_.push(t)}function ow(e,t,n){let i=[];if(n){m(t==null,"A cancel should cancel all event registrations.");let r=e.query._path;e.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,r);s&&i.push(s)})}if(t){let r=[];for(let o=0;o<e.eventRegistrations_.length;++o){let s=e.eventRegistrations_[o];if(!s.matches(t))r.push(s);else if(t.hasAnyCallback()){r=r.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=r}else e.eventRegistrations_=[];return i}function sw(e,t,n,i){t.type===Wt.MERGE&&t.source.queryId!==null&&(m(ki(e.viewCache_),"We should always have a full cache before handling merges"),m(Qc(e.viewCache_),"Missing event cache, even though we have a server cache"));let r=e.viewCache_,o=tk(e.processor_,r,t,n,i);return ek(e.processor_,o.viewCache),m(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,Qw(e,o.changes,o.viewCache.eventCache.getNode(),null)}function dk(e,t){let n=e.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(oe,(o,s)=>{i.push(ro(o,s))}),n.isFullyInitialized()&&i.push(jw(n.getNode())),Qw(e,i,n.getNode(),t)}function Qw(e,t,n,i){let r=i?[i]:e.eventRegistrations_;return kP(e.eventGenerator_,t,n,r)}var Xc,eu=class{constructor(){this.views=new Map}};function hk(e){m(!Xc,"__referenceConstructor has already been defined"),Xc=e}function fk(){return m(Xc,"Reference.ts has not been loaded"),Xc}function pk(e){return e.views.size===0}function um(e,t,n,i){let r=t.source.queryId;if(r!==null){let o=e.views.get(r);return m(o!=null,"SyncTree gave us an op for an invalid query."),sw(o,t,n,i)}else{let o=[];for(let s of e.views.values())o=o.concat(sw(s,t,n,i));return o}}function Yw(e,t,n,i,r){let o=t._queryIdentifier,s=e.views.get(o);if(!s){let a=Yc(n,r?i:null),l=!1;a?l=!0:i instanceof x?(a=lm(n,i),l=!1):(a=x.EMPTY_NODE,l=!1);let c=hu(new Kt(a,l,!1),new Kt(i,r,!1));return new Ng(t,c)}return s}function gk(e,t,n,i,r,o){let s=Yw(e,t,i,r,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),uk(s,n),dk(s,n)}function mk(e,t,n,i){let r=t._queryIdentifier,o=[],s=[],a=Zn(e);if(r==="default")for(let[l,c]of e.views.entries())s=s.concat(ow(c,n,i)),rw(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{let l=e.views.get(r);l&&(s=s.concat(ow(l,n,i)),rw(l)&&(e.views.delete(r),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!Zn(e)&&o.push(new(fk())(t._repo,t._path)),{removed:o,events:s}}function Zw(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Kn(e,t){let n=null;for(let i of e.views.values())n=n||ck(i,t);return n}function Jw(e,t){if(t._queryParams.loadsAllData())return pu(e);{let i=t._queryIdentifier;return e.views.get(i)}}function Xw(e,t){return Jw(e,t)!=null}function Zn(e){return pu(e)!=null}function pu(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var tu;function _k(e){m(!tu,"__referenceConstructor has already been defined"),tu=e}function vk(){return m(tu,"Reference.ts has not been loaded"),tu}var yk=1,nu=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new $e(null),this.pendingWriteTree_=ZP(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function dm(e,t,n,i,r){return BP(e.pendingWriteTree_,t,n,i,r),r?ho(e,new oo(om(),t,n)):[]}function Dk(e,t,n,i){jP(e.pendingWriteTree_,t,n,i);let r=$e.fromObject(n);return ho(e,new ks(om(),t,r))}function zn(e,t,n=!1){let i=HP(e.pendingWriteTree_,t);if($P(e.pendingWriteTree_,t)){let o=new $e(null);return i.snap!=null?o=o.set(Z(),!0):Ne(i.children,s=>{o=o.set(new J(s),!0)}),ho(e,new Dg(i.path,o,n))}else return[]}function Ws(e,t,n){return ho(e,new oo(sm(),t,n))}function bk(e,t,n){let i=$e.fromObject(n);return ho(e,new ks(sm(),t,i))}function wk(e,t){return ho(e,new Kc(sm(),t))}function Ck(e,t,n){let i=hm(e,n);if(i){let r=fm(i),o=r.path,s=r.queryId,a=He(o,t),l=new Kc(am(s),a);return pm(e,o,l)}else return[]}function iu(e,t,n,i,r=!1){let o=t._path,s=e.syncPointTree_.get(o),a=[];if(s&&(t._queryIdentifier==="default"||Xw(s,t))){let l=mk(s,t,n,i);pk(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));let c=l.removed;if(a=l.events,!r){let u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(h,f)=>Zn(f));if(u&&!d){let h=e.syncPointTree_.subtree(o);if(!h.isEmpty()){let f=Ik(h);for(let p=0;p<f.length;++p){let y=f[p],w=y.query,M=iC(e,y);e.listenProvider_.startListening(Ts(w),Ls(e,w),M.hashFn,M.onComplete)}}}!d&&c.length>0&&!i&&(u?e.listenProvider_.stopListening(Ts(t),null):c.forEach(h=>{let f=e.queryToTagMap.get(mu(h));e.listenProvider_.stopListening(Ts(h),f)}))}Tk(e,c)}return a}function eC(e,t,n,i){let r=hm(e,i);if(r!=null){let o=fm(r),s=o.path,a=o.queryId,l=He(s,t),c=new oo(am(a),l,n);return pm(e,s,c)}else return[]}function Ek(e,t,n,i){let r=hm(e,i);if(r){let o=fm(r),s=o.path,a=o.queryId,l=He(s,t),c=$e.fromObject(n),u=new ks(am(a),l,c);return pm(e,s,u)}else return[]}function Ag(e,t,n,i=!1){let r=t._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(r,(h,f)=>{let p=He(h,r);o=o||Kn(f,p),s=s||Zn(f)});let a=e.syncPointTree_.get(r);a?(s=s||Zn(a),o=o||Kn(a,Z())):(a=new eu,e.syncPointTree_=e.syncPointTree_.set(r,a));let l;o!=null?l=!0:(l=!1,o=x.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((f,p)=>{let y=Kn(p,Z());y&&(o=o.updateImmediateChild(f,y))}));let c=Xw(a,t);if(!c&&!t._queryParams.loadsAllData()){let h=mu(t);m(!e.queryToTagMap.has(h),"View does not exist, but we have a tag");let f=Mk();e.queryToTagMap.set(h,f),e.tagToQueryMap.set(f,h)}let u=fu(e.pendingWriteTree_,r),d=gk(a,t,n,u,o,l);if(!c&&!s&&!i){let h=Jw(a,t);d=d.concat(Nk(e,t,h))}return d}function gu(e,t,n){let r=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{let l=He(s,t),c=Kn(a,l);if(c)return c});return Gw(r,t,o,n,!0)}function Sk(e,t){let n=t._path,i=null;e.syncPointTree_.foreachOnPath(n,(c,u)=>{let d=He(c,n);i=i||Kn(u,d)});let r=e.syncPointTree_.get(n);r?i=i||Kn(r,Z()):(r=new eu,e.syncPointTree_=e.syncPointTree_.set(n,r));let o=i!=null,s=o?new Kt(i,!0,!1):null,a=fu(e.pendingWriteTree_,t._path),l=Yw(r,t,a,o?s.getNode():x.EMPTY_NODE,o);return lk(l)}function ho(e,t){return tC(t,e.syncPointTree_,null,fu(e.pendingWriteTree_,Z()))}function tC(e,t,n,i){if(U(e.path))return nC(e,t,n,i);{let r=t.get(Z());n==null&&r!=null&&(n=Kn(r,Z()));let o=[],s=$(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){let c=n?n.getImmediateChild(s):null,u=Ww(i,s);o=o.concat(tC(a,l,c,u))}return r&&(o=o.concat(um(r,e,i,n))),o}}function nC(e,t,n,i){let r=t.get(Z());n==null&&r!=null&&(n=Kn(r,Z()));let o=[];return t.children.inorderTraversal((s,a)=>{let l=n?n.getImmediateChild(s):null,c=Ww(i,s),u=e.operationForChild(s);u&&(o=o.concat(nC(u,a,l,c)))}),r&&(o=o.concat(um(r,e,i,n))),o}function iC(e,t){let n=t.query,i=Ls(e,n);return{hashFn:()=>(ak(t)||x.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?Ck(e,n._path,i):wk(e,n._path);{let o=BO(r,n);return iu(e,n,null,o)}}}}function Ls(e,t){let n=mu(t);return e.queryToTagMap.get(n)}function mu(e){return e._path.toString()+"$"+e._queryIdentifier}function hm(e,t){return e.tagToQueryMap.get(t)}function fm(e){let t=e.indexOf("$");return m(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new J(e.substr(0,t))}}function pm(e,t,n){let i=e.syncPointTree_.get(t);m(i,"Missing sync point for query tag that we're tracking");let r=fu(e.pendingWriteTree_,t);return um(i,n,r,null)}function Ik(e){return e.fold((t,n,i)=>{if(n&&Zn(n))return[pu(n)];{let r=[];return n&&(r=Zw(n)),Ne(i,(o,s)=>{r=r.concat(s)}),r}})}function Ts(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(vk())(e._repo,e._path):e}function Tk(e,t){for(let n=0;n<t.length;++n){let i=t[n];if(!i._queryParams.loadsAllData()){let r=mu(i),o=e.queryToTagMap.get(r);e.queryToTagMap.delete(r),e.tagToQueryMap.delete(o)}}}function Mk(){return yk++}function Nk(e,t,n){let i=t._path,r=Ls(e,t),o=iC(e,n),s=e.listenProvider_.startListening(Ts(t),r,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(i);if(r)m(!Zn(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!U(c)&&u&&Zn(u))return[pu(u).query];{let h=[];return u&&(h=h.concat(Zw(u).map(f=>f.query))),Ne(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){let u=l[c];e.listenProvider_.stopListening(Ts(u),Ls(e,u))}}return s}var Rg=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},xg=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=ae(this.path_,t);return new e(this.syncTree_,n)}node(){return gu(this.syncTree_,this.path_)}},Ak=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},aw=function(e,t,n){if(!e||typeof e!="object")return e;if(m(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return Rk(e[".sv"],t,n);if(typeof e[".sv"]=="object")return xk(e[".sv"],t);m(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},Rk=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:m(!1,"Unexpected server value: "+e)}},xk=function(e,t,n){e.hasOwnProperty("increment")||m(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let i=e.increment;typeof i!="number"&&m(!1,"Unexpected increment value: "+i);let r=t.node();if(m(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;let s=r.getValue();return typeof s!="number"?i:s+i},rC=function(e,t,n,i){return mm(t,new xg(n,e),i)},gm=function(e,t,n){return mm(e,new Rg(t),n)};function mm(e,t,n){let i=e.getPriority().val(),r=aw(i,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){let s=e,a=aw(s.getValue(),t,n);return a!==s.getValue()||r!==s.getPriority().val()?new no(a,de(r)):e}else{let s=e;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new no(r))),s.forEachChild(oe,(a,l)=>{let c=mm(l,t.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}var Vs=class{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}};function _u(e,t){let n=t instanceof J?t:new J(t),i=e,r=$(n);for(;r!==null;){let o=En(i.node.children,r)||{children:{},childCount:0};i=new Vs(r,i,o),n=ie(n),r=$(n)}return i}function Vi(e){return e.node.value}function _m(e,t){e.node.value=t,Og(e)}function oC(e){return e.node.childCount>0}function Ok(e){return Vi(e)===void 0&&!oC(e)}function vu(e,t){Ne(e.node.children,(n,i)=>{t(new Vs(n,e,i))})}function sC(e,t,n,i){n&&!i&&t(e),vu(e,r=>{sC(r,t,!0,i)}),n&&i&&t(e)}function Pk(e,t,n){let i=n?e:e.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function zs(e){return new J(e.parent===null?e.name:zs(e.parent)+"/"+e.name)}function Og(e){e.parent!==null&&kk(e.parent,e.name,e)}function kk(e,t,n){let i=Ok(n),r=at(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,Og(e)):!i&&!r&&(e.node.children[t]=n.node,e.node.childCount++,Og(e))}var Fk=/[\[\].#$\/\u0000-\u001F\u007F]/,Lk=/[\[\].#$\u0000-\u001F\u007F]/,Gp=10*1024*1024,yu=function(e){return typeof e=="string"&&e.length!==0&&!Fk.test(e)},aC=function(e){return typeof e=="string"&&e.length!==0&&!Lk.test(e)},Vk=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),aC(e)},Bs=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!uu(e)||e&&typeof e=="object"&&at(e,".sv")},Qt=function(e,t,n,i){i&&t===void 0||qs(We(e,"value"),t,n)},qs=function(e,t,n){let i=n instanceof J?new ig(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+xi(i));if(typeof t=="function")throw new Error(e+"contains a function "+xi(i)+" with contents = "+t.toString());if(uu(t))throw new Error(e+"contains "+t.toString()+" "+xi(i));if(typeof t=="string"&&t.length>Gp/3&&Do(t)>Gp)throw new Error(e+"contains a string greater than "+Gp+" utf8 bytes "+xi(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let r=!1,o=!1;if(Ne(t,(s,a)=>{if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!yu(s)))throw new Error(e+" contains an invalid key ("+s+") "+xi(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);pP(i,s),qs(e,a,i),gP(i)}),r&&o)throw new Error(e+' contains ".value" child '+xi(i)+" in addition to actual children.")}},Bk=function(e,t){let n,i;for(n=0;n<t.length;n++){i=t[n];let o=Ns(i);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!yu(o[s]))throw new Error(e+"contains an invalid key ("+o[s]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(fP);let r=null;for(n=0;n<t.length;n++){if(i=t[n],r!==null&&vt(r,i))throw new Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},lC=function(e,t,n,i){if(i&&t===void 0)return;let r=We(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");let o=[];Ne(t,(s,a)=>{let l=new J(s);if(qs(r,a,ae(n,l)),em(l)===".priority"&&!Bs(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),Bk(r,o)},vm=function(e,t,n){if(!(n&&t===void 0)){if(uu(t))throw new Error(We(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Bs(t))throw new Error(We(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ks=function(e,t,n,i){if(!(i&&n===void 0)&&!yu(n))throw new Error(We(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},fo=function(e,t,n,i){if(!(i&&n===void 0)&&!aC(n))throw new Error(We(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},jk=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),fo(e,t,n,i)},it=function(e,t){if($(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},cC=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!yu(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Vk(n))throw new Error(We(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Pg=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Du(e,t){let n=null;for(let i=0;i<t.length;i++){let r=t[i],o=r.getPath();n!==null&&!tm(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(r)}n&&e.eventLists_.push(n)}function uC(e,t,n){Du(e,n),dC(e,i=>tm(i,t))}function rt(e,t,n){Du(e,n),dC(e,i=>vt(i,t)||vt(t,i))}function dC(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){let r=e.eventLists_[i];if(r){let o=r.path;t(o)?(Hk(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Hk(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let i=n.getEventRunner();Pi&&Me("event: "+n.toString()),co(i)}}}var hC="repo_interrupt",$k=25,kg=class{constructor(t,n,i,r){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Pg,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=qc(),this.transactionQueueTree_=new Vs,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function Uk(e,t,n){if(e.stats_=Xg(e.repoInfo_),e.forceRestClient_||UO())e.server_=new pg(e.repoInfo_,(i,r,o,s)=>{lw(e,i,r,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>cw(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{_e(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new nm(e.repoInfo_,t,(i,r,o,s)=>{lw(e,i,r,o,s)},i=>{cw(e,i)},i=>{Gk(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=WO(e.repoInfo_,()=>new yg(e.stats_,e.server_)),e.infoData_=new gg,e.infoSyncTree_=new nu({startListening:(i,r,o,s)=>{let a=[],l=e.infoData_.getNode(i._path);return l.isEmpty()||(a=Ws(e.infoSyncTree_,i._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),ym(e,"connected",!1),e.serverSyncTree_=new nu({startListening:(i,r,o,s)=>(e.server_.listen(i,o,r,(a,l)=>{let c=s(a,l);rt(e.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{e.server_.unlisten(i,r)}})}function fC(e){let n=e.infoData_.getNode(new J(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Qs(e){return Ak({timestamp:fC(e)})}function lw(e,t,n,i,r){e.dataUpdateCount++;let o=new J(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(r)if(i){let l=yo(n,c=>de(c));s=Ek(e.serverSyncTree_,o,l,r)}else{let l=de(n);s=eC(e.serverSyncTree_,o,l,r)}else if(i){let l=yo(n,c=>de(c));s=bk(e.serverSyncTree_,o,l)}else{let l=de(n);s=Ws(e.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=ao(e,o)),rt(e.eventQueue_,a,s)}function cw(e,t){ym(e,"connected",t),t===!1&&qk(e)}function Gk(e,t){Ne(t,(n,i)=>{ym(e,n,i)})}function ym(e,t,n){let i=new J("/.info/"+t),r=de(n);e.infoData_.updateSnapshot(i,r);let o=Ws(e.infoSyncTree_,i,r);rt(e.eventQueue_,i,o)}function bu(e){return e.nextWriteId_++}function Wk(e,t,n){let i=Sk(e.serverSyncTree_,t);return i!=null?Promise.resolve(i):e.server_.get(t).then(r=>{let o=de(r).withIndex(t._queryParams.getIndex());Ag(e.serverSyncTree_,t,n,!0);let s;if(t._queryParams.loadsAllData())s=Ws(e.serverSyncTree_,t._path,o);else{let a=Ls(e.serverSyncTree_,t);s=eC(e.serverSyncTree_,t._path,o,a)}return rt(e.eventQueue_,t._path,s),iu(e.serverSyncTree_,t,n,null,!0),o},r=>(po(e,"get for query "+_e(t)+" failed: "+r),Promise.reject(new Error(r))))}function Dm(e,t,n,i,r){po(e,"set",{path:t.toString(),value:n,priority:i});let o=Qs(e),s=de(n,i),a=gu(e.serverSyncTree_,t),l=gm(s,a,o),c=bu(e),u=dm(e.serverSyncTree_,t,l,c,!0);Du(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(h,f)=>{let p=h==="ok";p||ke("set at "+t+" failed: "+h);let y=zn(e.serverSyncTree_,c,!p);rt(e.eventQueue_,t,y),Jn(e,r,h,f)});let d=wm(e,t);ao(e,d),rt(e.eventQueue_,d,[])}function zk(e,t,n,i){po(e,"update",{path:t.toString(),value:n});let r=!0,o=Qs(e),s={};if(Ne(n,(a,l)=>{r=!1,s[a]=rC(ae(t,a),de(l),e.serverSyncTree_,o)}),r)Me("update() called with empty data.  Don't do anything."),Jn(e,i,"ok",void 0);else{let a=bu(e),l=Dk(e.serverSyncTree_,t,s,a);Du(e.eventQueue_,l),e.server_.merge(t.toString(),n,(c,u)=>{let d=c==="ok";d||ke("update at "+t+" failed: "+c);let h=zn(e.serverSyncTree_,a,!d),f=h.length>0?ao(e,t):t;rt(e.eventQueue_,f,h),Jn(e,i,c,u)}),Ne(n,c=>{let u=wm(e,ae(t,c));ao(e,u)}),rt(e.eventQueue_,t,[])}}function qk(e){po(e,"onDisconnectEvents");let t=Qs(e),n=qc();_g(e.onDisconnect_,Z(),(r,o)=>{let s=rC(r,o,e.serverSyncTree_,t);uo(n,r,s)});let i=[];_g(n,Z(),(r,o)=>{i=i.concat(Ws(e.serverSyncTree_,r,o));let s=wm(e,r);ao(e,s)}),e.onDisconnect_=qc(),rt(e.eventQueue_,Z(),i)}function Kk(e,t,n){e.server_.onDisconnectCancel(t.toString(),(i,r)=>{i==="ok"&&mg(e.onDisconnect_,t),Jn(e,n,i,r)})}function uw(e,t,n,i){let r=de(n);e.server_.onDisconnectPut(t.toString(),r.val(!0),(o,s)=>{o==="ok"&&uo(e.onDisconnect_,t,r),Jn(e,i,o,s)})}function Qk(e,t,n,i,r){let o=de(n,i);e.server_.onDisconnectPut(t.toString(),o.val(!0),(s,a)=>{s==="ok"&&uo(e.onDisconnect_,t,o),Jn(e,r,s,a)})}function Yk(e,t,n,i){if(sa(n)){Me("onDisconnect().update() called with empty data.  Don't do anything."),Jn(e,i,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,(r,o)=>{r==="ok"&&Ne(n,(s,a)=>{let l=de(a);uo(e.onDisconnect_,ae(t,s),l)}),Jn(e,i,r,o)})}function Zk(e,t,n){let i;$(t._path)===".info"?i=Ag(e.infoSyncTree_,t,n):i=Ag(e.serverSyncTree_,t,n),uC(e.eventQueue_,t._path,i)}function Fg(e,t,n){let i;$(t._path)===".info"?i=iu(e.infoSyncTree_,t,n):i=iu(e.serverSyncTree_,t,n),uC(e.eventQueue_,t._path,i)}function pC(e){e.persistentConnection_&&e.persistentConnection_.interrupt(hC)}function Jk(e){e.persistentConnection_&&e.persistentConnection_.resume(hC)}function po(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Me(n,...t)}function Jn(e,t,n,i){t&&co(()=>{if(n==="ok")t(null);else{let r=(n||"error").toUpperCase(),o=r;i&&(o+=": "+i);let s=new Error(o);s.code=r,t(s)}})}function Xk(e,t,n,i,r,o){po(e,"transaction on "+t);let s={path:t,update:n,onComplete:i,status:null,order:fw(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=bm(e,t,void 0);s.currentInputSnapshot=a;let l=s.update(a.val());if(l===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{qs("transaction failed: Data returned ",l,s.path),s.status=0;let c=_u(e.transactionQueueTree_,t),u=Vi(c)||[];u.push(s),_m(c,u);let d;typeof l=="object"&&l!==null&&at(l,".priority")?(d=En(l,".priority"),m(Bs(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(gu(e.serverSyncTree_,t)||x.EMPTY_NODE).getPriority().val();let h=Qs(e),f=de(l,d),p=gm(f,a,h);s.currentOutputSnapshotRaw=f,s.currentOutputSnapshotResolved=p,s.currentWriteId=bu(e);let y=dm(e.serverSyncTree_,t,p,s.currentWriteId,s.applyLocally);rt(e.eventQueue_,t,y),wu(e,e.transactionQueueTree_)}}function bm(e,t,n){return gu(e.serverSyncTree_,t,n)||x.EMPTY_NODE}function wu(e,t=e.transactionQueueTree_){if(t||Cu(e,t),Vi(t)){let n=mC(e,t);m(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&eF(e,zs(t),n)}else oC(t)&&vu(t,n=>{wu(e,n)})}function eF(e,t,n){let i=n.map(c=>c.currentWriteId),r=bm(e,t,i),o=r,s=r.hash();for(let c=0;c<n.length;c++){let u=n[c];m(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=He(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),l=t;e.server_.put(l.toString(),a,c=>{po(e,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(zn(e.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Cu(e,_u(e.transactionQueueTree_,t)),wu(e,e.transactionQueueTree_),rt(e.eventQueue_,t,u);for(let h=0;h<d.length;h++)co(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{ke("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}ao(e,t)}},s)}function ao(e,t){let n=gC(e,t),i=zs(n),r=mC(e,n);return tF(e,r,i),i}function tF(e,t,n){if(t.length===0)return;let i=[],r=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let l=t[a],c=He(n,l.path),u=!1,d;if(m(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,r=r.concat(zn(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=$k)u=!0,d="maxretry",r=r.concat(zn(e.serverSyncTree_,l.currentWriteId,!0));else{let h=bm(e,l.path,s);l.currentInputSnapshot=h;let f=t[a].update(h.val());if(f!==void 0){qs("transaction failed: Data returned ",f,l.path);let p=de(f);typeof f=="object"&&f!=null&&at(f,".priority")||(p=p.updatePriority(h.getPriority()));let w=l.currentWriteId,M=Qs(e),q=gm(p,h,M);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=q,l.currentWriteId=bu(e),s.splice(s.indexOf(w),1),r=r.concat(dm(e.serverSyncTree_,l.path,q,l.currentWriteId,l.applyLocally)),r=r.concat(zn(e.serverSyncTree_,w,!0))}else u=!0,d="nodata",r=r.concat(zn(e.serverSyncTree_,l.currentWriteId,!0))}rt(e.eventQueue_,n,r),r=[],u&&(t[a].status=2,function(h){setTimeout(h,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?i.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):i.push(()=>t[a].onComplete(new Error(d),!1,null))))}Cu(e,e.transactionQueueTree_);for(let a=0;a<i.length;a++)co(i[a]);wu(e,e.transactionQueueTree_)}function gC(e,t){let n,i=e.transactionQueueTree_;for(n=$(t);n!==null&&Vi(i)===void 0;)i=_u(i,n),t=ie(t),n=$(t);return i}function mC(e,t){let n=[];return _C(e,t,n),n.sort((i,r)=>i.order-r.order),n}function _C(e,t,n){let i=Vi(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);vu(t,r=>{_C(e,r,n)})}function Cu(e,t){let n=Vi(t);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,_m(t,n.length>0?n:void 0)}vu(t,i=>{Cu(e,i)})}function wm(e,t){let n=zs(gC(e,t)),i=_u(e.transactionQueueTree_,t);return Pk(i,r=>{Wp(e,r)}),Wp(e,i),sC(i,r=>{Wp(e,r)}),n}function Wp(e,t){let n=Vi(t);if(n){let i=[],r=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(m(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(m(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),r=r.concat(zn(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&i.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?_m(t,void 0):n.length=o+1,rt(e.eventQueue_,zs(t),r);for(let s=0;s<i.length;s++)co(i[s])}}function nF(e){let t="",n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}function iF(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ke(`Invalid query segment '${n}' in query '${e}'`)}return t}var Lg=function(e,t){let n=rF(e),i=n.namespace;n.domain==="firebase.com"&&qt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&qt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||PO();let r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Bc(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new J(n.pathString)}},rF=function(e){let t="",n="",i="",r="",o="",s=!0,a="https",l=443;if(typeof e=="string"){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(r=nF(e.substring(u,d)));let h=iF(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(t.substring(c+1),10)):c=t.length;let f=t.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{let p=t.indexOf(".");i=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=i}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};var dw="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",oF=function(){let e=0,t=[];return function(n){let i=n===e;e=n;let r,o=new Array(8);for(r=7;r>=0;r--)o[r]=dw.charAt(n%64),n=Math.floor(n/64);m(n===0,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&t[r]===63;r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)s+=dw.charAt(t[r]);return m(s.length===20,"nextPushId: Length should be 20."),s}}();var ru=class{constructor(t,n,i,r){this.eventType=t,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+_e(this.snapshot.exportVal())}},ou=class{constructor(t,n,i){this.eventRegistration=t,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var js=class{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return m(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var su=class{constructor(t,n){this._repo=t,this._path=n}cancel(){let t=new Ee;return Kk(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){it("OnDisconnect.remove",this._path);let t=new Ee;return uw(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){it("OnDisconnect.set",this._path),Qt("OnDisconnect.set",t,this._path,!1);let n=new Ee;return uw(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}setWithPriority(t,n){it("OnDisconnect.setWithPriority",this._path),Qt("OnDisconnect.setWithPriority",t,this._path,!1),vm("OnDisconnect.setWithPriority",n,!1);let i=new Ee;return Qk(this._repo,this._path,t,n,i.wrapCallback(()=>{})),i.promise}update(t){it("OnDisconnect.update",this._path),lC("OnDisconnect.update",t,this._path,!1);let n=new Ee;return Yk(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}};var Ue=class e{constructor(t,n,i,r){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return U(this._path)?null:em(this._path)}get ref(){return new ot(this._repo,this._path)}get _queryIdentifier(){let t=Zb(this._queryParams),n=Jg(t);return n==="{}"?"default":n}get _queryObject(){return Zb(this._queryParams)}isEqual(t){if(t=Fe(t),!(t instanceof e))return!1;let n=this._repo===t._repo,i=tm(this._path,t._path),r=this._queryIdentifier===t._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+hP(this._path)}};function Eu(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function ei(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===zt){let i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Qn)throw new Error(i);if(typeof t!="string")throw new Error(r)}if(e.hasEnd()){if(e.getIndexEndName()!==wn)throw new Error(i);if(typeof n!="string")throw new Error(r)}}else if(e.getIndex()===oe){if(t!=null&&!Bs(t)||n!=null&&!Bs(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(m(e.getIndex()instanceof As||e.getIndex()===rm,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Su(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var ot=class e extends Ue{constructor(t,n){super(t,n,new Ps,!1)}get parent(){let t=Pw(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},lo=class e{constructor(t,n,i){this._node=t,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new J(t),i=Xn(this.ref,t);return new e(this._node.getChild(n),i,oe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>t(new e(r,Xn(this.ref,i),oe)))}hasChild(t){let n=new J(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function Cm(e,t){return e=Fe(e),e._checkNotDeleted("ref"),t!==void 0?Xn(e._root,t):e._root}function Em(e,t){e=Fe(e),e._checkNotDeleted("refFromURL");let n=Lg(t,e._repo.repoInfo_.nodeAdmin);cC("refFromURL",n);let i=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&i.host!==e._repo.repoInfo_.host&&qt("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+e._repo.repoInfo_.host+")"),Cm(e,n.path.toString())}function Xn(e,t){return e=Fe(e),$(e._path)===null?jk("child","path",t,!1):fo("child","path",t,!1),new ot(e._repo,ae(e._path,t))}function vC(e,t){e=Fe(e),it("push",e._path),Qt("push",t,e._path,!0);let n=fC(e._repo),i=oF(n),r=Xn(e,i),o=Xn(e,i),s;return t!=null?s=Iu(o,t).then(()=>o):s=Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}function yC(e){return it("remove",e._path),Iu(e,null)}function Iu(e,t){e=Fe(e),it("set",e._path),Qt("set",t,e._path,!1);let n=new Ee;return Dm(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function DC(e,t){e=Fe(e),it("setPriority",e._path),vm("setPriority",t,!1);let n=new Ee;return Dm(e._repo,ae(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}function bC(e,t,n){if(it("setWithPriority",e._path),Qt("setWithPriority",t,e._path,!1),vm("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";let i=new Ee;return Dm(e._repo,e._path,t,n,i.wrapCallback(()=>{})),i.promise}function wC(e,t){lC("update",t,e._path,!1);let n=new Ee;return zk(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function CC(e){e=Fe(e);let t=new js(()=>{}),n=new Hs(t);return Wk(e._repo,e,n).then(i=>new lo(i,new ot(e._repo,e._path),e._queryParams.getIndex()))}var Hs=class e{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){let i=n._queryParams.getIndex();return new ru("value",this,new lo(t.snapshotNode,new ot(n._repo,n._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new ou(this,t,n):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},au=class e{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new ou(this,t,n):null}createEvent(t,n){m(t.childName!=null,"Child events should have a childName.");let i=Xn(new ot(n._repo,n._path),t.childName),r=n._queryParams.getIndex();return new ru(t.type,this,new lo(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function Ys(e,t,n,i,r){let o;if(typeof i=="object"&&(o=void 0,r=i),typeof i=="function"&&(o=i),r&&r.onlyOnce){let l=n,c=(u,d)=>{Fg(e._repo,e,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}let s=new js(n,o||void 0),a=t==="value"?new Hs(s):new au(t,s);return Zk(e._repo,e,a),()=>Fg(e._repo,e,a)}function Tu(e,t,n,i){return Ys(e,"value",t,n,i)}function Sm(e,t,n,i){return Ys(e,"child_added",t,n,i)}function Im(e,t,n,i){return Ys(e,"child_changed",t,n,i)}function Tm(e,t,n,i){return Ys(e,"child_moved",t,n,i)}function Mm(e,t,n,i){return Ys(e,"child_removed",t,n,i)}function Nm(e,t,n){let i=null,r=n?new js(n):null;t==="value"?i=new Hs(r):t&&(i=new au(t,r)),Fg(e._repo,e,i)}var st=class{},lu=class extends st{constructor(t,n){super(),this._value=t,this._key=n,this.type="endAt"}_apply(t){Qt("endAt",this._value,t._path,!0);let n=fg(t._queryParams,this._value,this._key);if(Su(n),ei(n),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ue(t._repo,t._path,n,t._orderByCalled)}};function EC(e,t){return Ks("endAt","key",t,!0),new lu(e,t)}var Vg=class extends st{constructor(t,n){super(),this._value=t,this._key=n,this.type="endBefore"}_apply(t){Qt("endBefore",this._value,t._path,!1);let n=RP(t._queryParams,this._value,this._key);if(Su(n),ei(n),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ue(t._repo,t._path,n,t._orderByCalled)}};function SC(e,t){return Ks("endBefore","key",t,!0),new Vg(e,t)}var cu=class extends st{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAt"}_apply(t){Qt("startAt",this._value,t._path,!0);let n=hg(t._queryParams,this._value,this._key);if(Su(n),ei(n),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ue(t._repo,t._path,n,t._orderByCalled)}};function IC(e=null,t){return Ks("startAt","key",t,!0),new cu(e,t)}var Bg=class extends st{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAfter"}_apply(t){Qt("startAfter",this._value,t._path,!1);let n=AP(t._queryParams,this._value,this._key);if(Su(n),ei(n),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ue(t._repo,t._path,n,t._orderByCalled)}};function TC(e,t){return Ks("startAfter","key",t,!0),new Bg(e,t)}var jg=class extends st{constructor(t){super(),this._limit=t,this.type="limitToFirst"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ue(t._repo,t._path,MP(t._queryParams,this._limit),t._orderByCalled)}};function MC(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new jg(e)}var Hg=class extends st{constructor(t){super(),this._limit=t,this.type="limitToLast"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ue(t._repo,t._path,NP(t._queryParams,this._limit),t._orderByCalled)}};function NC(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Hg(e)}var $g=class extends st{constructor(t){super(),this._path=t,this.type="orderByChild"}_apply(t){Eu(t,"orderByChild");let n=new J(this._path);if(U(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let i=new As(n),r=du(t._queryParams,i);return ei(r),new Ue(t._repo,t._path,r,!0)}};function AC(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return fo("orderByChild","path",e,!1),new $g(e)}var Ug=class extends st{constructor(){super(...arguments),this.type="orderByKey"}_apply(t){Eu(t,"orderByKey");let n=du(t._queryParams,zt);return ei(n),new Ue(t._repo,t._path,n,!0)}};function RC(){return new Ug}var Gg=class extends st{constructor(){super(...arguments),this.type="orderByPriority"}_apply(t){Eu(t,"orderByPriority");let n=du(t._queryParams,oe);return ei(n),new Ue(t._repo,t._path,n,!0)}};function xC(){return new Gg}var Wg=class extends st{constructor(){super(...arguments),this.type="orderByValue"}_apply(t){Eu(t,"orderByValue");let n=du(t._queryParams,rm);return ei(n),new Ue(t._repo,t._path,n,!0)}};function OC(){return new Wg}var zg=class extends st{constructor(t,n){super(),this._value=t,this._key=n,this.type="equalTo"}_apply(t){if(Qt("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new lu(this._value,this._key)._apply(new cu(this._value,this._key)._apply(t))}};function PC(e,t){return Ks("equalTo","key",t,!0),new zg(e,t)}function Dt(e,...t){let n=Fe(e);for(let i of t)n=i._apply(n);return n}hk(ot);_k(ot);var sF="FIREBASE_DATABASE_EMULATOR_HOST",qg={},aF=!1;function lF(e,t,n,i){e.repoInfo_=new Bc(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),i&&(e.authTokenProvider_=i)}function Am(e,t,n,i,r){let o=i||e.options.databaseURL;o===void 0&&(e.options.projectId||qt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Me("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=Lg(o,r),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[sF]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=Lg(o,r),a=s.repoInfo):l=!s.repoInfo.secure;let u=r&&l?new Es(Es.OWNER):new Zp(e.name,e.options,t);cC("Invalid Firebase Database URL",s),U(s.path)||qt("Database URL must point to the root of a Firebase Database (not including a child path).");let d=uF(a,e,u,new Yp(e.name,n));return new Kg(d,e)}function cF(e,t){let n=qg[t];(!n||n[e.key]!==e)&&qt(`Database ${t}(${e.repoInfo_}) has already been deleted.`),pC(e),delete n[e.key]}function uF(e,t,n,i){let r=qg[t.name];r||(r={},qg[t.name]=r);let o=r[e.toURLString()];return o&&qt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new kg(e,aF,n,i),r[e.toURLString()]=o,o}var Kg=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Uk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ot(this._repo,Z())),this._rootInternal}_delete(){return this._rootInternal!==null&&(cF(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&qt("Cannot call "+t+" on a deleted database.")}};function kC(){Ow.IS_TRANSPORT_INITIALIZED&&ke("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function FC(){kC(),Ms.forceDisallow()}function LC(){kC(),Jr.forceDisallow(),Ms.forceAllow()}function VC(e,t,n,i={}){e=Fe(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&qt("Cannot call useEmulator() after instance has already been initialized.");let r=e._repoInternal,o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&qt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Es(Es.OWNER);else if(i.mockUserToken){let s=typeof i.mockUserToken=="string"?i.mockUserToken:Qm(i.mockUserToken,e.app.options.projectId);o=new Es(s)}lF(r,t,n,o)}function BC(e){e=Fe(e),e._checkNotDeleted("goOffline"),pC(e._repo)}function jC(e){e=Fe(e),e._checkNotDeleted("goOnline"),Jk(e._repo)}function HC(e,t){gw(e,t)}function dF(e){Zg(o_),bo(new Yt("database",(t,{instanceIdentifier:n})=>{let i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return Am(i,r,o,n)},"PUBLIC").setMultipleInstances(!0)),Sn(Pb,kb,e),Sn(Pb,kb,"esm2017")}var hF={".sv":"timestamp"};function $C(){return hF}function UC(e){return{".sv":{increment:e}}}var Qg=class{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function GC(e,t,n){var i;if(e=Fe(e),it("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";let r=(i=n?.applyLocally)!==null&&i!==void 0?i:!0,o=new Ee,s=(l,c,u)=>{let d=null;l?o.reject(l):(d=new lo(u,new ot(e._repo,e._path),oe),o.resolve(new Qg(c,d)))},a=Tu(e,()=>{});return Xk(e._repo,e._path,t,s,a,r),o.promise}nm.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};nm.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};dF();var fF="@firebase/database-compat",pF="1.0.8";var gF=new Gi("@firebase/database-compat"),WC=function(e){let t="FIREBASE WARNING: "+e;gF.warn(t)};var mF=function(e,t,n,i){if(!(i&&n===void 0)&&typeof n!="boolean")throw new Error(We(e,t)+"must be a boolean.")},_F=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(We(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var Rm=class{constructor(t){this._delegate=t}cancel(t){T("OnDisconnect.cancel",0,1,arguments.length),ye("OnDisconnect.cancel","onComplete",t,!0);let n=this._delegate.cancel();return t&&n.then(()=>t(null),i=>t(i)),n}remove(t){T("OnDisconnect.remove",0,1,arguments.length),ye("OnDisconnect.remove","onComplete",t,!0);let n=this._delegate.remove();return t&&n.then(()=>t(null),i=>t(i)),n}set(t,n){T("OnDisconnect.set",1,2,arguments.length),ye("OnDisconnect.set","onComplete",n,!0);let i=this._delegate.set(t);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(t,n,i){T("OnDisconnect.setWithPriority",2,3,arguments.length),ye("OnDisconnect.setWithPriority","onComplete",i,!0);let r=this._delegate.setWithPriority(t,n);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,n){if(T("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){let r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,WC("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ye("OnDisconnect.update","onComplete",n,!0);let i=this._delegate.update(t);return n&&i.then(()=>n(null),r=>n(r)),i}};var xm=class{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return T("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var Bi=class e{constructor(t,n){this._database=t,this._delegate=n}val(){return T("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return T("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return T("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return T("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return T("DataSnapshot.child",0,1,arguments.length),t=String(t),fo("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}hasChild(t){return T("DataSnapshot.hasChild",1,1,arguments.length),fo("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return T("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return T("DataSnapshot.forEach",1,1,arguments.length),ye("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(n=>t(new e(this._database,n)))}hasChildren(){return T("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return T("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return T("DataSnapshot.ref",0,0,arguments.length),new Cn(this._database,this._delegate.ref)}get ref(){return this.getRef()}},Mu=class e{constructor(t,n){this.database=t,this._delegate=n}on(t,n,i,r){var o;T("Query.on",2,4,arguments.length),ye("Query.on","callback",n,!1);let s=e.getCancelAndContextArgs_("Query.on",i,r),a=(c,u)=>{n.call(s.context,new Bi(this.database,c),u)};a.userCallback=n,a.context=s.context;let l=(o=s.cancel)===null||o===void 0?void 0:o.bind(s.context);switch(t){case"value":return Tu(this._delegate,a,l),n;case"child_added":return Sm(this._delegate,a,l),n;case"child_removed":return Mm(this._delegate,a,l),n;case"child_changed":return Im(this._delegate,a,l),n;case"child_moved":return Tm(this._delegate,a,l),n;default:throw new Error(We("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,n,i){if(T("Query.off",0,3,arguments.length),_F("Query.off",t,!0),ye("Query.off","callback",n,!0),Wu("Query.off","context",i,!0),n){let r=()=>{};r.userCallback=n,r.context=i,Nm(this._delegate,t,r)}else Nm(this._delegate,t)}get(){return CC(this._delegate).then(t=>new Bi(this.database,t))}once(t,n,i,r){T("Query.once",1,4,arguments.length),ye("Query.once","callback",n,!0);let o=e.getCancelAndContextArgs_("Query.once",i,r),s=new Ee,a=(c,u)=>{let d=new Bi(this.database,c);n&&n.call(o.context,d,u),s.resolve(d)};a.userCallback=n,a.context=o.context;let l=c=>{o.cancel&&o.cancel.call(o.context,c),s.reject(c)};switch(t){case"value":Tu(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":Sm(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":Mm(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":Im(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":Tm(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(We("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(t){return T("Query.limitToFirst",1,1,arguments.length),new e(this.database,Dt(this._delegate,MC(t)))}limitToLast(t){return T("Query.limitToLast",1,1,arguments.length),new e(this.database,Dt(this._delegate,NC(t)))}orderByChild(t){return T("Query.orderByChild",1,1,arguments.length),new e(this.database,Dt(this._delegate,AC(t)))}orderByKey(){return T("Query.orderByKey",0,0,arguments.length),new e(this.database,Dt(this._delegate,RC()))}orderByPriority(){return T("Query.orderByPriority",0,0,arguments.length),new e(this.database,Dt(this._delegate,xC()))}orderByValue(){return T("Query.orderByValue",0,0,arguments.length),new e(this.database,Dt(this._delegate,OC()))}startAt(t=null,n){return T("Query.startAt",0,2,arguments.length),new e(this.database,Dt(this._delegate,IC(t,n)))}startAfter(t=null,n){return T("Query.startAfter",0,2,arguments.length),new e(this.database,Dt(this._delegate,TC(t,n)))}endAt(t=null,n){return T("Query.endAt",0,2,arguments.length),new e(this.database,Dt(this._delegate,EC(t,n)))}endBefore(t=null,n){return T("Query.endBefore",0,2,arguments.length),new e(this.database,Dt(this._delegate,SC(t,n)))}equalTo(t,n){return T("Query.equalTo",1,2,arguments.length),new e(this.database,Dt(this._delegate,PC(t,n)))}toString(){return T("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return T("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if(T("Query.isEqual",1,1,arguments.length),!(t instanceof e)){let n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,n,i){let r={cancel:void 0,context:void 0};if(n&&i)r.cancel=n,ye(t,"cancel",r.cancel,!0),r.context=i,Wu(t,"context",r.context,!0);else if(n)if(typeof n=="object"&&n!==null)r.context=n;else if(typeof n=="function")r.cancel=n;else throw new Error(We(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return r}get ref(){return new Cn(this.database,new ot(this._delegate._repo,this._delegate._path))}},Cn=class e extends Mu{constructor(t,n){super(t,new Ue(n._repo,n._path,new Ps,!1)),this.database=t,this._delegate=n}getKey(){return T("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return T("Reference.child",1,1,arguments.length),typeof t=="number"&&(t=String(t)),new e(this.database,Xn(this._delegate,t))}getParent(){T("Reference.parent",0,0,arguments.length);let t=this._delegate.parent;return t?new e(this.database,t):null}getRoot(){return T("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)}set(t,n){T("Reference.set",1,2,arguments.length),ye("Reference.set","onComplete",n,!0);let i=Iu(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}update(t,n){if(T("Reference.update",1,2,arguments.length),Array.isArray(t)){let r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,WC("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}it("Reference.update",this._delegate._path),ye("Reference.update","onComplete",n,!0);let i=wC(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(t,n,i){T("Reference.setWithPriority",2,3,arguments.length),ye("Reference.setWithPriority","onComplete",i,!0);let r=bC(this._delegate,t,n);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){T("Reference.remove",0,1,arguments.length),ye("Reference.remove","onComplete",t,!0);let n=yC(this._delegate);return t&&n.then(()=>t(null),i=>t(i)),n}transaction(t,n,i){T("Reference.transaction",1,3,arguments.length),ye("Reference.transaction","transactionUpdate",t,!1),ye("Reference.transaction","onComplete",n,!0),mF("Reference.transaction","applyLocally",i,!0);let r=GC(this._delegate,t,{applyLocally:i}).then(o=>new xm(o.committed,new Bi(this.database,o.snapshot)));return n&&r.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),r}setPriority(t,n){T("Reference.setPriority",1,2,arguments.length),ye("Reference.setPriority","onComplete",n,!0);let i=DC(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}push(t,n){T("Reference.push",0,2,arguments.length),ye("Reference.push","onComplete",n,!0);let i=vC(this._delegate,t),r=i.then(s=>new e(this.database,s));n&&r.then(()=>n(null),s=>n(s));let o=new e(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return it("Reference.onDisconnect",this._delegate._path),new Rm(new su(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var ji=class{constructor(t,n){this._delegate=t,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:FC,forceLongPolling:LC}}useEmulator(t,n,i={}){VC(this._delegate,t,n,i)}ref(t){if(T("database.ref",0,1,arguments.length),t instanceof Cn){let n=Em(this._delegate,t.toString());return new Cn(this,n)}else{let n=Cm(this._delegate,t);return new Cn(this,n)}}refFromURL(t){T("database.refFromURL",1,1,arguments.length);let i=Em(this._delegate,t);return new Cn(this,i)}goOffline(){return T("database.goOffline",0,0,arguments.length),BC(this._delegate)}goOnline(){return T("database.goOnline",0,0,arguments.length),jC(this._delegate)}};ji.ServerValue={TIMESTAMP:$C(),increment:e=>UC(e)};function vF({app:e,url:t,version:n,customAuthImpl:i,customAppCheckImpl:r,namespace:o,nodeAdmin:s=!1}){Zg(n);let a=new zu("database-standalone"),l=new aa("auth-internal",a);l.setComponent(new Yt("auth-internal",()=>i,"PRIVATE"));let c;return r&&(c=new aa("app-check-internal",a),c.setComponent(new Yt("app-check-internal",()=>r,"PRIVATE"))),{instance:new ji(Am(e,l,c,t,s),e),namespace:o}}var yF=Object.freeze({__proto__:null,initStandalone:vF});var DF=ji.ServerValue;function bF(e){e.INTERNAL.registerComponent(new Yt("database-compat",(t,{instanceIdentifier:n})=>{let i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:n});return new ji(r,i)},"PUBLIC").setServiceProps({Reference:Cn,Query:Mu,Database:ji,DataSnapshot:Bi,enableLogging:HC,INTERNAL:yF,ServerValue:DF}).setMultipleInstances(!0)),e.registerVersion(fF,pF)}bF(ze);function Zs(e,t,n="on",i=er){return new N(r=>{let o=null;return o=e[n](t,(s,a)=>{i.schedule(()=>{r.next({snapshot:s,prevKey:a})}),n==="once"&&i.schedule(()=>r.complete())},s=>{i.schedule(()=>r.error(s))}),n==="on"?{unsubscribe(){o!=null&&e.off(t,o)}}:{unsubscribe(){}}}).pipe(S(r=>{let{snapshot:o,prevKey:s}=r,a=null;return o.exists()&&(a=o.key),{type:t,payload:o,prevKey:s,key:a}}),To())}function wF(e){return typeof e=="string"}function CF(e){return typeof e.exportVal=="function"}function YC(e){return e==null}function ZC(e){return typeof e.set=="function"}function zC(e,t){return ZC(t)?t:e.ref(t)}function JC(e,t){if(wF(e))return t.stringCase();if(ZC(e))return t.firebaseCase();if(CF(e))return t.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof e}`)}function XC(e){return(YC(e)||e.length===0)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function e1(e,t,n){t=XC(t);let i=t.map(r=>Zs(e,r,"on",n));return oi(...i)}function EF(e,t,n){let i=e1(e,t).pipe(ar((r,o)=>[...r,o],[]));return IF(e,i,n)}function SF(e,t){return Zs(e,"value","on",t).pipe(S(n=>{let i;return n.payload.forEach(r=>(i=r.key,!1)),{data:n,lastKeyToLoad:i}}))}function IF(e,t,n){return SF(e,n).pipe(lr(t),S(([r,o])=>{let s=r.lastKeyToLoad,a=o.map(l=>l.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),Dd(r=>r.loadedKeys.indexOf(r.lastKeyToLoad)===-1),S(r=>r.actions))}function qC(e,t){return function(i,r){return JC(i,{stringCase:()=>e.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function TF(e){return function(n){return n?JC(n,{stringCase:()=>e.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):e.remove()}}function MF(e,t,n){return Zs(e,"value","once",n).pipe(re(i=>{let r=[C(i)];return t.forEach(o=>r.push(Zs(e,o,"on",n))),oi(...r).pipe(ar(AF,[]))}),La())}function t1(e,t){let n=e.length;for(let i=0;i<n;i++)if(e[i].payload.key===t)return i;return-1}function NF(e,t){if(YC(t))return 0;{let n=t1(e,t);return n===-1?e.length:n+1}}function AF(e,t){let{payload:n,prevKey:i,key:r}=t,o=t1(e,r),s=NF(e,i);switch(t.type){case"value":if(t.payload?.exists()){let a=null;t.payload.forEach(l=>{let c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,e=[...e,c],!1})}return e;case"child_added":if(o>-1)(e[o-1]?.key||null)!==i&&(e=e.filter(l=>l.payload.key!==n.key),e.splice(s,0,t));else{if(i==null)return[t,...e];e=e.slice(),e.splice(s,0,t)}return e;case"child_removed":return e.filter(a=>a.payload.key!==n.key);case"child_changed":return e.map(a=>a.payload.key===r?t:a);case"child_moved":if(o>-1){let a=e.splice(o,1)[0];return e=e.slice(),e.splice(s,0,a),e}return e;default:return e}}function KC(e,t,n){return t=XC(t),MF(e,t,n)}function RF(e,t){let n=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>e.ref);return{query:e,update:qC(i,"update"),set:qC(i,"set"),push:r=>i.push(r),remove:TF(i),snapshotChanges(r){return KC(e,r,n).pipe(bn)},stateChanges(r){return e1(e,r,n).pipe(bn)},auditTrail(r){return EF(e,r,n).pipe(bn)},valueChanges(r,o){return KC(e,r,n).pipe(S(a=>a.map(l=>o&&o.idField?L(_({},l.payload.val()),{[o.idField]:l.key}):l.payload.val())),bn)}}}function QC(e,t){return function(){return Zs(e,"value","on",t)}}function xF(e,t){return{query:e,snapshotChanges(){return QC(e,t.schedulers.outsideAngular)().pipe(bn)},update(n){return e.ref.update(n)},set(n){return e.ref.set(n)},remove(){return e.ref.remove()},valueChanges(){return QC(e,t.schedulers.outsideAngular)().pipe(bn,S(i=>i.payload.exists()?i.payload.val():null))}}}var OF=new D("angularfire2.realtimeDatabaseURL"),PF=new D("angularfire2.database.use-emulator"),Om=(()=>{class e{schedulers;database;constructor(n,i,r,o,s,a,l,c,u,d,h,f,p,y,w){this.schedulers=a;let M=l,q=vs(n,s,i);c&&Vp(q,s,u,h,f,p,d,y),this.database=Fc(`${q.name}.database.${r}`,"AngularFireDatabase",q.name,()=>{let F=s.runOutsideAngular(()=>q.database(r||void 0));return M&&F.useEmulator(...M),F},[M])}list(n,i){let r=this.schedulers.ngZone.runOutsideAngular(()=>zC(this.database,n)),o=r;return i&&(o=i(r)),RF(o,this)}object(n){let i=this.schedulers.ngZone.runOutsideAngular(()=>zC(this.database,n));return xF(i,this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||e)(v(Qr),v(Yr,8),v(OF,8),v(je),v(G),v(Oc),v(PF,8),v(Ob,8),v(xp,8),v(Op,8),v(Pp,8),v(kp,8),v(Fp,8),v(Lp,8),v(Ri,8))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),n1=(()=>{class e{constructor(){ze.registerVersion("angularfire",Kr.full,"rtdb-compat")}static \u0275fac=function(i){return new(i||e)};static \u0275mod=H({type:e});static \u0275inj=j({providers:[Om]})}return e})();var Nu=class e{constructor(t){this.db=t;this.refTapKieg=t.list("/products")}refTapKieg;addProduct(t){this.refTapKieg.push(t)}getProducts(){return this.refTapKieg}deleteProduct(t){this.refTapKieg.remove(t.key)}updateProduct(t){let n=t.key;delete t.key,this.refTapKieg.update(n,t)}static \u0275fac=function(n){return new(n||e)(v(Om))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})};var u1=(()=>{class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(i){return new(i||e)(ne(Rr),ne(et))}}static{this.\u0275dir=pt({type:e})}}return e})(),LF=(()=>{class e extends u1{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Tr(e)))(r||e)}})()}static{this.\u0275dir=pt({type:e,features:[bi]})}}return e})(),d1=new D("");var VF={provide:d1,useExisting:Er(()=>Pu),multi:!0};function BF(){let e=Ut()?Ut().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var jF=new D(""),Pu=(()=>{class e extends u1{constructor(n,i,r){super(n,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!BF())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(i){return new(i||e)(ne(Rr),ne(et),ne(jF,8))}}static{this.\u0275dir=pt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&gn("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Yl([VF]),bi]})}}return e})();var HF=new D(""),$F=new D("");function h1(e){return e!=null}function f1(e){return Ii(e)?ee(e):e}function p1(e){let t={};return e.forEach(n=>{t=n!=null?_(_({},t),n):t}),Object.keys(t).length===0?null:t}function g1(e,t){return t.map(n=>n(e))}function UF(e){return!e.validate}function m1(e){return e.map(t=>UF(t)?t:n=>t.validate(n))}function GF(e){if(!e)return null;let t=e.filter(h1);return t.length==0?null:function(n){return p1(g1(n,t))}}function _1(e){return e!=null?GF(m1(e)):null}function WF(e){if(!e)return null;let t=e.filter(h1);return t.length==0?null:function(n){let i=g1(n,t).map(f1);return fd(i).pipe(S(p1))}}function v1(e){return e!=null?WF(m1(e)):null}function i1(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function zF(e){return e._rawValidators}function qF(e){return e._rawAsyncValidators}function Pm(e){return e?Array.isArray(e)?e:[e]:[]}function Ru(e,t){return Array.isArray(e)?e.includes(t):e===t}function r1(e,t){let n=Pm(t);return Pm(e).forEach(r=>{Ru(n,r)||n.push(r)}),n}function o1(e,t){return Pm(t).filter(n=>!Ru(e,n))}var xu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=_1(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=v1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},km=class extends xu{get formDirective(){return null}get path(){return null}},na=class extends xu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Fm=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},KF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},OW=L(_({},KF),{"[class.ng-submitted]":"isSubmitted"}),y1=(()=>{class e extends Fm{constructor(n){super(n)}static{this.\u0275fac=function(i){return new(i||e)(ne(na,2))}}static{this.\u0275dir=pt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Or("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[bi]})}}return e})();var Js="VALID",Au="INVALID",go="PENDING",Xs="DISABLED",_o=class{},Ou=class extends _o{constructor(t,n){super(),this.value=t,this.source=n}},ea=class extends _o{constructor(t,n){super(),this.pristine=t,this.source=n}},ta=class extends _o{constructor(t,n){super(),this.touched=t,this.source=n}},mo=class extends _o{constructor(t,n){super(),this.status=t,this.source=n}};function QF(e){return(ku(e)?e.validators:e)||null}function YF(e){return Array.isArray(e)?_1(e):e||null}function ZF(e,t){return(ku(t)?t.asyncValidators:e)||null}function JF(e){return Array.isArray(e)?v1(e):e||null}function ku(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var Lm=class{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=oc(()=>this.statusReactive()),this.statusReactive=Wl(void 0),this._pristine=oc(()=>this.pristineReactive()),this.pristineReactive=Wl(!0),this._touched=oc(()=>this.touchedReactive()),this.touchedReactive=Wl(!1),this._events=new Q,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return $n(this.statusReactive)}set status(t){$n(()=>this.statusReactive.set(t))}get valid(){return this.status===Js}get invalid(){return this.status===Au}get pending(){return this.status==go}get disabled(){return this.status===Xs}get enabled(){return this.status!==Xs}get pristine(){return $n(this.pristineReactive)}set pristine(t){$n(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return $n(this.touchedReactive)}set touched(t){$n(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(r1(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(r1(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(o1(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(o1(t,this._rawAsyncValidators))}hasValidator(t){return Ru(this._rawValidators,t)}hasAsyncValidator(t){return Ru(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(L(_({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new ta(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),n&&t.emitEvent!==!1&&this._events.next(new ta(!1,i))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(L(_({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new ea(!1,i))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),n&&t.emitEvent!==!1&&this._events.next(new ea(!0,i))}markAsPending(t={}){this.status=go;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new mo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(L(_({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Xs,this.errors=null,this._forEachChild(r=>{r.disable(L(_({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Ou(this.value,i)),this._events.next(new mo(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(L(_({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Js,this._forEachChild(i=>{i.enable(L(_({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(L(_({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Js||this.status===go)&&this._runAsyncValidator(i,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Ou(this.value,n)),this._events.next(new mo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(L(_({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xs:Js}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=go,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=f1(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(t,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new mo(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,i)}_initObservables(){this.valueChanges=new ue,this.statusChanges=new ue}_calculateStatus(){return this._allControlsDisabled()?Xs:this.errors?Au:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(go)?go:this._anyControlsHaveStatus(Au)?Au:Js}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),r&&this._events.next(new ea(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new ta(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ku(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=YF(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=JF(this._rawAsyncValidators)}};var D1=new D("CallSetDisabledState",{providedIn:"root",factory:()=>Vm}),Vm="always";function XF(e,t){return[...t.path,e]}function eL(e,t,n=Vm){nL(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),iL(e,t),oL(e,t),rL(e,t),tL(e,t)}function s1(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function tL(e,t){if(t.valueAccessor.setDisabledState){let n=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function nL(e,t){let n=zF(e);t.validator!==null?e.setValidators(i1(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let i=qF(e);t.asyncValidator!==null?e.setAsyncValidators(i1(i,t.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let r=()=>e.updateValueAndValidity();s1(t._rawValidators,r),s1(t._rawAsyncValidators,r)}function iL(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&b1(e,t)})}function rL(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&b1(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function b1(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function oL(e,t){let n=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function sL(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function aL(e){return Object.getPrototypeOf(e.constructor)===LF}function lL(e,t){if(!t)return null;Array.isArray(t);let n,i,r;return t.forEach(o=>{o.constructor===Pu?n=o:aL(o)?i=o:r=o}),r||i||n||null}function a1(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function l1(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var cL=class extends Lm{constructor(t=null,n,i){super(QF(n),ZF(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ku(n)&&(n.nonNullable||n.initialValueIsDefault)&&(l1(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){a1(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){a1(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){l1(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var uL={provide:na,useExisting:Er(()=>Bm)},c1=Promise.resolve(),Bm=(()=>{class e extends na{constructor(n,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new cL,this._registered=!1,this.name="",this.update=new ue,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=lL(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),sL(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){eL(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){c1.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,r=i!==0&&rc(i);c1.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?XF(n,this._parent):[n]}static{this.\u0275fac=function(i){return new(i||e)(ne(km,9),ne(HF,10),ne($F,10),ne(d1,10),ne(mn,8),ne(D1,8))}}static{this.\u0275dir=pt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Yl([uL]),bi,vi]})}}return e})();var dL=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=j({})}}return e})();var w1=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:D1,useValue:n.callSetDisabledState??Vm}]}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=j({imports:[dL]})}}return e})();var Fu=class e{transform(t,n){return t?n?(n=n.toLowerCase(),console.log("Keres\xE9s",n),t.filter(i=>(console.log(i),i.name.toLowerCase().includes(n)||i.description.toLowerCase().includes(n)))):t:null}static \u0275fac=function(n){return new(n||e)};static \u0275pipe=Bh({name:"search",type:e,pure:!0})};function pL(e,t){if(e&1&&(se(0,"div",4),Ht(1),pe()),e&2){let n=t.$implicit;mt(),Ql(n.text)}}function gL(e,t){if(e&1){let n=Ci();$o(0),se(1,"textarea",12),Si("ngModelChange",function(r){jn(n);let o=me().$implicit,s=me();return Pr(s.newProduct[o.key],r)||(s.newProduct[o.key]=r),Hn(r)}),pe(),Uo()}if(e&2){let n=me().$implicit,i=me();mt(),Ei("ngModel",i.newProduct[n.key])}}function mL(e,t){if(e&1){let n=Ci();se(0,"input",13),Si("ngModelChange",function(r){jn(n);let o=me().$implicit,s=me();return Pr(s.newProduct[o.key],r)||(s.newProduct[o.key]=r),Hn(r)}),pe()}if(e&2){let n=me().$implicit,i=me();Ei("ngModel",i.newProduct[n.key]),Nt("type",n.type)}}function _L(e,t){if(e&1&&(se(0,"div",4),pn(1,gL,2,1,"ng-container",11)(2,mL,1,2,"ng-template",null,0,Zl),pe()),e&2){let n=t.$implicit,i=Kl(3);mt(),Nt("ngIf",n.type=="textarea")("ngIfElse",i)}}function vL(e,t){if(e&1){let n=Ci();$o(0),se(1,"textarea",12),Si("ngModelChange",function(r){jn(n);let o=me().$implicit,s=me().$implicit;return Pr(s[o.key],r)||(s[o.key]=r),Hn(r)}),pe(),Uo()}if(e&2){let n=me().$implicit,i=me().$implicit;mt(),Ei("ngModel",i[n.key])}}function yL(e,t){if(e&1){let n=Ci();se(0,"input",13),Si("ngModelChange",function(r){jn(n);let o=me().$implicit,s=me().$implicit;return Pr(s[o.key],r)||(s[o.key]=r),Hn(r)}),pe()}if(e&2){let n=me().$implicit,i=me().$implicit;Ei("ngModel",i[n.key]),Nt("type",n.type)}}function DL(e,t){if(e&1&&(se(0,"div",4),pn(1,vL,2,1,"ng-container",11)(2,yL,1,2,"ng-template",null,0,Zl),pe()),e&2){let n=t.$implicit,i=Kl(3);mt(),Nt("ngIf",n.type=="textarea")("ngIfElse",i)}}function bL(e,t){if(e&1){let n=Ci();se(0,"div",1),pn(1,DL,4,2,"div",7),se(2,"div",4)(3,"button",9),gn("click",function(){let r=jn(n).$implicit,o=me();return Hn(o.updatedProduct(r))}),Ht(4,"Ment"),pe(),se(5,"button",14),gn("click",function(){let r=jn(n).$implicit,o=me();return Hn(o.deleteProduct(r))}),Ht(6,"T\xF6r\xF6l"),pe()()()}if(e&2){let n=me();mt(),Nt("ngForOf",n.columns)}}var Lu=class e{constructor(t){this.base=t;this.base.getProducts().snapshotChanges().pipe(S(n=>n.map(i=>_({key:i.payload.key},i.payload.val())))).subscribe(n=>this.tapKiegek=n)}tapKiegek=[];newProduct={};kereses="";columns=[{key:"name",text:"N\xE9v",type:"text"},{key:"price",text:"\xC1r",type:"number"},{key:"description",text:"Le\xEDr\xE1s",type:"textarea"}];addProduct(){this.base.addProduct(this.newProduct),this.newProduct={}}updatedProduct(t){this.base.updateProduct(t)}deleteProduct(t){this.base.deleteProduct(t)}static \u0275fac=function(n){return new(n||e)(ne(Nu))};static \u0275cmp=Mt({type:e,selectors:[["app-products-list"]],decls:17,vars:7,consts:[["simainput",""],[1,"row"],[1,"col-4"],["id","kereses","type","search","placeholder","Keres\xE9s","aria-label","Search",1,"form-control",3,"ngModelChange","ngModel"],[1,"col"],["type","submit",1,"btn","btn-outline-success"],[1,"row","my-3","fw-bold"],["class","col",4,"ngFor","ngForOf"],[1,"row","my-3"],["type","button",1,"btn","btn-primary",3,"click"],["class","row",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["rows","3",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-control",3,"ngModelChange","ngModel","type"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(n,i){n&1&&(se(0,"div",1)(1,"div",2)(2,"input",3),Si("ngModelChange",function(o){return Pr(i.kereses,o)||(i.kereses=o),o}),pe()(),se(3,"div",4)(4,"button",5),Ht(5,"Keres\xE9s"),pe()()(),se(6,"div",6),pn(7,pL,2,1,"div",7),se(8,"div",4),Ht(9,"M\u0171veletek"),pe()(),se(10,"div",8),pn(11,_L,4,2,"div",7),se(12,"div",4)(13,"button",9),gn("click",function(){return i.addProduct()}),Ht(14,"Hozz\xE1ad"),pe()()(),pn(15,bL,7,1,"div",10),vf(16,"search")),n&2&&(mt(2),Ei("ngModel",i.kereses),mt(5),Nt("ngForOf",i.columns),mt(4),Nt("ngForOf",i.columns),mt(4),Nt("ngForOf",$0(16,4,i.tapKiegek,i.kereses)))},dependencies:[dD,hD,Pu,y1,Bm,Fu],styles:["#kereses[_ngcontent-%COMP%]{display:inline}"]})};var Vu=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Mt({type:e,selectors:[["app-nav"]],decls:2,vars:0,template:function(n,i){n&1&&(se(0,"p"),Ht(1,"nav works!"),pe())}})};var Bu=class e{title="TapKiegWebshop";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Mt({type:e,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(n,i){n&1&&(wi(0,"app-nav"),se(1,"div",0),wi(2,"app-products-list"),pe())},dependencies:[Lu,Vu]})};var EL=["*"];var SL=["dialog"];var E1={animation:!0,transitionTimerDelayMs:5},IL=(()=>{class e{constructor(){this.animation=E1.animation}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function TL(e){let{transitionDelay:t,transitionDuration:n}=window.getComputedStyle(e),i=parseFloat(t),r=parseFloat(n);return(i+r)*1e3}function S1(e){return typeof e=="string"}function jm(e){return e!=null}function ML(e){return e&&e.then}function I1(e){return(e||document.body).getBoundingClientRect()}function NL(e){return t=>new N(n=>{let i=s=>e.run(()=>n.next(s)),r=s=>e.run(()=>n.error(s)),o=()=>e.run(()=>n.complete());return t.subscribe({next:i,error:r,complete:o})})}var AL=()=>{},{transitionTimerDelayMs:RL}=E1,ju=new Map,Hi=(e,t,n,i)=>{let r=i.context||{},o=ju.get(t);if(o)switch(i.runningTransition){case"continue":return be;case"stop":e.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),ju.delete(t)}let s=n(t,i.animation,r)||AL;if(!i.animation||window.getComputedStyle(t).transitionProperty==="none")return e.run(()=>s()),C(void 0).pipe(NL(e));let a=new Q,l=new Q,c=a.pipe(_d(!0));ju.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});let u=TL(t);return e.runOutsideAngular(()=>{let d=ct(t,"transitionend").pipe(Re(c),we(({target:f})=>f===t)),h=pd(u+RL).pipe(Re(c));gd(h,d,l).pipe(Re(c)).subscribe(()=>{ju.delete(t),e.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};var T1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=j({})}}return e})();var M1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=j({})}}return e})();var N1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=j({})}}return e})(),A1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=j({})}}return e})();var Ez=(()=>{let e=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,t=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(e()||t()):!1})();var xL=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function R1(e){let t=Array.from(e.querySelectorAll(xL)).filter(n=>n.tabIndex!==-1);return[t[0],t[t.length-1]]}var OL=(e,t,n,i=!1)=>{e.runOutsideAngular(()=>{let r=ct(t,"focusin").pipe(Re(n),S(o=>o.target));ct(t,"keydown").pipe(Re(n),we(o=>o.key==="Tab"),lr(r)).subscribe(([o,s])=>{let[a,l]=R1(t);(s===a||s===t)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&ct(t,"click").pipe(Re(n),lr(r),S(o=>o[1])).subscribe(o=>o.focus())})};var Sz=new Date(1882,10,12),Iz=new Date(2174,10,25);var Tz=1e3*60*60*24;var Um=1080,PL=24*Um,kL=12*Um+793,Mz=29*PL+kL,Nz=11*Um+204;var x1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=j({})}}return e})();var O1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=j({})}}return e})(),FL=(()=>{class e{constructor(){this._ngbConfig=g(IL),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),vo=class{constructor(t,n,i){this.nodes=t,this.viewRef=n,this.componentRef=i}};var LL=(()=>{class e{constructor(){this._document=g(Ie)}hide(){let n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(n>0){let a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+n}px`}return r.overflow="hidden",()=>{n>0&&(r.paddingRight=s),r.overflow=o}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),VL=(()=>{class e{constructor(){this._nativeElement=g(et).nativeElement,this._zone=g(G),this._injector=g(Ce)}ngOnInit(){xr(()=>Hi(this._zone,this._nativeElement,(n,i)=>{i&&I1(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"}),{injector:this._injector,phase:en.MixedReadWrite})}hide(){return Hi(this._zone,this._nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=Mt({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){i&2&&(ql("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),Or("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Go],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return e})(),Hu=class{update(t){}close(t){}dismiss(t){}},BL=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],jL=["animation","backdropClass"],Hm=class{_applyWindowOptions(t,n){BL.forEach(i=>{jm(n[i])&&(t[i]=n[i])})}_applyBackdropOptions(t,n){jL.forEach(i=>{jm(n[i])&&(t[i]=n[i])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Re(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Re(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,n,i,r){this._windowCmptRef=t,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Q,this._dismissed=new Q,this._hidden=new Q,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(t);else{let n=this._beforeDismiss();ML(n)?n.then(i=>{i!==!1&&this._dismiss(t)},()=>{}):n!==!1&&this._dismiss(t)}}_removeModalElements(){let t=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():C(void 0);t.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Io(t,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},$m=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}($m||{}),HL=(()=>{class e{constructor(){this._document=g(Ie),this._elRef=g(et),this._zone=g(G),this._injector=g(Ce),this._closed$=new Q,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ue,this.shown=new Q,this.hidden=new Q}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":S1(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,xr(()=>this._show(),{injector:this._injector,phase:en.MixedReadWrite})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:n}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=Hi(this._zone,n,()=>n.classList.remove("show"),i),o=Hi(this._zone,this._dialogEl.nativeElement,()=>{},i),s=Io(r,o);return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){let n={animation:this.animation,runningTransition:"continue"},i=Hi(this._zone,this._elRef.nativeElement,(o,s)=>{s&&I1(o),o.classList.add("show")},n),r=Hi(this._zone,this._dialogEl.nativeElement,()=>{},n);Io(i,r).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{ct(n,"keydown").pipe(Re(this._closed$),we(r=>r.key==="Escape")).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss($m.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;ct(this._dialogEl.nativeElement,"mousedown").pipe(Re(this._closed$),ge(()=>i=!1),re(()=>ct(n,"mouseup").pipe(Re(this._closed$),ut(1))),we(({target:r})=>n===r)).subscribe(()=>{i=!0}),ct(n,"click").pipe(Re(this._closed$)).subscribe(({target:r})=>{n===r&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss($m.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){let i=n.querySelector("[ngbAutofocus]"),r=R1(n)[0];(i||r||n).focus()}}_restoreFocus(){let n=this._document.body,i=this._elWithFocus,r;i&&i.focus&&n.contains(i)?r=i:r=n,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&Hi(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=Mt({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(i&1&&j0(SL,7),i&2){let o;gf(o=mf())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){i&2&&(Ho("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),ql("modal d-block"+(r.windowClass?" "+r.windowClass:"")),Or("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Go],ngContentSelectors:EL,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){i&1&&(V0(),se(0,"div",1,0)(2,"div",2),B0(3),pe()()),i&2&&ql("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return e})(),$L=(()=>{class e{constructor(){this._applicationRef=g($t),this._injector=g(Ce),this._environmentInjector=g(xe),this._document=g(Ie),this._scrollBar=g(LL),this._activeWindowCmptHasChanged=new Q,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new ue;let n=g(G);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];OL(n,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,i,r){let o=r.container instanceof HTMLElement?r.container:jm(r.container)?this._document.querySelector(r.container):this._document.body;if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let s=new Hu;n=r.injector||n;let a=n.get(xe,null)||this._environmentInjector,l=this._getContentRef(n,a,i,s,r),c=r.backdrop!==!1?this._attachBackdrop(o):void 0,u=this._attachWindowComponent(o,l.nodes),d=new Hm(u,l,c,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(u),d.hidden.pipe(ut(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),s.close=h=>{d.close(h)},s.dismiss=h=>{d.dismiss(h)},s.update=h=>{d.update(h)},d.update(r),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),c&&c.instance&&c.changeDetectorRef.detectChanges(),u.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(i=>i.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let i=sc(VL,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),n.appendChild(i.location.nativeElement),i}_attachWindowComponent(n,i){let r=sc(HL,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),n.appendChild(r.location.nativeElement),r}_getContentRef(n,i,r,o,s){return r?r instanceof an?this._createFromTemplateRef(r,o):S1(r)?this._createFromString(r):this._createFromComponent(n,i,r,o,s):new vo([])}_createFromTemplateRef(n,i){let r={$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}},o=n.createEmbeddedView(r);return this._applicationRef.attachView(o),new vo([o.rootNodes],o)}_createFromString(n){let i=this._document.createTextNode(`${n}`);return new vo([[i]])}_createFromComponent(n,i,r,o,s){let a=Ce.create({providers:[{provide:Hu,useValue:o}],parent:n}),l=sc(r,{environmentInjector:i,elementInjector:a}),c=l.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new vo([[c]],l.hostView,l)}_setAriaHidden(n){let i=n.parentElement;i&&n!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==n&&r.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,i)=>{n?i.setAttribute("aria-hidden",n):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){let i=()=>{let r=this._modalRefs.indexOf(n);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(i,i)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{let i=this._windowCmpts.indexOf(n);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),UL=(()=>{class e{constructor(){this._injector=g(Ce),this._modalStack=g($L),this._config=g(FL)}open(n,i={}){let r=_(L(_({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,n,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),P1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=j({providers:[UL]})}}return e})();var k1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=j({})}}return e})();var F1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=j({})}}return e})();var L1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=j({})}}return e})();var V1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=j({})}}return e})();var B1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=j({})}}return e})();var j1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=j({})}}return e})();var H1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=j({})}}return e})();var $1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=j({})}}return e})();var U1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=j({})}}return e})();var Az=new D("live announcer delay",{providedIn:"root",factory:()=>100});var G1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=j({})}}return e})();var W1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=j({})}}return e})(),GL=[T1,M1,N1,A1,x1,O1,P1,k1,W1,F1,L1,V1,B1,j1,H1,$1,U1,G1],z1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=H({type:e})}static{this.\u0275inj=j({imports:[GL,T1,M1,N1,A1,x1,O1,P1,k1,W1,F1,L1,V1,B1,j1,H1,$1,U1,G1]})}}return e})();var q1={production:!1,firebaseConfig:{apiKey:"AIzaSyBTxE9z2d5zK8oOeIrSRfP-obx_grSE9H4",authDomain:"tapkiegwebshop-a0362.firebaseapp.com",databaseURL:"https://tapkiegwebshop-a0362-default-rtdb.europe-west1.firebasedatabase.app",projectId:"tapkiegwebshop-a0362",storageBucket:"tapkiegwebshop-a0362.appspot.com",messagingSenderId:"401424066769",appId:"1:401424066769:web:e2d2185bf2dce630d2fdf0",measurementId:"G-8E07PS51P9"}};var $u=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=H({type:e,bootstrap:[Bu]});static \u0275inj=j({imports:[ED,Rc,z1,w1,xb.initializeApp(q1.firebaseConfig),n1]})};CD().bootstrapModule($u,{ngZoneEventCoalescing:!0}).catch(e=>console.error(e));
